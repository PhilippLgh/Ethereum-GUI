{"version":3,"sources":["../../src/index.ts","../../../src/PackageManager/PackageManager.ts","../../../src/Fetcher/index.ts","../../../../src/Repositories/test/Mock.ts","../../src/SpecParser.ts","widgets/Row.js","../../src/Downloader.ts","../../../src/Repositories/GitHub.ts","../../../src/Repositories/Azure.ts","../../../src/Repositories/Npm.ts","../../../src/Repositories/Bintray.ts","../../../src/Repositories/Ipfs.ts","../../../src/Repositories/EthpkgRepo.ts","widgets/Spinner.js","../../../src/Repositories/FsRepo.ts","../../../src/PackageSigner/PackageSigner.ts","../../../src/jws/jws.ts","../../../src/jwk/index.ts","../../../src/jwk/jwk.ts","../../../src/PackageSigner/SignerUtils.ts","widgets/Tree.js","../../../src/utils/BrowserUtils.ts","../../../src/PackageManager/Cache.ts","../../../src/PackageManager/ISerializable.ts","../../../src/Signers/SignerManager.ts","../../../src/PackageSigner/ISigner.ts","../../../src/Signers/MetamaskSigner.ts","../../../src/Signers/GethSigner.ts","State.js","Context.js","widgets/Badge.js","components/navigation/NavItem.js","components/navigation/TopNavigation.js","components/status/StatusItem.js","components/status/StatusItems/CurrentBlockNumber.js","widgets/EthValue.js","components/status/StatusItems/GasPrice.js","components/status/StatusItems/HardforkName.js","components/status/StatusItems/NetworkId.js","widgets/Modal.js","widgets/Column.js","components/status/StatusItems/RpcServer.js","components/status/StatusItems/Currency.js","widgets/Notification.js","widgets/Address.js","components/status/StatusItems/Signer.js","components/status/StatusItems/StateTime.js","components/status/GlobalToggle.js","widgets/SyncState.js","components/status/StatusItems/Syncing.js","components/status/StatusBar.js","widgets/DateField.js","widgets/Pill.js","widgets/Gas.js","components/main/blocks/BlockListItem.js","js/Storage.js","js/DataProvider.js","components/ProviderList.js","widgets/Connectivity.js","components/main/blocks/BlockList.js","widgets/LabeledField.js","widgets/BlockTime.js","components/main/transactions/TransactionItem.js","widgets/NavButton.js","components/main/transactions/TransactionList.js","components/main/accounts/AccountListItem.js","components/main/accounts/AccountsList.js","components/main/contracts/ContractListItem.js","components/main/contracts/Contracts.js","widgets/Select.js","widgets/Switch.js","js/remote.js","components/main/contracts/Compiler.js","widgets/FileChooser.js","js/TreeWalker.js","components/main/contracts/ContractCode/JsonTreeView.js","widgets/CodeEditor.js","components/main/contracts/ContractCode/CodeTab.js","components/main/contracts/ContractCode/ContractCode.js","components/main/contracts/CreateContractView.js","components/main/accounts/AccountDetails.js","widgets/JsonView.js","components/main/contracts/TxBrowser/TransactionItem.js","widgets/Overlay.js","components/main/contracts/TxBrowser/ContractTransactionBrowser.js","components/main/contracts/ContractState.js","components/main/contracts/InteractiveConsole/ContractConsole.js","components/main/contracts/ContractDetails.js","widgets/Form.js","widgets/TextField.js","components/main/transactions/SendTransaction.js","components/main/blocks/BlockDetails.js","components/main/transactions/TransactionDetails.js","components/main/scripts/ScriptList.js","components/main/settings/Settings.js","widgets/InplaceEdit.js","components/main/addresses/AddressListItem.js","components/main/addresses/AddressList.js","components/main/network/Network.js","widgets/CopyClipboardButton.js","widgets/CommandLineSnippet.js","components/main/grid/GetGridOverlay.js","components/main/grid/VersionList.js","components/main/grid/DynamicConfigForm.js","components/main/grid/Controls.js","components/main/grid/Clients.js","components/main/grid/ClientItem.js","components/main/grid/Grid.js","components/main/client/Client.js","components/main/workflows/WorkflowListItem.js","components/main/workflows/JobListItem.js","components/main/workflows/Workflows.js","widgets/Markdown.js","widgets/Icon.js","components/main/workflows/WorkflowDetails.js","widgets/Terminal.js","components/main/workflows/JobDetails.js","AppliedRoute.js","components/main/tokens/Tokens.js","components/main/tokens/TokenDetails.js","Routes.js","App.js","serviceWorker.js","widgets/Resizable.js","components/nano/Nano.js","index.js","widgets/BackButton.js","widgets/ContainerHeader.js","widgets/Container.js","widgets/Button.js","../../../src/Fetcher/Fetcher.ts","../../../src/utils/FilenameHeuristics.ts","widgets/ListItem.js","../../../src/ENS/ens.ts","../../../src/jws/index.ts","../../../src/Signers/PrivateKeySigner.ts","widgets/Text.js","Theme.js","widgets/Clickable.js","../../../src/Repositories/RepositoryManager.ts","../../../src/PackageSigner/index.ts","../../../src/PackageManager/PackageService.ts","widgets/Tab.js","../../../src/PackageManager/ZipPackage.ts","../../../src/PackageManager/TarPackage.ts","components/main/grid/GridAPI.js","../../../src/PackageManager/IPackage.ts","../../../src/Repositories/IRepository.ts","../../../src/PackageSigner/KeyStore.ts","js/Compiler.worker.js","js/EthStateMachine/index.js","js/TxWrapper.js","components/console/Console.js","widgets/AutoCompleteField.js","components/main/scripts/CreateScript.js","components/main/tools/Tools.js","widgets/LabeledForm.js","components/main/tools/TrieViz.js","components/main/tools/Ethpkg.js","widgets/Tabs.js","../../../src/utils/PackageUtils.ts","../../src/IStateListener.ts","widgets/Pagination.js","widgets/List.js","../../src/util.ts","widgets/Error.js","../../../src/utils/FilenameUtils.ts"],"names":["p","Row","children","style","flexDirection","justifyContent","display","data","e","response","this","owner","options","Spinner","state","dimensions","undefined","width","container","getBoundingClientRect","setState","size","props","ref","c","flex","alignItems","version","viewBox","height","fill","opacity","d","attributeName","type","from","to","dur","repeatCount","Component","VERIFICATION_ERROR_MESSAGES","VERIFICATION_ERRORS","filesCalc","TreeRenderer","centered","treeContainer","values","vertically","x","y","default","translate","orientation","pathFunc","tc","React","globalState","theme","alias","time","badge","dangerous","isConnected","selectedProvider","connectionInterval","providers","name","url","provider","navItems","label","route","exclude","statusBarItems","aliases","StoreContext","createContext","withNewContext","WrappedComponent","Provider","value","withGlobalState","Consumer","val","global","Badge","backgroundColor","position","padding","borderRadius","top","right","fontSize","color","fontWeight","NavItem","hasBadge","className","key","marginLeft","marginRight","activeClassName","textDecoration","Text","TopNavigation","useTheme","items","topNav","borderBottom","map","item","StatusItem","statusBar","textTransform","paddingTop","CurrentBlockNumber","block","prices","eth","usd","eur","EthValue","selectedCurrency","changeCurrency","currencies","Object","keys","idx","findIndex","el","length","wei","unit","valueString","ethers","utils","formatUnits","weiToUnit","replace","toUpperCase","price","etherString","formatEther","indexOf","decimals","_ethers","parseFloat","toFixed","weiTo","Clickable","onClick","GasPrice","gasPrice","componentDidMount","a","getGasPrice","HardforkName","network","getNetwork","Network","networkId","networkName","chainId","Modal","visibility","show","onClose","left","zIndex","Column","RpcServer","modalOpen","openModal","handleProviderSelection","List","header","renderItem","ListItem","Currency","emitter","EventEmitter","showNotification","msg","emit","Notification","offset","timeout","setTimeout","hideNotification","on","componentWillUnmount","clearInterval","handleClick","onBlur","transition","border","boxShadow","paddingLeft","paddingRight","getTokenInfo","address","toLowerCase","icon","Address","tokenInfo","navigator","clipboard","writeText","then","console","log","err","error","alert","short","contract","useAlias","split","slice","join","text","alt","src","maxWidth","maxHeight","Signer","getSigner","signer","getAddress","StateTime","Toggle","toggle","newValue","find","option","newState","toString","SyncState","intervalHandler","isSyncing","syncInfo","startingBlock","currentBlock","highestBlock","renderSyncState","getSyncPercentage","Math","ceil","Syncing","StatusBar","createdAt","NetworkId","GlobalToggle","marginBottom","DateField","ts","relative","moment","unix","format","Pill","letterSpacing","paddingBottom","alignSelf","Gas","gas","BlockInfo","number","TxInfo","txHashes","Block","parentHash","hash","difficulty","timestamp","nonce","gasUsed","miner","transactions","flexGrow","getObjectStore","storeName","dbName","idb","upgrade","db","oldVersion","newVersion","transaction","createObjectStore","put","tx","objectStore","store","done","get","DataProvider","getAllAddresses","listAccounts","accounts","getBlocks","end","start","blocks","i","max","getBlock","push","getAllTransactionForBlock","txHash","getTransaction","getAllTransactions","getBlockNumber","latestBlock","getAllTxByContract","contractAddress","skipCache","includes","contractTransactions","getHistory","allTx","contractTx","filter","creates","getAllContracts","contractCreations","receipts","getTransactionReceipt","receipt","getDataProvider","ProviderList","elements","itemName","loadItems","processItems","dataSource","NoConnection","Container","Button","renderError","BlockList","Connectivity","reverse","LabeledField","valueEl","alignValue","styleValue","field","BlockTime","blockNumber","blockTime","message","TransactionItem","blockNumberMined","NavButton","history","withRouter","TransactionList","AccountListItem","balance","txCount","getBalance","getTransactionCount","flexBasis","AccountsList","addAccount","importAccount","enabled","loadAccounts","ContractListItem","Contracts","showPrompt","bookmarkContract","importContract","loadContracts","backButton","CustomSelect","selectedOption","onChange","hint","isMulti","o","htmlFor","marginTop","menuPortalTarget","document","body","styles","menuPortal","base","defaultValue","Switch","checked","onChecked","id","ev","target","remote","worker","Proxy","prop","args","Promise","resolve","reject","requestId","postMessage","method","arguments","addEventListener","event","result","responseId","removeEventListener","Compiler","compiler","compilerVersions","compiling","CompilerWorker","getVersions","compile","source","onData","selectOptions","errors","formattedMessage","readFile","file","reader","FileReader","onload","evt","readAsText","FileChooser","handleFiles","files","content","endsWith","JSON","parse","Visitor","node","callback","context","contextNew","childNodes","nodes","child","visit","JsonTreeView","ast","d3Tree","t1","transformer","initialContext","newNode","lastNode","root","transformTree","nodeType","attributes","Tree","displayDataTypes","enableClipboard","renderTree","CodeEditor","language","onFocus","readOnly","minHeight","xonokai","customStyle","CodeTab","hasFocus","handleChange","stringify","Tab","overflow","renderOverlay","ContractCode","selectedTab","code","abi","bytecode","contractCode","bytecodeMatch","tryLoadAbiFromEtherscan","fetch","json","catch","handleSolcArtifacts","loadArtifacts","handleCompilerData","output","contracts","evm","artifact","deployedBytecode","object","Tabs","tab","t","change","CreateContractView","handleData","deployContract","unlock","unlocked","factory","ContractFactory","deploy","AccountDetails","match","params","TypeInfo","flattenObject","ob","toReturn","hasOwnProperty","flatObject","JsonView","tree","metaInfo","path","flattenedMeta","walk","renderValue","l","depth","displayIndices","indentation","displayCommas","render","customRenderFunctions","_type","startsWith","_hex","Array","isArray","newPath","newDepth","varName","renderers","background","obj","k","parsed","parseInt","contractInterface","calledFunctionName","blockHash","confirmations","gasLimit","transactionIndex","parseTransaction","margin","boxSizing","borderTop","isSelected","borderLeft","borderRight","renderArgs","Overlay","spinner","blur","backdropFilter","ContractTransactionHistory","selectedTx","handleTransactionSelect","onSelect","isLoading","overflowY","renderTransactions","ContractState","storage","until","stateMachine","EthStateMachine","replayContractTransactions","createdAddress","handleSwitch","jsonState","onSwitch","renderJson","ContractConsole","signerAddress","contractProxy","tooltip","Console","ContractDetails","isLoadingTransactions","isPublic","isPublicNetwork","txProvider","EtherscanProvider","getProvider","loadContractTransactions","loadActiveSigner","off","handleSelectedTransaction","Interface","Contract","warn","getDefaultProvider","headerStyle","Form","TextField","suffix","disabled","required","data-shrink","font","aria-invalid","SendTransaction","amount","getTo","sendTransaction","amountString","parseEther","txRaw","BlockDetails","renderBlockDetails","TransactionDetails","renderTransactionDetails","ScriptList","scripts","CreateScript","Setting","updated","Settings","contextType","InplaceEdit","showInput","onKeyDown","focus","prevProps","prevState","userInput","placeholder","input","AddressListItem","handleSetAlias","clickable","AddressList","networkData","send","peers","peer","enode","enr","protocol","CopyClipboardButton","copyToClipboard","faPaste","CommandLineSnippet","command","VersionList","versionList","GridAPI","getVersionList","v","fileName","ClientConfiguration","setting","data-test-id","variant","fullWidth","settings","flexWrap","renderField","flags_geth","flag","toml","description","support","group","requires","SETTINGS_GROUPS","flagsToSettings","flags","flagsTable","flagTable","groups","groupName","extendFlagsTableWithGroups","parts","currentFlag","flagKey","flagValue","flagMetadata","clients","logo","profiles","deactivated","ClientItem","client","selected","borderWidth","borderStyle","borderColor","cursor","ClientConfig","selectedProfile","handleProfileChanged","profile","profileName","profileSettings","renderProfileConfig","renderSettingsConfig","Grid","selectedClient","handleClientChanged","renderMainPanel","Client","clientInfo","renderClientInfo","renderHowTo","WorkflowListItem","workflow","projectId","workflowId","updated_at","displayName","shortDescription","publisher","releaseId","publisherName","iconColor","onRunWorkflow","JobListItem","job","isRunning","isInstalled","started_at","finished_at","faCheck","Workflows","handleRunWorkflow","runWorkflow","renderGridRequired","renderTabs","searchWorkflows","getJobs","polling","isCard","Markdown","escapeHtml","library","add","faCheckSquare","faCoffee","faCircle","faSquare","faCertificate","Icon","inverse","transform","pulse","WorkflowTag","tagValue","tag","docker","mainnet","advanced","WorkflowDetails","readme","sourceCode","dockerfile","packageJson","packageSignature","getWorkflowId","fetchWorkflowInfo","fetchWorkflowPackage","getWorkflow","info","getWorkflowPackage","pkg","recoverSignature","getEntries","entries","relativePath","loadFile","loadPackageJson","ethpkg","verifyPackage","stateVar","getContent","contents","repository","author","license","grid","authorName","email","tags","signers","spacerStyle","isValid","isTrusted","renderWorkflowInfo","TerminalWrapper","_container","xterm","XTermTerminal","cols","rows","setOption","writeln","open","socketUrl","window","location","socket","WebSocket","AttachAddon","loadAddon","TerminalUI","terminalContainer","attach","JobProcessTerminal","port","attachToJobProcess","processId","overflowX","JobDetails","jobId","processes","getJobId","fetchJobDetails","fetchJobProcesses","handler","setInterval","jobs","getProcessesByJobId","renderJobDetails","C","component","cProps","rest","tokens","TokenListItem","token","Tokens","TokenDetails","prefix","useRouteMatch","AppliedRoute","exact","Tools","createProvider","newProvider","providerConfig","Web3Provider","web3","currentProvider","JsonRpcProvider","Date","now","App","interval","tryConnect","checkConnection","fontFamily","Routes","Boolean","hostname","Resizable","handleResize","getDimensions","innerWidth","innerHeight","Nano","Responsive","ReactDOM","StrictMode","getElementById","serviceWorker","ready","registration","unregister","goBack","ContainerHeader","title","BackButton","handleOnClick","stopPropagation","preventDefault","foreground","icons","r","release","dark","Themes","light","hover","onMouseOver","onMouseEnter","onMouseOut","s","request","contentType","headers","arrayBuffer","Error","api","listPackages","releases","query","registry","Registry","queryProjects","projects","workflows","buf","Buffer","Uint8Array","getPackage","proxy","module","exports","Worker","__webpack_public_path__","setAccount","vm","putAccount","Account","getAccount","runTx","txData","TxWrapper","runTxSafe","sender","contractAddressOriginal","VM","pStateManager","bind","stateManager","opcodes","opcodeListener","opcode","fee","stack","splice","execResult","gasUsedTotal","ethutil","gasRefund","exceptionError","logs","returnValue","errorType","fields","allowLess","allowZero","BN","imul","iadd","handleFocus","autoCompleteField","handleBlur","handleEnter","eval","flattened","tabIndex","autoComplete","onEnter","wordWrap","OptionListItem","isActive","onMouseLeave","OptionList","selectedIndex","_sIdx","_selectedIndex","minWidth","getTextLength","createElement","String","fromCharCode","textNode","createTextNode","appendChild","w","removeChild","getSuggestions","words","suggestions","word","suggestion","AutoCompleteField","suggestBox","keyCode","ctrlKey","displaySuggestionsFor","currentTarget","box","caretColor","outline","onKeyPress","scriptCode","runScript","createAccount","ui","button","run","InputField","tools","renderOverview","LabeledForm","Key","charCodeAt","bkey","nibbles","q","stringToNibbles","TrieViz","trie","op","currentStep","Trie","_root","onNode","nodeRef","walkController","next","onDone","_walkTrie","gotToStep","nextStep","toggleAnimation","stopAnimation","startAnimation","min","Ethpkg","changeSelectedTab","CREATE_PACKAGE_STARTED","CREATE_PACKAGE_PROGRESS","CREATE_PACKAGE_FINISHED","FlatButton","Pagination","startPolling","providedItems","stopPolling","renderHeader","renderLoading","renderItems","nextProps","fs_1"],"mappings":"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","file":"static/js/main.c8dd26a9.chunk.js","sourcesContent":["\"use strict\";\nfunction __export(m) {\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst PackageManager_1 = __importDefault(require(\"./PackageManager/PackageManager\"));\nexports.PackageManager = PackageManager_1.default;\nexports.default = new PackageManager_1.default();\nvar IStateListener_1 = require(\"./IStateListener\");\nexports.PROCESS_STATES = IStateListener_1.PROCESS_STATES;\n__export(require(\"./PackageManager/IPackage\"));\n__export(require(\"./Repositories/IRepository\"));\nvar Fetcher_1 = require(\"./Fetcher/Fetcher\");\nexports.instanceOfPackageQuery = Fetcher_1.instanceOfPackageQuery;\nvar KeyStore_1 = require(\"./PackageSigner/KeyStore\");\nexports.KeyStore = KeyStore_1.default;\nvar sdk_1 = require(\"@ianu/sdk\");\nexports.Registry = sdk_1.Registry;\n//# sourceMappingURL=index.js.map","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\n    result[\"default\"] = mod;\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst fs_1 = __importDefault(require(\"fs\"));\nconst path_1 = __importDefault(require(\"path\"));\nconst Fetcher_1 = __importDefault(require(\"../Fetcher\"));\nconst PackageSigner = __importStar(require(\"../PackageSigner\"));\nconst IRepository_1 = require(\"../Repositories/IRepository\");\nconst Fetcher_2 = require(\"../Fetcher/Fetcher\");\nconst PackageService_1 = require(\"./PackageService\");\nconst Cache_1 = require(\"./Cache\");\nconst TarPackage_1 = __importDefault(require(\"./TarPackage\"));\nconst ZipPackage_1 = __importDefault(require(\"./ZipPackage\"));\nconst util_1 = require(\"../util\");\nconst RepositoryManager_1 = __importDefault(require(\"../Repositories/RepositoryManager\"));\nconst util_2 = require(\"util\");\nconst IStateListener_1 = require(\"../IStateListener\");\nconst KeyStore_1 = __importDefault(require(\"../PackageSigner/KeyStore\"));\nconst PackageSigner_1 = require(\"../PackageSigner\");\nconst FilenameUtils_1 = require(\"../utils/FilenameUtils\");\nconst SignerManager_1 = __importDefault(require(\"../Signers/SignerManager\"));\n// browser / webpack support\nif (!fs_1.default.existsSync) {\n    fs_1.default.existsSync = () => false;\n}\n// we need to tell th ecahe how to restore persisted objects\nconst packageFactory = (info) => __awaiter(void 0, void 0, void 0, function* () {\n    const { ctor, data } = info;\n    if (ctor === undefined) {\n        return undefined;\n    }\n    if (!data) {\n        return data;\n    }\n    if (ctor === 'Object') {\n        return data;\n    }\n    // FIXME restore fileName\n    else if (ctor === 'ZipPackage') {\n        const { filePath, buffer, metadata } = data;\n        const pkg = yield new ZipPackage_1.default(filePath).loadBuffer(buffer);\n        pkg.metadata = metadata;\n        return pkg;\n    }\n    else if (ctor === 'TarPackage') {\n        const { filePath, buffer, metadata } = data;\n        const pkg = yield new TarPackage_1.default(filePath).loadBuffer(buffer);\n        pkg.metadata = metadata;\n        return pkg;\n    }\n    else {\n        throw new Error('De-serialization error: unknown ctor' + ctor);\n    }\n});\nclass PackageManager {\n    constructor(options) {\n        this.cache = new Cache_1.NoCache();\n        this.repoManager = new RepositoryManager_1.default();\n        this.signerManager = new SignerManager_1.default();\n        let cacheInit = false;\n        if (options && options.cache) {\n            if (Cache_1.instanceOfICache(options.cache)) {\n                this.cache = options.cache;\n                cacheInit = true;\n            }\n            else if (util_1.isDirSync(options.cache)) {\n                this.cache = new Cache_1.PersistentJsonCache(options.cache, packageFactory);\n                cacheInit = true;\n            }\n            else {\n                throw new Error('Invalid cache path provided: not accessible -' + options.cache);\n            }\n        }\n        if (cacheInit) {\n            this.resolve = Cache_1.withCache(this.cache, this.resolve.bind(this), (spec) => `resolve:${spec}`);\n            this.getPackage = Cache_1.withCache(this.cache, this.getPackage.bind(this));\n        }\n    }\n    info() {\n        return 'ethpkg version: ' + require('../../package.json').version;\n    }\n    addRepository(name, repo) {\n        return __awaiter(this, void 0, void 0, function* () {\n            return this.repoManager.addRepository(name, repo);\n        });\n    }\n    getRepository(name) {\n        return __awaiter(this, void 0, void 0, function* () {\n            return this.repoManager.getRepository(name);\n        });\n    }\n    listRepositories() {\n        return __awaiter(this, void 0, void 0, function* () {\n            return this.repoManager.listRepositories();\n        });\n    }\n    removeRepository(name) {\n        return __awaiter(this, void 0, void 0, function* () {\n            return this.repoManager.removeRepository(name);\n        });\n    }\n    clearCache() {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (this.cache) {\n                yield this.cache.clear();\n            }\n        });\n    }\n    createPackage(srcDirPathOrName, { type = 'tar', listener = () => { }, filePath = undefined, fileName = undefined, compressed = true, overwrite = false } = {}) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const createPackageOptions = {\n                listener: listener,\n                compress: true\n            };\n            listener(IStateListener_1.PROCESS_STATES.CREATE_PACKAGE_STARTED);\n            // TODO determine the package type e.g zip / tar based on out path\n            let pkg;\n            if (type === 'zip') {\n                pkg = yield ZipPackage_1.default.create(srcDirPathOrName, createPackageOptions);\n            }\n            else {\n                pkg = yield TarPackage_1.default.create(srcDirPathOrName, createPackageOptions);\n            }\n            if (fileName) {\n                const ext = FilenameUtils_1.getExtension(pkg.fileName);\n                pkg.fileName = `${fileName}${ext}`;\n            }\n            listener(IStateListener_1.PROCESS_STATES.CREATE_PACKAGE_FINISHED, { name: pkg.fileName, pkg });\n            if (filePath) {\n                yield pkg.writePackage(filePath, {\n                    overwrite\n                });\n            }\n            return pkg;\n        });\n    }\n    listPackages(spec, options) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const fetcher = new Fetcher_1.default(this.repoManager);\n            const releases = yield fetcher.listReleases(spec, options);\n            if (options && options.cache) {\n                if (typeof options.cache === 'string') {\n                    // FIXME fs.existsSync(options.cache)\n                }\n                else if (util_2.isArray(options.cache)) {\n                }\n            }\n            return releases;\n        });\n    }\n    resolve(spec, options) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const fetcher = new Fetcher_1.default(this.repoManager);\n            const release = yield fetcher.getRelease(spec, options);\n            return release;\n        });\n    }\n    /**\n     * Downloads a package to disk\n     * A combination of resolve, fetchPackage and verify. Steps can be specified through download options\n     */\n    downloadPackage(release, { proxy = undefined, headers = undefined, onDownloadProgress = undefined, listener = undefined, destPath = undefined, extract = false, verify = true } = {}) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const fetcher = new Fetcher_1.default(this.repoManager);\n            const buf = yield fetcher.downloadPackage(release, {\n                proxy,\n                headers,\n                onDownloadProgress,\n                listener\n            });\n            const pkg = yield PackageService_1.toPackage(buf, release); // != this.getPackage\n            // TODO if download options verify\n            if (verify) {\n                /*\n                let addressOrEnsName = undefined\n                if (verifyWith.length > 0) {\n                  let author = verifyWith[0]\n                  if (typeof author === 'string') {\n                    addressOrEnsName = author\n                  } else if ('address' in author) {\n                    addressOrEnsName = author.address\n                  }\n                }\n                */\n            }\n            if (destPath) {\n                destPath = path_1.default.resolve(destPath);\n                // FIXME handle destPath = full file path: path/to/file/my-name.tar\n                if (util_1.isDirPath(destPath)) {\n                    if (!util_1.isDirSync(destPath)) {\n                        // TODO try create dir if non-existent dir path\n                        fs_1.default.mkdirSync(destPath, {\n                            recursive: true\n                        });\n                    }\n                    destPath = path_1.default.join(destPath, release.fileName);\n                }\n                pkg.filePath = destPath;\n                yield pkg.writePackage(destPath);\n                if (pkg.metadata) {\n                    pkg.metadata.remote = false; // indicate that local version is available\n                }\n            }\n            if (extract) {\n                if (destPath && util_1.isDirSync(destPath)) {\n                    yield pkg.extract(destPath, {\n                        listener\n                    });\n                    // TODO stateListener(PROCESS_STATES.EXTRACT_FINISHED, { location, size: packageData.length, release })\n                }\n            }\n            return pkg;\n        });\n    }\n    /**\n     * Creates and returns an IPackage based on a filepath, url, or package specifier\n     */\n    getPackage(pkgSpec, options) {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (!pkgSpec) {\n                throw new Error('Invalid package specification: empty or undefined');\n            }\n            // pkgSpec is already available as buffer, File (browser), IPackage or file path => no fetch\n            if (PackageService_1.instanceOfPackageData(pkgSpec)) {\n                return PackageService_1.toPackage(pkgSpec);\n            }\n            // test for invalid file paths not handled by instanceOfPackageData()\n            if (typeof pkgSpec === 'string' && util_1.isFilePath(pkgSpec)) {\n                if (!fs_1.default.existsSync(pkgSpec)) {\n                    throw new Error(`Path does not point to valid package: \"${pkgSpec}\"`);\n                }\n            }\n            // check if the short-hand one argument form is used and extract <PackageQuery>pkgSpec from options before we try to resolve them\n            if (Fetcher_2.instanceofResolvePackageOptions(pkgSpec)) {\n                if (options) {\n                    throw new Error('ResolvePackageOptions are provided multiple times');\n                }\n                if (pkgSpec.spec === undefined) {\n                    throw new Error('No package specifier provided');\n                }\n                options = pkgSpec;\n                pkgSpec = pkgSpec.spec;\n            }\n            // try to resolve package queries to IRelease\n            if (Fetcher_2.instanceOfPackageQuery(pkgSpec)) {\n                try {\n                    const release = yield this.resolve(pkgSpec, options);\n                    // console.log('resolved to', release)\n                    if (!release) {\n                        throw new Error(`Package query \"${pkgSpec}\" could not be resolved`);\n                    }\n                    pkgSpec = release;\n                }\n                catch (error) {\n                    // TODO log error here\n                    // console.log('error during download', error)\n                    throw error;\n                }\n            }\n            // download IRelease if it does not exist in cache\n            if (IRepository_1.instanceOfIRelease(pkgSpec)) {\n                const release = pkgSpec;\n                let cachedDataPath = (options && options.cache) ? path_1.default.join(options.cache, release.fileName) : undefined;\n                // TODO write tests\n                if (options && options.cache && fs_1.default.existsSync(options.cache)) {\n                    if (cachedDataPath && fs_1.default.existsSync(cachedDataPath)) {\n                        const pkg = yield PackageService_1.toPackage(cachedDataPath);\n                        pkg.metadata = release;\n                        pkg.filePath = cachedDataPath;\n                        pkg.metadata.remote = false; // indicate that it was loaded from cache\n                        return pkg;\n                    }\n                }\n                // if cache is provided but no explicit download path we still download to cache\n                if (options && !options.destPath && options.cache) {\n                    options.destPath = options.cache;\n                }\n                const pkg = yield this.downloadPackage(release, options);\n                if (pkg.metadata && options && options.cache) {\n                    fs_1.default.writeFileSync(path_1.default.join(options.cache, `${pkg.fileName}.json`), JSON.stringify(pkg.metadata));\n                }\n                return pkg;\n            }\n            throw new Error(`Unsupported input type for package: \"${pkgSpec}\"`);\n        });\n    }\n    /**\n     * Helps to select or create a designated signing key\n     // path where to search for keys\n     */\n    getSigningKey(options = {}) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const _keyStore = new KeyStore_1.default(options.keyStore);\n            return _keyStore.getKey(options);\n        });\n    }\n    listKeys() {\n        return __awaiter(this, void 0, void 0, function* () {\n            const _keyStore = new KeyStore_1.default();\n            return _keyStore.listKeys();\n        });\n    }\n    addSigner(name, signer) {\n        return __awaiter(this, void 0, void 0, function* () {\n            this.signerManager.addSigner(name, signer);\n        });\n    }\n    listSigners() {\n        return __awaiter(this, void 0, void 0, function* () {\n            return this.signerManager.listSigners();\n        });\n    }\n    getSigner(name) {\n        return __awaiter(this, void 0, void 0, function* () {\n            return this.signerManager.getSigner(name);\n        });\n    }\n    /**\n     * Signs a package or directory\n     */\n    signPackage(pkg, privateKey, options) {\n        return __awaiter(this, void 0, void 0, function* () {\n            // TODO support all package specifier options that this.getPackage supports\n            return PackageSigner.sign(pkg, privateKey, options);\n        });\n    }\n    verifyPackage(pkg, options) {\n        return __awaiter(this, void 0, void 0, function* () {\n            return PackageSigner.verify(pkg, options);\n        });\n    }\n    /**\n     *\n     */\n    publishPackage(pkgSpec, { repository = undefined, listener = () => { }, signPackage = undefined, keyInfo = undefined, credentials = undefined } = {}) {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (!repository) {\n                throw new Error('No repository specified for upload');\n            }\n            const repo = yield this.repoManager.getRepository(repository);\n            if (!repo) {\n                throw new Error(`Repository not found for specifier: \"${JSON.stringify(repository)}\"`);\n            }\n            let pkg;\n            if (typeof pkgSpec === 'string' && util_1.isDirSync(pkgSpec)) {\n                pkg = yield this.createPackage(pkgSpec, {\n                    listener\n                });\n            }\n            else {\n                pkg = yield this.getPackage(pkgSpec, {\n                    listener\n                });\n            }\n            if (!pkg) {\n                throw new Error('Package not found or could not be created');\n            }\n            // default to signing for unsigned packages\n            const _isSigned = yield PackageSigner_1.isSigned(pkg);\n            signPackage = (typeof signPackage === undefined) ? !_isSigned : signPackage;\n            if (signPackage) {\n                if (!keyInfo) {\n                    throw new Error('Cannot sign package without keys');\n                }\n                keyInfo.listener = listener;\n                const privateKey = yield this.getSigningKey(keyInfo);\n                pkg = yield this.signPackage(pkg, privateKey, {\n                    listener\n                });\n            }\n            if (credentials && typeof repo.login === 'function') {\n                listener(IStateListener_1.PROCESS_STATES.REPOSITORY_LOGIN_STARTED);\n                const isLoggedIn = yield repo.login(credentials);\n                listener(IStateListener_1.PROCESS_STATES.REPOSITORY_LOGIN_FINISHED, { isLoggedIn: !!isLoggedIn });\n            }\n            if (typeof repo.publish !== 'function') {\n                throw new Error(`Repository \"${repository}\" does not implement publish`);\n            }\n            const result = yield repo.publish(pkg, {\n                listener\n            });\n            return result;\n        });\n    }\n}\nexports.default = PackageManager;\n//# sourceMappingURL=PackageManager.js.map","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst Fetcher_1 = __importDefault(require(\"./Fetcher\"));\nexports.default = Fetcher_1.default;\n//# sourceMappingURL=index.js.map","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst fs_1 = __importDefault(require(\"fs\"));\nconst path_1 = __importDefault(require(\"path\"));\n/**\n * Shuffles array in place.\n * @param {Array} a items An array containing the items.\n */\nfunction shuffle(a) {\n    var j, x, i;\n    for (i = a.length - 1; i > 0; i--) {\n        j = Math.floor(Math.random() * (i + 1));\n        x = a[i];\n        a[i] = a[j];\n        a[j] = x;\n    }\n    return a;\n}\nclass Mock {\n    constructor(testCase) {\n        this.name = 'MockRepository';\n        this.testCase = testCase;\n    }\n    getJson(name) {\n        try {\n            return JSON.parse(fs_1.default.readFileSync(path_1.default.join(__dirname, 'fixtures', `${name}.json`), 'utf8'));\n        }\n        catch (error) {\n            return [];\n        }\n    }\n    listReleases(options) {\n        return __awaiter(this, void 0, void 0, function* () {\n            switch (this.testCase) {\n                case 'unsorted': return this.getJson('unsorted');\n                case 'invalid': return this.getJson('invalid');\n                default: return [];\n            }\n        });\n    }\n}\nexports.default = Mock;\n//# sourceMappingURL=Mock.js.map","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst util_1 = require(\"./util\");\nconst url_1 = __importDefault(require(\"url\"));\nconst parseUrl = (urlStr) => {\n    const parsedUrl = url_1.default.parse(urlStr);\n    const { pathname, host } = parsedUrl;\n    // @ts-ignore\n    const hostParts = host.split('.');\n    hostParts.pop(); // remove top-level domain\n    let project = undefined;\n    let owner = undefined;\n    if (pathname && pathname != '/') {\n        let pathParts = pathname.split('/');\n        pathParts = pathParts.filter(p => p && p !== '');\n        owner = pathParts[0];\n        project = pathParts[1];\n    }\n    else {\n        project = hostParts[0];\n    }\n    const result = {\n        name: hostParts.pop(),\n        owner,\n        project,\n        version: undefined,\n        input: urlStr\n    };\n    return result;\n};\nclass Parser {\n    /**\n     * TODO add more unit testing for parser\n     * example: npm:@philipplgh/ethpkg@^1.2.3\n     * => <repo>:<owner>/<project>@<version>\n     * @param spec\n     */\n    static parseSpec(spec) {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (!spec)\n                throw new Error('spec cannot be parsed - spec is undefined');\n            if (util_1.isUrl(spec)) {\n                try {\n                    return parseUrl(spec);\n                }\n                catch (error) {\n                    throw new Error(`SpecParser error for \"${spec}\": ${error.message}`);\n                }\n            }\n            const getRepo = (spec) => {\n                const parts = spec.split(':');\n                return parts.length > 1 ? parts[0] : undefined;\n            };\n            const repo = getRepo(spec);\n            if (!repo) {\n                throw new Error('Malformed query');\n            }\n            spec = spec.slice(repo.length + 1);\n            const getVersion = (project) => {\n                const project_parts = project.split('@');\n                let version = project_parts.length > 1 ? project_parts[1] : undefined;\n                if (project_parts.length > 1) {\n                    project = project.substring(0, project.indexOf('@'));\n                }\n                if (version === 'latest') {\n                    version = undefined;\n                }\n                return {\n                    version,\n                    project\n                };\n            };\n            const parts = spec.split('/');\n            if (parts.length > 1) {\n                const owner = parts.shift();\n                const project = parts.join('/');\n                const { version, project: projectParsed } = getVersion(project);\n                return {\n                    input: spec,\n                    name: repo,\n                    owner,\n                    project: projectParsed,\n                    version\n                };\n            }\n            else if (parts.length === 1) {\n                const project = parts[0];\n                const { version, project: projectParsed } = getVersion(project);\n                return {\n                    input: spec,\n                    name: repo,\n                    owner: undefined,\n                    project: projectParsed,\n                    version: version\n                };\n            }\n            throw new Error(`SpecParser error: no parser found for \"${spec}\"`);\n        });\n    }\n}\nexports.default = Parser;\n//# sourceMappingURL=SpecParser.js.map","import React from 'react'\n\nexport function Row({ children, style = {} }) { \n  return <div style={{\n    flexDirection: 'row', \n    justifyContent: 'space-between',\n    display: 'flex', \n    ...style \n  }}>{ children }</div>\n}\n","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst http_1 = __importDefault(require(\"http\"));\nconst https_1 = __importDefault(require(\"https\"));\nconst url_1 = __importDefault(require(\"url\"));\nconst zlib_1 = __importDefault(require(\"zlib\"));\nconst stream_1 = __importDefault(require(\"stream\"));\nconst form_data_1 = __importDefault(require(\"form-data\"));\nclass WritableMemoryStream extends stream_1.default.Writable {\n    constructor() {\n        super();\n        this.data = [];\n        this.buffer = undefined;\n        this.data = [];\n        this.once('finish', () => {\n            // it seems that if data ony contains one item concat takes significantly longer\n            // which uncovered a race condition of stream events\n            this.buffer = this.data.length === 1 ? this.data.pop() : Buffer.concat(this.data);\n        });\n    }\n    // for 30 MB file this takes .3 sec\n    _write(chunk, enc, cb) {\n        this.data.push(chunk);\n        cb();\n    }\n}\nfunction request(method, _url, opts = {}) {\n    const parsedURL = url_1.default.parse(_url);\n    const { protocol, hostname, port, path } = parsedURL;\n    let protocolHandler = protocol === 'https:' ? https_1.default : http_1.default;\n    let stream = undefined;\n    if (opts['Content-Type'] && opts['Content-Type'] === 'multipart/form-data') {\n        let form = new form_data_1.default();\n        // FIXME filename in multipart form\n        // https://github.com/form-data/form-data#alternative-submission-methods\n        form.append('data', opts.Body, { filename: opts.fileName });\n        opts = {\n            headers: form.getHeaders()\n        };\n        stream = form;\n    }\n    else if (opts.headers && opts.headers['Content-Type'] && opts.headers['Content-Type'] === 'application/json') {\n        if (typeof opts.Body !== 'string') {\n            opts.Body = JSON.stringify(opts.Body);\n        }\n    }\n    const { Body } = opts;\n    delete opts.Body;\n    const options = Object.assign({ method,\n        protocol,\n        hostname,\n        port,\n        path }, opts);\n    return new Promise((resolve, reject) => {\n        let req = protocolHandler.request(options, res => {\n            resolve(res);\n        });\n        if (Body) {\n            req.write(Body);\n        }\n        else if (stream) {\n            stream.pipe(req);\n        }\n        req.on('error', e => {\n            reject(e);\n        });\n        req.end();\n    });\n}\nexports.request = request;\nfunction fetch(method, _url, opts = {}) {\n    return __awaiter(this, void 0, void 0, function* () {\n        const dataStream = yield request(method, _url, opts);\n        let buf = yield downloadStreamToBuffer(dataStream);\n        // TODO move logic to reqeust\n        if (dataStream.headers['content-encoding'] == 'gzip') {\n            buf = zlib_1.default.gunzipSync(buf);\n        }\n        return buf;\n    });\n}\nexports.fetch = fetch;\nfunction downloadStreamToBuffer(response, progress = (p) => { }) {\n    return __awaiter(this, void 0, void 0, function* () {\n        return new Promise((resolve, reject) => {\n            let headers = response.headers;\n            const total = parseInt(headers['content-length'] || '0', 0);\n            let completed = 0;\n            let writable = new WritableMemoryStream();\n            response.pipe(writable);\n            response.on('data', (data) => {\n                completed += data.length;\n                progress(completed / total);\n            });\n            //response.on('progress', progress);\n            response.on('error', reject);\n            // race-condition: response.on('end', () => resolve(writable.buffer))\n            writable.on('finish', () => resolve(writable.buffer));\n        });\n    });\n}\nexports.downloadStreamToBuffer = downloadStreamToBuffer;\nconst downloadPartial = (_url, start, end) => __awaiter(void 0, void 0, void 0, function* () {\n    const headers = {\n        'RANGE': `bytes=${start}-${end}`\n    };\n    const response = yield request('GET', _url, { headers });\n    // console.log('response headers partial', response.headers)\n    const buf = yield downloadStreamToBuffer(response, undefined);\n    return buf;\n});\nfunction download(_url, onProgress = (progress) => { }, redirectCount = 0, options = { parallel: 0, headers: undefined }) {\n    return __awaiter(this, void 0, void 0, function* () {\n        if (redirectCount > 5) {\n            throw new Error('too many redirects: ' + redirectCount);\n        }\n        // test for and follow redirect (GitHub)\n        const result = yield request('HEAD', _url);\n        let headers = result.headers;\n        // console.log('headers of HEAD', _url, result.statusCode, headers)\n        /**\n        server: 'nginx',\n        date: 'Fri, 30 Aug 2019 07:45:23 GMT',\n        'content-type': 'application/gzip',\n        'content-length': '35104796',\n        connection: 'close',\n        'last-modified': 'Wed, 03 Jul 2019 23:41:55 GMT',\n        'accept-ranges': 'none',\n        etag:'484a288bee3fb161004054b1ef15072f1c7e4c0606e8cbe42705cb8be5fdcf0c',\n        'x-checksum-sha1': '4405fe28b7740956fb98f3a7e9d28f6e9451d083',\n        'x-checksum-sha2': '484a288bee3fb161004054b1ef15072f1c7e4c0606e8cbe42705cb8be5fdcf0c'\n        */\n        // TODO use headers to validate checksum or cache based on etag\n        if (headers && headers['x-checksum-sha1']) {\n            // can be csv\n        }\n        if ((result.statusCode === 302 || result.statusCode === 301) && headers.location) {\n            _url = headers.location;\n            return download(_url, onProgress, redirectCount++, options);\n        }\n        // EXPERIMENTAL use parallel connections if range requests are supported\n        // TODO if content length large\n        if (options && options.parallel) {\n            if (headers['accept-ranges'] === 'bytes' && !headers.location) {\n                const contentLength = parseInt(headers['content-length'] || '0') || 0;\n                const PARALLEL_JOBS = options.parallel; // 3\n                const chunkSize = Math.floor(contentLength / PARALLEL_JOBS);\n                console.log('try to split download in', PARALLEL_JOBS, 'chunks of', chunkSize, 'bytes each');\n                const promises = Array.from({ length: PARALLEL_JOBS })\n                    .map((_, i) => {\n                    const start = chunkSize * i;\n                    const end = i === PARALLEL_JOBS - 1 ? contentLength : start + (chunkSize - 1);\n                    return downloadPartial(_url, start, end);\n                });\n                const res = yield Promise.all(promises);\n                const data = Buffer.concat(res);\n                // const dataSha1 = sha1(data)\n                return data;\n            }\n        }\n        let requestOptions;\n        if (options && options.headers) {\n            requestOptions = {\n                headers: options.headers\n            };\n        }\n        const response = yield request('GET', _url, requestOptions);\n        headers = response.headers;\n        // console.log('headers of GET', _url, result.statusCode, headers)\n        if (headers.location) {\n            _url = headers.location;\n            return download(_url, onProgress, redirectCount++, options);\n        }\n        if (response.statusCode !== 200) {\n            throw new Error('Http(s) error: response returned status code ' + response.statusCode);\n        }\n        // console.log('download', _url, redirectCount)\n        const buf = yield downloadStreamToBuffer(response, onProgress);\n        return buf;\n    });\n}\nexports.download = download;\nfunction downloadJson(_url) {\n    return __awaiter(this, void 0, void 0, function* () {\n        let response = yield download(_url);\n        response = JSON.parse(response.toString());\n        return response;\n    });\n}\nexports.downloadJson = downloadJson;\nfunction downloadToFile(filePath) {\n    // const dest = fso.createWriteStream(filePath);\n    // downloadRaw(url, dest) \n}\n//# sourceMappingURL=Downloader.js.map","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst rest_1 = require(\"@octokit/rest\");\nconst FilenameHeuristics_1 = require(\"../utils/FilenameHeuristics\");\nconst PackageUtils_1 = require(\"../utils/PackageUtils\");\nclass GitHubRepository {\n    constructor({ owner = '', project = '', auth = undefined }) {\n        this.name = 'GitHubRepository';\n        // WARNING: For unauthenticated requests, the rate limit allows for up to 60 requests per hour.\n        if (process.env.GITHUB_TOKEN && typeof process.env.GITHUB_TOKEN === 'string') {\n            // TODO make sure it works in browser\n            this.client = new rest_1.Octokit({\n                // @ts-ignore\n                auth: process.env.GITHUB_TOKEN\n            });\n        }\n        else {\n            this.client = new rest_1.Octokit({\n                auth\n            });\n        }\n        this.owner = owner;\n        this.repo = project;\n        this.toRelease = this.toRelease.bind(this);\n    }\n    _toRelease(name, tag_name, assetName, size, updated_at, browser_download_url, original) {\n        const version = FilenameHeuristics_1.extractVersionFromString(tag_name);\n        const displayVersion = FilenameHeuristics_1.versionToDisplayVersion(version);\n        const channel = FilenameHeuristics_1.extractChannelFromVersionString(version);\n        const updated_ts = Date.parse(updated_at); // return timestamp\n        return {\n            name: `${this.owner}_${this.repo}`,\n            version,\n            displayVersion,\n            channel,\n            fileName: assetName,\n            size,\n            updated_ts,\n            updated_at: PackageUtils_1.datestring(updated_ts),\n            location: browser_download_url,\n            original\n        };\n    }\n    toRelease(releaseInfo /*ReposListReleasesResponseItem*/) {\n        const { \n        /*\n        url,\n        assets_url,\n        html_url,\n        upload_url,\n        tarball_url,\n        zipball_url,\n        id,\n        node_id,\n        tag_name,\n        target_commitish,\n        name,\n        body,\n        draft,\n        prerelease,\n        created_at,\n        published_at,\n        author,\n        */\n        assets, name: releaseName, tag_name, target_commitish: branch } = releaseInfo;\n        let releases = assets.map((asset /*ReposListReleasesResponseItemAssetsItem*/) => {\n            const { browser_download_url, content_type, created_at, download_count, id, label, name: assetName, node_id, size, state, updated_at, \n            // uploader,\n            url, } = asset;\n            let releaseInfoCopy = JSON.parse(JSON.stringify(releaseInfo));\n            delete releaseInfoCopy.assets;\n            const original = {\n                releaseInfo: releaseInfoCopy,\n                asset\n            };\n            return this._toRelease(name, tag_name, assetName, size, updated_at, browser_download_url, original);\n        });\n        return releases;\n    }\n    listReleases(options) {\n        return __awaiter(this, void 0, void 0, function* () {\n            // FIXME use pagination\n            try {\n                let releaseInfo = yield this.client.repos.listReleases({\n                    owner: this.owner,\n                    repo: this.repo,\n                });\n                // convert to IRelease list\n                let releases = releaseInfo.data.map(this.toRelease).reduce((prev, cur) => {\n                    return prev.concat(cur);\n                });\n                // console.log('latest releases unsorted\\n', releases.map(r => `{ version: '${r.version}', channel: '${r.channel}' }`).slice(0, 5).join(',\\n'))\n                return releases;\n            }\n            catch (error) {\n                throw new Error('Could not retrieve release list from GitHub: ' + (error ? error.message : ''));\n                throw error;\n            }\n        });\n    }\n    publish(pkg, options) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const version = pkg.metadata ? pkg.metadata.version : FilenameHeuristics_1.extractVersionFromString(pkg.fileName) || Date.now();\n            const { data: releaseDraft } = yield this.client.repos.createRelease({\n                owner: this.owner,\n                repo: this.repo,\n                tag_name: 'v' + version,\n                name: `${pkg.fileName} - ${version}`,\n                draft: false,\n                body: 'ethpkg auto-generated release'\n            });\n            if (!releaseDraft) {\n                throw new Error('Release draft failed');\n            }\n            const fileName = pkg.fileName;\n            const contentType = fileName.endsWith('.txt') ? 'text/plain' : 'application/octet-stream';\n            const contentLength = pkg.size;\n            const githubOpts = {\n                owner: this.owner,\n                repo: this.repo,\n                release_id: releaseDraft.id,\n                url: releaseDraft.upload_url,\n                headers: {\n                    'content-type': contentType,\n                    'content-length': contentLength,\n                },\n                name: fileName,\n                data: yield pkg.toBuffer()\n            };\n            // @ts-ignore see: https://github.com/octokit/rest.js/issues/1645\n            const { data: assetResponse } = yield this.client.repos.uploadReleaseAsset(githubOpts);\n            if (!assetResponse) {\n                throw new Error('Asset upload failed');\n            }\n            const { tag_name } = releaseDraft;\n            const { name: assetName, size, updated_at, browser_download_url } = assetResponse;\n            const original = {\n                releaseDraft,\n                assetResponse\n            };\n            const release = this._toRelease(assetName, tag_name, assetName, size, updated_at, browser_download_url, original);\n            return release;\n        });\n    }\n}\nexports.default = GitHubRepository;\n//# sourceMappingURL=GitHub.js.map","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst Downloader_1 = require(\"../Downloader\");\nconst util_1 = require(\"../util\");\nconst FilenameUtils_1 = require(\"../utils/FilenameUtils\");\nconst FilenameHeuristics_1 = require(\"../utils/FilenameHeuristics\");\nconst PackageUtils_1 = require(\"../utils/PackageUtils\");\nclass AzureRepository {\n    constructor({ project }) {\n        this.name = 'AzureRepository';\n        // https://docs.microsoft.com/en-us/rest/api/storageservices/list-blobs\n        this.repositoryUrl = `https://${project}.blob.core.windows.net/builds?restype=container&comp=list`;\n        this.toRelease = this.toRelease.bind(this);\n    }\n    toRelease(releaseInfo) {\n        /* unhandled:\n          'Content-Encoding': [ '' ],\n          'Content-Language': [ '' ],\n          'Cache-Control': [ '' ],\n          'Content-Disposition': [ '' ],\n          'BlobType': [ 'BlockBlob' ],\n          'LeaseStatus': [ 'unlocked' ],\n          'LeaseState': [ 'available' ]\n        */\n        const fileName = releaseInfo.Name[0];\n        const name = FilenameUtils_1.removeExtension(fileName);\n        const Properties = releaseInfo.Properties[0];\n        const lastModified = Properties['Last-Modified'][0];\n        const etag = Properties['Etag'][0];\n        const size = Properties['Content-Length'][0];\n        const contentType = Properties['Content-Type'][0];\n        const md5 = Properties['Content-MD5'][0];\n        const version = FilenameHeuristics_1.extractVersionFromString(name);\n        const displayVersion = FilenameHeuristics_1.versionToDisplayVersion(version);\n        const channel = FilenameHeuristics_1.extractChannelFromVersionString(displayVersion);\n        // heuristics are not guaranteed to give accurate results:\n        const platform = FilenameHeuristics_1.extractPlatformFromString(name);\n        const arch = FilenameHeuristics_1.extractArchitectureFromString(name);\n        let md5AtoB = Buffer.from(md5, 'base64').toString('binary');\n        md5AtoB = md5AtoB.split('').map(char => ('0' + char.charCodeAt(0).toString(16)).slice(-2)).join('');\n        // FIXME use url parser\n        const baseUrl = this.repositoryUrl.split('?').shift();\n        const location = `${baseUrl}/${fileName}`;\n        const updated_ts = new Date(lastModified).getTime();\n        let release = {\n            name,\n            fileName,\n            version,\n            displayVersion,\n            updated_ts,\n            updated_at: PackageUtils_1.datestring(updated_ts),\n            platform,\n            arch,\n            tag: version,\n            commit: undefined,\n            size,\n            channel,\n            location: location,\n            error: undefined,\n            checksums: {\n                md5: md5AtoB\n            },\n            remote: true\n        };\n        return release;\n    }\n    listReleases(options = {}) {\n        return __awaiter(this, void 0, void 0, function* () {\n            // console.time('download')\n            let parameterizedUrl = this.repositoryUrl;\n            if (options.prefix) {\n                parameterizedUrl += `&prefix=${options.prefix}`;\n            }\n            const result = yield Downloader_1.download(parameterizedUrl);\n            // console.timeEnd('download')\n            // console.time('parse')\n            let parsed;\n            try {\n                parsed = yield util_1.parseXml(result);\n            }\n            catch (error) {\n                console.log('error: release feed could not be parsed: ', result);\n                return [];\n            }\n            // console.timeEnd('parse') // 93.232ms\n            // @ts-ignore\n            const blobs = parsed.EnumerationResults.Blobs[0].Blob;\n            if (!blobs) {\n                return [];\n            }\n            // console.time('convert')\n            let releases = blobs.map(this.toRelease);\n            // console.timeEnd('convert') // 11.369ms\n            // filter non-package assets and map signatures (.asc)\n            let mapping = {};\n            const packages = [];\n            releases.forEach((release) => {\n                const { fileName, version } = release;\n                if (!fileName)\n                    return; // ignore\n                const isExtensionSupported = FilenameUtils_1.hasPackageExtension(fileName);\n                if (isExtensionSupported && version) {\n                    packages.push(release);\n                }\n                else if (FilenameUtils_1.hasSignatureExtension(fileName)) {\n                    mapping[fileName] = release;\n                }\n                else {\n                    // console.log('ignored', fileName)\n                }\n            });\n            // 2nd iteration to apply mapping\n            packages.forEach((release) => {\n                // TODO move to utils? - hardcoded signature extension\n                // construct lookup key\n                const k = release.fileName + '.asc';\n                if (mapping[k]) {\n                    release.signature = mapping[k].location;\n                }\n            });\n            return packages;\n        });\n    }\n    static handlesSpec(spec) {\n        return undefined;\n    }\n}\nexports.default = AzureRepository;\n//# sourceMappingURL=Azure.js.map","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst Downloader_1 = require(\"../Downloader\");\nconst PackageUtils_1 = require(\"../utils/PackageUtils\");\nclass NpmRepository {\n    constructor({ owner, project }) {\n        this.name = 'NpmRepository';\n        // if owner / scope does not start with @ requests will fail\n        if (owner && !owner.startsWith('@')) {\n            owner = `@${owner}`;\n        }\n        this.owner = owner;\n        this.project = project;\n        this.toRelease = this.toRelease.bind(this);\n    }\n    toRelease(npmRelease /* package.json + extras */, time) {\n        const { name, version, description, dist, _from } = npmRelease;\n        const { integrity, shasum, tarball, fileCount, unpackedSize, 'npm-signature': signature } = dist;\n        const fileName = tarball.split('/').pop();\n        let updated_ts = undefined;\n        let updated_at = undefined;\n        if (version in time) {\n            updated_ts = Date.parse(time[version]);\n            updated_at = PackageUtils_1.datestring(updated_ts);\n        }\n        return {\n            name,\n            version,\n            displayVersion: version,\n            channel: undefined,\n            fileName,\n            updated_ts,\n            updated_at,\n            original: npmRelease,\n            // error: undefined,\n            location: tarball,\n            remote: true\n        };\n    }\n    listReleases(options) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const packageAuthor = this.owner;\n            const packageName = this.project;\n            const packageFullName = packageAuthor ? `${packageAuthor}/${packageName}` : packageName;\n            const apiEndpoint = `https://registry.npmjs.org/${packageFullName}`;\n            const parameterizedUrl = apiEndpoint;\n            const result = yield Downloader_1.downloadJson(parameterizedUrl);\n            const { versions, readme, license, bugs, author, maintainers, time } = result;\n            let releases = Object.values(versions).map(v => this.toRelease(v, time));\n            return releases;\n        });\n    }\n}\nexports.default = NpmRepository;\n//# sourceMappingURL=Npm.js.map","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst Downloader_1 = require(\"../Downloader\");\nconst PackageUtils_1 = require(\"../utils/PackageUtils\");\nconst FilenameUtils_1 = require(\"../utils/FilenameUtils\");\nclass BintrayRepository {\n    constructor({ owner, project }) {\n        this.name = 'BintrayRepository';\n        this.owner = owner;\n        const parts = project.split('/');\n        this.repo = parts[0];\n        this.package = parts[1];\n        this.toRelease = this.toRelease.bind(this);\n    }\n    toRelease(pkgInfo) {\n        const { name: nameOrg, // 'pantheon-0.8.2.tar.gz'\n        path, // 'pantheon-0.8.2.tar.gz.asc'\n        // repo, // pegasys-repo\n        // package, // pantheon\n        version, \n        // owner, // consensys\n        created, size, sha1, sha256 } = pkgInfo;\n        const name = FilenameUtils_1.removeExtension(nameOrg);\n        const displayName = name;\n        const fileName = nameOrg;\n        const commit = undefined;\n        const updated_ts = Date.parse(created);\n        const channel = undefined;\n        const location = `https://bintray.com/${this.owner}/${this.repo}/download_file?file_path=${fileName}`;\n        return {\n            name,\n            version,\n            displayVersion: version,\n            channel,\n            fileName,\n            updated_ts,\n            updated_at: PackageUtils_1.datestring(updated_ts),\n            size,\n            location,\n            error: undefined,\n            original: pkgInfo,\n            remote: true\n        };\n    }\n    listReleases(options) {\n        return __awaiter(this, void 0, void 0, function* () {\n            // https://bintray.com/docs/api/#_get_package_files does not seem to have prefix option\n            const infoUrl = `https://api.bintray.com/packages/${this.owner}/${this.repo}/${this.package}/files`;\n            const packageInfo = yield Downloader_1.downloadJson(infoUrl);\n            let releases = packageInfo\n                .map(this.toRelease);\n            // map signatures to releases\n            //TODO releases = releases.filter((r : IRelease) => !r.fileName.endsWith('.asc'))\n            return releases;\n        });\n    }\n}\nexports.default = BintrayRepository;\n//# sourceMappingURL=Bintray.js.map","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst Downloader_1 = require(\"../Downloader\");\nclass File {\n    constructor(options) {\n        this.name = options.name;\n        this.type = 'application/gzip';\n        this.lastModified = Date.now();\n        this.buffer = options.buffer;\n        this.size = this.buffer.byteLength;\n    }\n}\n/**\n * https://github.com/ipfs/go-ipfs/issues/6523\n */\nclass IpfsRepository {\n    constructor({ owner = '', project = '' } = {}) {\n        this.name = 'IpfsRepository';\n        this.owner = owner;\n        this.repo = project;\n        this.toRelease = this.toRelease.bind(this);\n    }\n    get api() {\n        return 'https://ipfs.infura.io:5001/api/v0';\n    }\n    toRelease(releaseInfo) {\n        const releases = [];\n        return releases;\n    }\n    listReleases(options) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const dirHash = ''; // TODO use service to keep track of dir\n            const endpoint = `${this.api}/dag/get?arg=${dirHash}`;\n            const packageInfo = yield Downloader_1.download(endpoint);\n            const pkgInfo = JSON.parse(packageInfo.toString());\n            // console.log('package info', pkgInfo)\n            return pkgInfo.links.map((info) => {\n                const release = {\n                    fileName: info.Name\n                };\n            });\n        });\n    }\n    publish(pkg, {} = {}) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const dirHash = ''; // TODO use service to keep track of dir\n            const endpoint = `${this.api}/add?pin=false`;\n            // const endpoint = 'https://ipfs.infura.io:5001/api/v0/add?pin=false&wrap-with-directory=true'\n            // FIXME make File object\n            const data = yield pkg.toBuffer();\n            const file = new File({\n                name: pkg.fileName,\n                // type: \"text/plain\",     // optional\n                buffer: data\n            });\n            const response = yield Downloader_1.request('POST', endpoint, {\n                'Content-Type': 'multipart/form-data',\n                Body: data,\n                fileName: pkg.fileName\n            });\n            // console.log('response', response.statusCode)\n            const resp = yield Downloader_1.downloadStreamToBuffer(response);\n            // response is line-delimited json stream (see json stream)\n            const responses = resp.toString().split('\\n').filter((l) => !!l).map((l) => JSON.parse(l));\n            // console.log('raw response', responses)\n            return {\n                fileName: pkg.fileName,\n                original: responses\n            };\n        });\n    }\n}\nexports.default = IpfsRepository;\n//# sourceMappingURL=Ipfs.js.map","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst PackageUtils_1 = require(\"../utils/PackageUtils\");\nconst sdk_1 = require(\"@ianu/sdk\");\nconst ens_1 = require(\"../ENS/ens\");\nclass EthpkgRepository {\n    constructor({ owner = '', project = '' }) {\n        this.name = 'EthpkgRepository';\n        const [spaceId, subSpace] = owner.split('-');\n        this.registryId = `${spaceId}/${subSpace}`;\n        const [userId, projectId] = project.split('/');\n        /*\n        if (!userId || !projectId) {\n          throw new Error(`Malformed project identifier: \"${project}\"`)\n        }\n        */\n        this.project = project;\n        this.toRelease = this.toRelease.bind(this);\n    }\n    toRelease(release) {\n        // console.log('release', release)\n        const pkgInfo = release.assets && release.assets.length > 0 ? release.assets[0] : { fileName: '<error>', location: undefined };\n        let { fileName, location } = pkgInfo;\n        if (location) {\n            // convert file location in downloadable url\n            location = sdk_1.Storage.getDownloadLinkForKey(location);\n        }\n        const updated_ts = release.updated_at || Date.now();\n        return {\n            name: release.name,\n            version: release.version,\n            displayVersion: release.version,\n            channel: undefined,\n            fileName,\n            updated_ts,\n            updated_at: PackageUtils_1.datestring(updated_ts),\n            location,\n            original: release\n        };\n    }\n    login(credentials) {\n        return __awaiter(this, void 0, void 0, function* () {\n            // check existing session\n            if (!credentials.privateKey) {\n                throw new Error('Invalid credentials - login with private key');\n            }\n            const { session, address } = yield sdk_1.Auth.signIn(credentials.privateKey);\n            this.session = session;\n            this.address = address;\n            return session;\n        });\n    }\n    isLoggedIn() {\n        return __awaiter(this, void 0, void 0, function* () {\n            return this.session && (yield sdk_1.Auth.hasValidSession(this.session));\n        });\n    }\n    listReleases(options) {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (!this.isLoggedIn) {\n                // TODO handle public and private repos\n            }\n            // TODO allow public key for search\n            const registry = new sdk_1.Registry(this.registryId);\n            let parts = this.project.split('/');\n            let userId = parts.shift();\n            if (!userId) {\n                throw new Error('Malformed project ID');\n            }\n            if (userId.endsWith('.eth')) {\n                let nameResolved = yield ens_1.resolveName(userId);\n                if (!nameResolved) {\n                    throw new Error(`ENS name ${userId} could not be resolved`);\n                }\n                userId = nameResolved;\n            }\n            let project = [userId, ...parts].join('/');\n            const releases = yield registry.listReleases(project);\n            return releases.map((release) => this.toRelease(release));\n        });\n    }\n    publish(pkg, options = {}) {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (!(yield this.isLoggedIn())) {\n                throw new Error('Illegal operation. Only authenticated users can publish');\n            }\n            const pkgJsonBuf = yield pkg.getContent('package.json');\n            const pkgJson = JSON.parse(pkgJsonBuf.toString());\n            const requiredFields = ['name', 'version', 'description', 'author'];\n            for (const fieldName of requiredFields) {\n                if (!pkgJson[fieldName]) {\n                    throw new Error(`Required field \"${fieldName}\" is missing from package.json`);\n                }\n            }\n            const { name, version, description, author } = pkgJson;\n            const metadata = {\n                name,\n                displayName: name,\n                version: version,\n                icon: undefined,\n                description: description,\n                shortDescription: description,\n                publisher: {\n                    name: author.name,\n                    displayName: author.name,\n                    // TODO email: author.email,\n                    address: this.address\n                }\n            };\n            const registry = new sdk_1.Registry(this.registryId, this.session);\n            const buf = yield pkg.toBuffer();\n            const result = yield registry.createRelease(metadata, [{ fileName: pkg.fileName, buffer: buf }]);\n            return this.toRelease(result);\n        });\n    }\n    static handlesSpec(spec) {\n        return spec.name && spec.name.toLowerCase() === 'ethpkg' ? spec : undefined;\n    }\n}\nexports.default = EthpkgRepository;\n//# sourceMappingURL=EthpkgRepo.js.map","import React, { Component } from 'react'\n\nexport default class Spinner extends Component {\n  state = {\n    dimensions: undefined\n  }\n  componentDidMount() {\n    const dimensions = this.container.getBoundingClientRect();\n    const { width } = dimensions\n    this.setState({\n      dimensions: {\n        width\n      }\n    });\n  }\n  render() {\n    let { size } = this.props\n    const { dimensions } = this.state\n    size = size || (dimensions ? dimensions.width * 1 : undefined)\n    const fillColor = '#08a79c'\n    return (\n      <div \n      ref={c => (this.container = c)}\n      style={{\n        display: 'flex',\n        flex: this.props.size ? 0 : 1,\n        alignItems: 'center',\n        justifyContent: 'center',\n        ...this.props.style\n      }} >\n        <svg\n          version=\"1.1\"\n          viewBox=\"0 0 32 32\"\n          width={ size || '48px'}\n          height={ size || '48px'}\n          fill={ fillColor }\n        >\n          <path\n            opacity=\".25\"\n            d=\"M16 0 A16 16 0 0 0 16 32 A16 16 0 0 0 16 0 M16 4 A12 12 0 0 1 16 28 A12 12 0 0 1 16 4\"\n          />\n          <path d=\"M16 0 A16 16 0 0 1 32 16 L28 16 A12 12 0 0 0 16 4z\">\n            <animateTransform\n              attributeName=\"transform\"\n              type=\"rotate\"\n              from=\"0 16 16\"\n              to=\"360 16 16\"\n              dur=\"0.8s\"\n              repeatCount=\"indefinite\"\n            />\n          </path>\n        </svg>\n      </div>\n    )\n  }\n}\n\n","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst fs_1 = __importDefault(require(\"fs\"));\nconst path_1 = __importDefault(require(\"path\"));\nclass FileSystemRepository {\n    constructor({ project = '' }) {\n        this.name = 'FileSystemRepository';\n        this.dirPath = project;\n    }\n    toRelease(fileName) {\n        const fullPath = path_1.default.join(this.dirPath, fileName);\n        try {\n            const data = JSON.parse(fs_1.default.readFileSync(fullPath, 'utf8'));\n            const { name, version, displayVersion, channel, fileName, updated_ts, updated_at, size, original, error, location, remote } = data;\n            return {\n                name,\n                version,\n                displayVersion,\n                channel,\n                fileName,\n                updated_ts,\n                updated_at,\n                size,\n                original,\n                error,\n                location,\n                remote // if package is available locally or only remote\n            };\n        }\n        catch (error) {\n            return {\n                fileName,\n                error: 'Could not parse metadata file'\n            };\n        }\n    }\n    /**\n     * The FS Repo expects a structure:\n     * my-package-1.0.0.tar.gz\n     * my-package-1.0.0.tar.gz.json\n     * where package and metadata are stored next to each other\n     * @param options\n     */\n    listReleases(options) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const files = fs_1.default.readdirSync(this.dirPath);\n            const releases = files.filter(f => f.endsWith('.json')).map(this.toRelease.bind(this));\n            return releases;\n        });\n    }\n}\nexports.default = FileSystemRepository;\n//# sourceMappingURL=FsRepo.js.map","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\n    result[\"default\"] = mod;\n    return result;\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst jws = __importStar(require(\"../jws\"));\nconst SignerUtils = __importStar(require(\"./SignerUtils\"));\nconst PackageService_1 = require(\"../PackageManager/PackageService\");\nconst jws_1 = require(\"../jws\");\nconst PackageUtils_1 = require(\"../utils/PackageUtils\");\nconst IStateListener_1 = require(\"../IStateListener\");\nconst ens_1 = require(\"../ENS/ens\");\nconst util_1 = require(\"../util\");\nconst PrivateKeySigner_1 = __importDefault(require(\"../Signers/PrivateKeySigner\"));\nconst VERIFICATION_ERRORS = {\n    UNSIGNED: 0,\n    UNSIGNED_BY: 1,\n    BAD_PACKAGE: 2,\n    PACKAGE_DOWNLOAD: 3,\n};\nconst VERIFICATION_ERROR_MESSAGES = {};\nVERIFICATION_ERROR_MESSAGES[VERIFICATION_ERRORS.UNSIGNED] = `Package is unsigned (signatures missing or not parsable)`;\nVERIFICATION_ERROR_MESSAGES[VERIFICATION_ERRORS.UNSIGNED_BY] = `Package does not contain a signature for:`;\nVERIFICATION_ERROR_MESSAGES[VERIFICATION_ERRORS.BAD_PACKAGE] = `Could not find or load package`;\nVERIFICATION_ERROR_MESSAGES[VERIFICATION_ERRORS.PACKAGE_DOWNLOAD] = `Could not download package`;\nconst verificationError = (errorCode, val = '') => {\n    return {\n        signers: [],\n        isValid: false,\n        isTrusted: false,\n        error: {\n            code: errorCode,\n            message: `${VERIFICATION_ERROR_MESSAGES[errorCode]} ${val}`\n        }\n    };\n};\nconst writeChecksumsJson = (pkg, payload) => __awaiter(void 0, void 0, void 0, function* () {\n    const checksumsPath = yield SignerUtils.checksumsPath(pkg);\n    const checksumsFile = PackageUtils_1.toIFile(checksumsPath, JSON.stringify(payload.data, null, 2));\n    yield pkg.addEntry(checksumsPath, checksumsFile);\n});\nconst writeSignatureEntry = (pkg, jws, address) => __awaiter(void 0, void 0, void 0, function* () {\n    // the signature file name is '_sig' || eth-address(publicKey) \n    const signaturePath = yield SignerUtils.signaturePath(address, pkg);\n    const flattenedJsonSerializationFile = PackageUtils_1.toIFile(signaturePath, JSON.stringify(jws, null, 2));\n    yield pkg.addEntry(signaturePath, flattenedJsonSerializationFile);\n});\nexports.isSigned = (pkgSpec) => __awaiter(void 0, void 0, void 0, function* () {\n    const pkg = yield PackageService_1.toPackage(pkgSpec);\n    const signatures = yield SignerUtils.getSignatureEntriesFromPackage(pkg);\n    return signatures.length > 0;\n});\nexports.isValid = (pkgSpec) => __awaiter(void 0, void 0, void 0, function* () {\n    try {\n        const verificationResult = yield exports.verify(pkgSpec);\n        return verificationResult.isValid;\n    }\n    catch (error) {\n        // TODO log with loglevel\n        return false;\n    }\n});\nconst isTrusted = (pkgSpec, publicKeyInfo) => __awaiter(void 0, void 0, void 0, function* () {\n    try {\n        const verificationResult = yield exports.verify(pkgSpec);\n        return verificationResult.isTrusted;\n    }\n    catch (error) {\n        // TODO log with loglevel\n        return false;\n    }\n});\nexports.sign = (pkgSpec, privateKey, { expiresIn = undefined, listener = () => { }, algorithm = util_1.is.browser() ? jws_1.ALGORITHMS.ETH_SIGN : jws_1.ALGORITHMS.EC_SIGN } = {}) => __awaiter(void 0, void 0, void 0, function* () {\n    let pkg;\n    try {\n        pkg = yield PackageService_1.toPackage(pkgSpec);\n    }\n    catch (error) {\n        throw new Error(VERIFICATION_ERRORS.BAD_PACKAGE);\n    }\n    let signer;\n    if (Buffer.isBuffer(privateKey)) {\n        signer = new PrivateKeySigner_1.default(privateKey);\n    }\n    else if (typeof privateKey === 'string') {\n        new PrivateKeySigner_1.default(Buffer.from(privateKey, 'hex'));\n    }\n    if (!signer) {\n        // TODO support external signers\n        throw new Error('private key / ISigner not provided or malformed');\n    }\n    const address = yield signer.getAddress();\n    // create the content to be used as the JWS Payload.\n    listener(IStateListener_1.PROCESS_STATES.CREATE_PAYLOAD_STARTED);\n    const payload = yield SignerUtils.createPayload(pkg, {\n        expiresIn\n    });\n    listener(IStateListener_1.PROCESS_STATES.CREATE_PAYLOAD_FINISHED, { payload });\n    const header = jws_1.createHeader({\n        algorithm,\n        address\n    });\n    // sign payload according to RFC7515 Section 5.1\n    listener(IStateListener_1.PROCESS_STATES.SIGNING_PAYLOAD_STARTED);\n    const flattenedJwsSerialization = yield jws.sign(payload, signer, header);\n    if (!flattenedJwsSerialization) {\n        throw new Error('jws signing failed');\n    }\n    listener(IStateListener_1.PROCESS_STATES.SIGNING_PAYLOAD_FINISHED);\n    // add entries\n    listener(IStateListener_1.PROCESS_STATES.ADDING_SIGNATURE_METADATA_STARTED);\n    yield writeChecksumsJson(pkg, payload);\n    yield writeSignatureEntry(pkg, flattenedJwsSerialization, address);\n    listener(IStateListener_1.PROCESS_STATES.ADDING_SIGNATURE_METADATA_FINISHED);\n    return pkg;\n});\n/**\n *\n * @param pkgSpec\n * @param publicKeyInfo\n */\nexports.verify = (pkgSpec, { addressOrEnsName = undefined, listener = () => { } } = {}) => __awaiter(void 0, void 0, void 0, function* () {\n    if (addressOrEnsName) {\n        if (addressOrEnsName.endsWith('.eth')) {\n            listener(IStateListener_1.PROCESS_STATES.RESOLVE_ENS_STARTED, { name: addressOrEnsName });\n            const address = yield ens_1.resolveName(addressOrEnsName);\n            if (!address) {\n                throw new Error(`ENS name \"${addressOrEnsName}\" could not be resolved!`);\n            }\n            listener(IStateListener_1.PROCESS_STATES.RESOLVE_ENS_FINISHED, { name: addressOrEnsName, address });\n            addressOrEnsName = address;\n        }\n    }\n    let pkg;\n    try {\n        pkg = yield PackageService_1.toPackage(pkgSpec);\n        if (!pkg)\n            throw new Error('Package could not be fetched for specifier: ' + pkgSpec);\n    }\n    catch (error) {\n        return verificationError(VERIFICATION_ERRORS.BAD_PACKAGE);\n    }\n    const signatures = yield SignerUtils.getSignatureEntriesFromPackage(pkg /*TODO? needs support for ens etc, publicKeyInfo*/);\n    // TODO the error that the package is unsigned if publicKey not found is misleading\n    if (signatures.length === 0) {\n        return verificationError(VERIFICATION_ERRORS.UNSIGNED);\n    }\n    // TODO handle publicKeyInfo is cert\n    // TODO handle publicKeyInfo is ens\n    listener(IStateListener_1.PROCESS_STATES.CREATE_PAYLOAD_STARTED);\n    const payload = yield SignerUtils.createPayload(pkg);\n    const { data: digests } = payload;\n    listener(IStateListener_1.PROCESS_STATES.CREATE_PAYLOAD_FINISHED, { payload });\n    // listener(PROCESS_STATES.VERIFYING_SIGNATURES_STARTED)\n    const promises = signatures.map(sig => SignerUtils.verifySignature(sig, digests, listener));\n    const verificationResults = yield Promise.all(promises);\n    // listener(PROCESS_STATES.VERIFYING_SIGNATURES_FINISHED)\n    // TODO this check can be performed before we calculate checksums etc - fail fast\n    let signatureFound = false;\n    if (addressOrEnsName) {\n        for (const verificationResult of verificationResults) {\n            const { signers } = verificationResult;\n            if (yield SignerUtils.containsSignature(signers, addressOrEnsName)) {\n                signatureFound = true;\n            }\n        }\n        if (!signatureFound) {\n            return verificationError(VERIFICATION_ERRORS.UNSIGNED_BY, addressOrEnsName);\n        }\n    }\n    /*\n    in order for a package to be verified, it\n    - MUST have at least one signature\n    - the signature MUST match the computed package digests\n    - the digests MUST NOT be empty\n    - all (valid) signatures MUST cover combined 100% of the package's contents TODO partial signatures currently not supported\n  \n    in order for a package to be trusted it\n    - MUST have a valid certificate OR ENS name\n    - with a proof of identity or signed by a trusted CA\n    - 100% of the package contents must be signed by at least one valid certificate\n    */\n    const signers = verificationResults.map(v => v.signers.pop());\n    let isValid = verificationResults.length > 0;\n    for (const verificationResult of verificationResults) {\n        isValid = isValid && verificationResult.isValid;\n    }\n    const isTrusted = isValid && signatureFound; // TODO implement cert logic\n    const verificationResult = {\n        signers,\n        isValid,\n        isTrusted,\n    };\n    return verificationResult;\n});\n//# sourceMappingURL=PackageSigner.js.map","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\n    result[\"default\"] = mod;\n    return result;\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst ethUtil = __importStar(require(\"ethereumjs-util\"));\nconst base64url_1 = __importDefault(require(\"base64url\"));\nconst PrivateKeySigner_1 = __importDefault(require(\"../Signers/PrivateKeySigner\"));\nconst jwk_1 = require(\"../jwk\");\n// we sort the payload fields to achieve determinism FIX#1\n// https://stackoverflow.com/questions/5467129/sort-javascript-object-by-key/31102605#31102605\n// https://github.com/brianloveswords/node-jws/pull/83\nexports.safeStringify = (payload) => {\n    const ordered = {};\n    Object.keys(payload).sort().forEach(function (key) {\n        ordered[key] = payload[key];\n    });\n    return JSON.stringify(ordered);\n};\nexports.ecRecover = (signatureHexStr, msg, scheme = exports.ALGORITHMS.EC_SIGN) => __awaiter(void 0, void 0, void 0, function* () {\n    // if compact [r,s] form detected \n    if (signatureHexStr.length === (64 * 2)) {\n        signatureHexStr += '1B'; // append v=27\n    }\n    const msgHash = scheme === exports.ALGORITHMS.EC_SIGN ? ethUtil.keccak256(msg) : ethUtil.hashPersonalMessage(Buffer.from(msg));\n    // fromRpcSig expects a 0x prefixed hex string\n    signatureHexStr = ethUtil.addHexPrefix(signatureHexStr);\n    const sigParams = ethUtil.fromRpcSig(signatureHexStr);\n    const recoveredPublic = ethUtil.ecrecover(msgHash, sigParams.v, sigParams.r, sigParams.s);\n    const recovered = ethUtil.pubToAddress(recoveredPublic);\n    const address = `0x${recovered.toString('hex')}`;\n    return address;\n});\nexports.ALGORITHMS = {\n    'EC_SIGN': 'ES256K',\n    'ETH_SIGN': 'ETH',\n};\n/**\n * Create the JSON object(s) containing the desired set of Header Parameters,\n * which together comprise the JOSE Header (the JWS Protected Header and/or the JWS Unprotected Header).\n */\nexports.createHeader = (options) => {\n    if (!Object.values(exports.ALGORITHMS).includes(options.algorithm)) {\n        throw new Error('Unsupported signing algorithm: ' + options.algorithm);\n    }\n    let { address } = options;\n    if (!address.startsWith('0x')) {\n        address = `0x${address}`;\n    }\n    // For a JWT object, the members of the JSON object represented by the\n    // JOSE Header describe the cryptographic operations applied to the JWT\n    // and optionally, additional properties of the JWT.  Depending upon\n    // whether the JWT is a JWS or JWE, the corresponding rules for the JOSE\n    // Header values apply.\n    // see https://tools.ietf.org/html/rfc7515#section-4.1\n    const header = {\n        // If present, it is RECOMMENDED that its value be \"JWT\"\n        // to indicate that this object is a JWT.\n        // TODO hardcoded to JWT since we are only using it for JWT. this logic should be moved to jwt module.\n        'typ': 'JWT',\n        // The \"alg\" (algorithm) Header Parameter identifies the cryptographic\n        // algorithm used to secure the JWS.  The JWS Signature value is not\n        // valid if the \"alg\" value does not represent a supported algorithm or\n        // if there is not a key for use with that algorithm associated with the\n        // party that digitally signed or MACed the content. \n        //  \"alg\" values\n        //  should either be registered in the IANA \"JSON Web Signature and\n        //  Encryption Algorithms\" registry established by [JWA] or be a value\n        //  that contains a Collision-Resistant Name.  The \"alg\" value is a case-\n        //  sensitive ASCII string containing a StringOrURI value.  This Header\n        //  Parameter MUST be present and MUST be understood and processed by\n        //  implementations.\n        // IMPORTANT: non-standard 'alg' value. see: \n        // https://tools.ietf.org/html/draft-jones-webauthn-secp256k1-00\n        // https://www.iana.org/assignments/jose/jose.xhtml#web-signature-encryption-algorithms\n        alg: options.algorithm,\n        // skip payload encoding: https://tools.ietf.org/html/rfc7797\n        b64: false,\n        crit: ['b64'],\n        // this info is quite important:\n        // https://tools.ietf.org/html/draft-jones-webauthn-secp256k1-00#section-2\n        // The \"jwk\" (JSON Web Key) Header Parameter is the public key that\n        // corresponds to the key used to digitally sign the JWS.  This key is\n        // represented as a JSON Web Key\n        jwk: jwk_1.createJsonWebKey({ address })\n        // TODO IMPORTANT: allow the use of certificates here\n    };\n    return header;\n};\n// TODO needs implementation\nconst validateHeader = () => { };\nexports.sign = (payload, signerOrPrivateKey, header) => __awaiter(void 0, void 0, void 0, function* () {\n    // turn pk buffer into ISigner if necessary\n    const signer = Buffer.isBuffer(signerOrPrivateKey) ? new PrivateKeySigner_1.default(signerOrPrivateKey) : signerOrPrivateKey;\n    /*\n    Compute the encoded header value BASE64URL(UTF8(JWS Protected Header)).\n    If the JWS Protected Header is not present (which can only happens when using\n    the JWS JSON Serialization and no \"protected\" member is present), let this value be the empty string.\n    */\n    header = header || exports.createHeader({\n        algorithm: exports.ALGORITHMS.EC_SIGN,\n        address: yield signer.getAddress()\n    });\n    const encodedHeader = base64url_1.default.encode(exports.safeStringify(header));\n    // Compute the encoded payload value BASE64URL(JWS Payload)\n    // https://tools.ietf.org/html/rfc7797\n    // step is skipped: const encodedPayload = base64url.encode(JSON.stringify(payload))\n    const encodedPayload = exports.safeStringify(payload);\n    /*\n    Compute the JWS Signature in the manner defined for the particular algorithm being used over the JWS Signing Input\n    ASCII(BASE64URL(UTF8(JWS Protected Header)) || '.' || BASE64URL(JWS Payload)).\n    The \"alg\" (algorithm) Header Parameter MUST be present in the JOSE Header, with the algorithm value\n    accurately representing the algorithm used to construct the JWS Signature.\n    */\n    const signingInput = Buffer.from(`${encodedHeader}.${encodedPayload}`);\n    let signature;\n    /**\n     * https://tools.ietf.org/id/draft-jones-json-web-signature-02.html#DefiningECDSA:\n      A JWS is signed with an ECDSA P-256 SHA-256 signature as follows:\n      Generate a digital signature of the UTF-8 representation of the JWS Signing Input using ECDSA P-256 SHA-256 with the desired private key.\n      The output will be the EC point (R, S), where R and S are unsigned integers.\n      Turn R and S into byte arrays in big endian order. Each array will be 32 bytes long.\n      Concatenate the two byte arrays in the order R and then S.\n      Base64url encode the resulting 64 byte array.\n    */\n    if (header.alg === exports.ALGORITHMS.EC_SIGN) {\n        if (!signer.ecSign) {\n            throw new Error(`Signer \"${signer.name}\" does not implement EC signing`);\n        }\n        signature = yield signer.ecSign(signingInput);\n    }\n    else if (header.alg === exports.ALGORITHMS.ETH_SIGN) {\n        if (!signer.ethSign) {\n            throw new Error(`Signer \"${signer.name}\" does not implement personal message signing`);\n        }\n        signature = yield signer.ethSign(signingInput);\n    }\n    else {\n        throw new Error('Unsupported algorithm');\n    }\n    // length 64 is according to ietf spec draft\n    // length 65 is bitcoin style\n    const isValid = !!signature && (signature.length === 64 || signature.length === 65); // TODO run checks on signature\n    if (!signature) {\n        throw new Error(`Payload could not be signed: signer \"${signer.name}\" cancelled or threw error`);\n    }\n    if (!isValid) {\n        throw new Error(`Signer \"${signer.name}\" produced an invalid signature`);\n    }\n    let address = yield signer.getAddress();\n    address = address.startsWith('0x') ? address : `0x${address}`;\n    const recoveredAddress = yield exports.ecRecover(signature.toString('hex'), signingInput.toString(), header.alg);\n    if (address.toLowerCase() !== recoveredAddress.toLowerCase()) {\n        throw new Error(`Failed to sign: recovered address does not match signer's address: ${address} vs ${recoveredAddress}`);\n    }\n    /*\n    Compute the encoded signature value BASE64URL(JWS Signature).\n    */\n    const encodedSignature = base64url_1.default.encode(signature);\n    /*\n    Create the desired serialized output.\n    The JWS JSON Serialization is described in Section 7.2.\n    */\n    const flattenedJwsSerialization = {\n        protected: encodedHeader,\n        payload,\n        signature: encodedSignature\n    };\n    return flattenedJwsSerialization;\n});\n// don't needs to be exported because verify returns the decoded token\nexports.decode = (token) => __awaiter(void 0, void 0, void 0, function* () {\n    const { protected: encodedProtectedHeader, payload, signature } = token;\n    const decodedHeader = base64url_1.default.toBuffer(encodedProtectedHeader || '').toString();\n    const decodedSignature = base64url_1.default.toBuffer(signature).toString('hex');\n    return {\n        header: JSON.parse(decodedHeader),\n        protected: decodedHeader,\n        payload,\n        signature: decodedSignature\n    };\n});\nexports.recoverAddress = (encodedToken) => __awaiter(void 0, void 0, void 0, function* () {\n    const { protected: encodedProtectedHeader } = encodedToken;\n    const decoded = yield exports.decode(encodedToken);\n    const { /*protected,*/ payload, signature } = decoded;\n    // TODO consider moving to helper\n    const encodedPayload = exports.safeStringify(payload); // NOTE: not encoded due to b64:false flag\n    const signingInput = `${encodedProtectedHeader}.${encodedPayload}`;\n    // TODO handle eth and ec\n    const address = yield exports.ecRecover(signature, signingInput);\n    return address;\n});\nexports.verify = (token, secretOrPublicKey, options) => __awaiter(void 0, void 0, void 0, function* () {\n    const decoded = yield exports.decode(token);\n    const address = yield exports.recoverAddress(token);\n    const { header } = decoded;\n    // the public key of the signature should match the one defined \n    // in the JOSE header\n    // The \"jwk\" (JSON Web Key) Header Parameter is the public key that\n    // corresponds to the key used to digitally sign the JWS. \n    const { jwk } = header;\n    if (!jwk) {\n        throw new Error('no key information present in jws header');\n    }\n    if (!jwk.eth || !jwk.eth.address) {\n        throw new Error('no eth address information present in jws header');\n    }\n    if (address.toLowerCase() === jwk.eth.address.toLowerCase()) {\n        return decoded;\n    }\n    if (Buffer.isBuffer(secretOrPublicKey)) {\n        secretOrPublicKey = secretOrPublicKey.toString();\n    }\n    // all tokens can be verified based on the jwk header without an extra public key\n    // which creates a security issue if not handled correctly\n    // see: https://mailarchive.ietf.org/arch/msg/jose/gQU_C_QURVuwmy-Q2qyVwPLQlcg\n    if (!secretOrPublicKey) {\n        return decoded;\n    }\n    if (address.toLowerCase() === secretOrPublicKey.toLowerCase()) {\n        return decoded;\n    }\n    throw new Error('jws verification failed - invalid token');\n});\n//# sourceMappingURL=jws.js.map","\"use strict\";\nfunction __export(m) {\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__export(require(\"./jwk\"));\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n// https://tools.ietf.org/html/draft-jones-webauthn-secp256k1-00#section-2\nexports.createJsonWebKey = (opts) => {\n    if (!opts.address) {\n        throw new Error('No address provided for JWK');\n    }\n    return {\n        'kty': 'EC',\n        'key_ops': [\n            'sign',\n            'verify'\n        ],\n        // EC 'extensions'\n        'crv': 'P-256K',\n        // note: most other jws apps will reject the jws without the public key info\n        // 'x': undefined,\n        // 'y': undefined,\n        // most \"account creation tools\" / wallets only process the public key internally\n        // for this reason it is very likely that we don't have access to the \"raw\" public key info\n        // moreover, when we're using external signers there is no guaranteed access to private keys\n        // which could be used to derive the public key. \n        // therefore it is best to only use the information we definitely have and optionally extend it\n        'eth': {\n            address: opts.address\n        }\n    };\n};\n//# sourceMappingURL=jwk.js.map","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\n    result[\"default\"] = mod;\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst crypto_1 = __importDefault(require(\"crypto\"));\nconst jws = __importStar(require(\"../jws\"));\nconst PackageUtils_1 = require(\"../utils/PackageUtils\");\nconst ens_1 = require(\"../ENS/ens\");\nconst IStateListener_1 = require(\"../IStateListener\");\nconst META_DIR = '_META_';\nconst SIGNATURE_PREFIX = `${META_DIR}/_sig`;\nconst shasum = (data, alg) => {\n    return crypto_1.default\n        .createHash(alg || 'sha256')\n        .update(data)\n        .digest('hex');\n};\nexports.checksumsPath = (pkg) => __awaiter(void 0, void 0, void 0, function* () {\n    const shouldPrefix = yield isNPM(pkg);\n    let prefixNpm = (shouldPrefix ? 'package/' : '');\n    return `${prefixNpm + META_DIR}/_checksums.json`;\n});\nexports.calculateDigests = (pkg, alg = 'sha512') => __awaiter(void 0, void 0, void 0, function* () {\n    const entries = yield pkg.getEntries();\n    const digests = {};\n    digests[alg] = {};\n    for (let index = 0; index < entries.length; index++) {\n        const entry = entries[index];\n        const { relativePath, file } = entry;\n        if (file.isDir) {\n            continue;\n        }\n        // skip META DIR contents\n        if (relativePath.includes(META_DIR)) {\n            continue;\n        }\n        const decompressedData = yield file.readContent('nodebuffer');\n        const checksum = shasum(decompressedData, alg);\n        digests[alg][PackageUtils_1.normalizeRelativePath(relativePath)] = checksum;\n    }\n    return digests;\n});\nconst normalizePaths = (checksums) => {\n    let normalized = {};\n    for (const filePath in checksums) {\n        normalized[PackageUtils_1.normalizeRelativePath(filePath)] = checksums[filePath];\n    }\n    return normalized;\n};\nexports.compareDigests = (digestsFile, calculatedDigests) => {\n    // calculate digests should already produce normalized paths \n    // but we should still sanitize input for compat reasons as this input might not be guaranteed\n    let checksumsFile = normalizePaths(digestsFile['sha512']);\n    let checksumsCalc = normalizePaths(calculatedDigests['sha512']);\n    let filesCalc = Object.keys(checksumsCalc);\n    let filesCheck = Object.keys(checksumsFile);\n    if (filesCalc.length !== filesCheck.length) {\n        let difference = filesCalc\n            .filter(x => !filesCheck.includes(x))\n            .concat(filesCheck.filter(x => !filesCalc.includes(x)));\n        throw new Error(`package contains more files than checksums: \\n${difference.join('\\n')} \\n\\n`);\n    }\n    for (const filePath of filesCalc) {\n        if (checksumsFile[filePath] !== checksumsCalc[filePath]) {\n            throw new Error('integrity violation at file: ' + filePath);\n        }\n    }\n    return true;\n};\nconst daysToSeconds = (days) => {\n    return days * 24 * 60 * 60;\n};\n/**\n * According to JWT Spec: (equal to timestamp)\n * A JSON numeric value representing the number of seconds from\n * 1970-01-01T00:00:00Z UTC until the specified UTC date/time,\n * ignoring leap seconds.  This is equivalent to the IEEE Std 1003.1,\n * 2013 Edition [POSIX.1] definition \"Seconds Since the Epoch\", in\n * which each day is accounted for by exactly 86400 seconds, other\n * than that non-integer values can be represented.\n */\nexports.getNumericDate = () => {\n    return Math.round((new Date()).getTime() / 1000);\n};\nconst DEFAULT_EXPIRATION_DAYS = 180;\n// TODO move to jwt\nexports.createPayload = (pkg, options = {\n    expiresIn: daysToSeconds(DEFAULT_EXPIRATION_DAYS)\n}) => __awaiter(void 0, void 0, void 0, function* () {\n    const digests = yield exports.calculateDigests(pkg);\n    const payload = {\n        'version': 1,\n        // Issuer\n        // The 'iss' (issuer) claim identifies the principal that issued the JWT\n        'iss': 'self',\n        // Issued At\n        // The 'iat' (issued at) claim identifies the time at which the JWT was issued.\n        'iat': exports.getNumericDate(),\n        // Expiration Time\n        // The 'exp' (expiration time) claim identifies the expiration time on\n        // or after which the JWT MUST NOT be accepted for processing.\n        'exp': exports.getNumericDate() + (options.expiresIn === undefined ? daysToSeconds(DEFAULT_EXPIRATION_DAYS) : options.expiresIn),\n        // 'jti' : identifier that cna help prevent replay protection not used\n        'data': digests\n    };\n    return payload;\n});\nexports.formatAddressHex = (address) => {\n    address = address.toLowerCase();\n    if (!address.startsWith('0x')) {\n        address = `0x${address}`;\n    }\n    return address;\n};\nconst isNPM = (pkg) => __awaiter(void 0, void 0, void 0, function* () {\n    const packageJson = yield pkg.getEntry('package/package.json');\n    return !!packageJson;\n});\nexports.signaturePath = (address, pkg) => __awaiter(void 0, void 0, void 0, function* () {\n    address = exports.formatAddressHex(address);\n    const shouldPrefix = yield isNPM(pkg);\n    let prefixNpm = (shouldPrefix ? 'package/' : '');\n    return `${prefixNpm + META_DIR}/_sig_${address}.json`;\n});\nexports.getJwsFromSignatureEntry = (signatureEntry, decodeToken = false) => __awaiter(void 0, void 0, void 0, function* () {\n    const signatureBuffer = yield signatureEntry.file.readContent('nodebuffer');\n    const signatureObj = JSON.parse(signatureBuffer.toString());\n    if (decodeToken) {\n        return jws.verify(signatureObj);\n    }\n    return signatureObj;\n});\nexports.verifySignature = (signatureEntry, digests, listener = () => { }) => __awaiter(void 0, void 0, void 0, function* () {\n    const encodedToken = yield exports.getJwsFromSignatureEntry(signatureEntry);\n    listener(IStateListener_1.PROCESS_STATES.VERIFY_JWS_STARTED, { signatureEntry });\n    let decodedToken;\n    try {\n        // try to \"verify\"/validate the jws:\n        // this will also verify the header's eth address against the signature's address\n        decodedToken = yield jws.verify(encodedToken);\n    }\n    catch (error) {\n        // TODO log with level\n        // jws verification failed\n        // console.log('verification error', error)\n    }\n    listener(IStateListener_1.PROCESS_STATES.VERIFY_JWS_FINISHED, { signatureEntry, decodedToken });\n    if (!decodedToken) {\n        return {\n            isValid: false,\n            isTrusted: false,\n            signers: []\n            // TODO error: provide error here\n        };\n    }\n    // verify integrity: check if files covered by signature were changed after signing\n    // by comparing digests in signature payload with newly computed digests\n    // the signature is valid if the signed hashes match the actual computed file hashes\n    listener(IStateListener_1.PROCESS_STATES.COMPARE_DIGESTS_STARTED, { signatureEntry, decodedToken });\n    let isValid = false;\n    try {\n        const { payload } = decodedToken;\n        // note we can only compare the digests but not \"issue date\" etc fields here\n        isValid = exports.compareDigests(payload.data, digests);\n    }\n    catch (error) {\n        // TODO log if verbosity level applies\n        // console.log('error: ', error)\n    }\n    listener(IStateListener_1.PROCESS_STATES.COMPARE_DIGESTS_FINISHED, { signatureEntry, decodedToken });\n    // recover address / public key\n    // TODO after jws verify we can actually use the eth address from the jws header - it is already checked against the recovered one\n    listener(IStateListener_1.PROCESS_STATES.RECOVER_SIGNATURE_ADDRESS_STARTED, { signatureEntry });\n    let recoveredAddress;\n    try {\n        recoveredAddress = yield jws.recoverAddress(encodedToken);\n    }\n    catch (error) {\n        console.log('Error during signature check', error);\n        throw error;\n    }\n    listener(IStateListener_1.PROCESS_STATES.RECOVER_SIGNATURE_ADDRESS_FINISHED, { signatureEntry });\n    isValid = isValid && !!recoveredAddress;\n    let { payload } = decodedToken;\n    let { version, iss, exp } = payload;\n    // console.log('recovered payload', payload)\n    // check if token is expired\n    exp = exp || 0;\n    // TODO use util to get the now timestamp\n    const now = Math.floor(Date.now() / 1000);\n    if (exp <= now) {\n        // token is expired\n        isValid = false;\n    }\n    // TODO provide reason why invalid\n    // TODO check signature certs\n    // TODO check filename matches scheme with contained address\n    const signers = [];\n    if (recoveredAddress) {\n        signers.push({\n            address: recoveredAddress,\n            exp,\n            certificates: []\n        });\n    }\n    const verificationResult = {\n        isValid,\n        isTrusted: false,\n        signers\n    };\n    return verificationResult;\n});\nexports.getSignatureEntriesFromPackage = (pkg, publicKeyInfo) => __awaiter(void 0, void 0, void 0, function* () {\n    if (publicKeyInfo) {\n        const _signaturePath = yield exports.signaturePath(publicKeyInfo, pkg);\n        const sig = yield pkg.getEntry(_signaturePath);\n        if (!sig) {\n            return [];\n        }\n        return [sig];\n    }\n    const signatures = (yield pkg.getEntries()).filter((pkgEntry) => pkgEntry.relativePath.includes(SIGNATURE_PREFIX));\n    return signatures;\n});\nexports.getSignature = (pkg, publicKeyInfo) => __awaiter(void 0, void 0, void 0, function* () {\n    const signatureEntries = yield exports.getSignatureEntriesFromPackage(pkg, publicKeyInfo);\n    if (signatureEntries.length !== 1) {\n        return undefined;\n    }\n    const jws = yield exports.getJwsFromSignatureEntry(signatureEntries[0]);\n    return jws;\n});\nexports.containsSignature = (signers, publicKeyInfo) => __awaiter(void 0, void 0, void 0, function* () {\n    if (typeof publicKeyInfo === 'string' && publicKeyInfo.endsWith('.eth')) {\n        const publicKeyResolved = yield ens_1.resolveName(publicKeyInfo);\n        if (publicKeyResolved === undefined) {\n            // TODO log ens error\n            return false;\n        }\n        publicKeyInfo = publicKeyResolved;\n    }\n    const result = signers.find(info => info.address.toLowerCase() === publicKeyInfo.toLowerCase());\n    return result !== undefined;\n});\n//# sourceMappingURL=SignerUtils.js.map","import React from 'react';\nimport Tree from 'react-d3-tree';\n\nexport default class TreeRenderer extends React.Component {\n  state = {}\n  componentDidMount() {\n    const { centered = 'default' } = this.props\n    const dimensions = this.treeContainer.getBoundingClientRect();\n    const values = {\n      vertically: {\n        x: 50,\n        y: dimensions.height / 2\n      },\n      default: {\n        x: dimensions.width / 2,\n        y: dimensions.height / 5 // 20%\n      }\n    }\n    this.setState({\n      translate: {\n        ...values[centered]\n      }\n    });\n  }\n  render() {\n    const { data, style, orientation = 'vertical', pathFunc='straight' } = this.props\n    const { translate } = this.state\n    return (\n      <div \n      ref={tc => (this.treeContainer = tc)}\n      style={{\n        flex: 1,\n        ...style\n      }}>\n        <Tree \n          data={data} \n          orientation={orientation}\n          pathFunc={pathFunc}\n          translate={{...translate}}\n          />\n      </div>\n    );\n  }\n}","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.readFileToBuffer = (file) => {\n    return new Promise((resolve, reject) => {\n        const reader = new FileReader();\n        reader.onload = (ev) => {\n            const arraybuf = ev.target.result;\n            const buf = Buffer.from(new Uint8Array(arraybuf));\n            resolve(buf);\n        };\n        reader.readAsArrayBuffer(file);\n    });\n};\n//# sourceMappingURL=BrowserUtils.js.map","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\n    result[\"default\"] = mod;\n    return result;\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst fs_1 = __importStar(require(\"fs\"));\nconst path_1 = __importDefault(require(\"path\"));\nconst crypto_1 = __importDefault(require(\"crypto\"));\nconst ISerializable_1 = require(\"./ISerializable\");\nexports.md5 = (data) => crypto_1.default.createHash('md5').update(data).digest('hex');\nclass ICache {\n}\nexports.ICache = ICache;\nfunction instanceOfICache(obj) {\n    return obj && typeof obj.put === 'function' && typeof obj.get === 'function' && typeof obj.has === 'function';\n}\nexports.instanceOfICache = instanceOfICache;\n// TODO specify return value\n// TODO test with multiple args\nfunction withCache(cache, fn, keyFn) {\n    return (...args) => __awaiter(this, void 0, void 0, function* () {\n        // if function to generate key is provided use it otherwise try to hash args\n        // FIXME handle functions such as listener by removing them from key\n        const key = keyFn ? keyFn(...args) : exports.md5(JSON.stringify(args));\n        if (yield cache.has(key)) {\n            // TODO based on hit/miss we can extend the cache lifetime here or load to mem\n            try {\n                return cache.get(key);\n            }\n            catch (error) {\n                // ignore errors during restore and just fallback to fetch + overwrite\n            }\n        }\n        const result = yield fn(...args);\n        yield cache.put(key, result);\n        return result;\n    });\n}\nexports.withCache = withCache;\nclass MemCache extends ICache {\n    constructor() {\n        super();\n        this.cache = {};\n    }\n    put(key, obj) {\n        return __awaiter(this, void 0, void 0, function* () {\n            this.cache[key] = obj;\n            return key;\n        });\n    }\n    keys() {\n        return Object.keys(this.cache);\n    }\n    has(key) {\n        return __awaiter(this, void 0, void 0, function* () {\n            return key in this.cache;\n        });\n    }\n    get(key) {\n        return __awaiter(this, void 0, void 0, function* () {\n            return this.cache[key];\n        });\n    }\n    clear() {\n        return __awaiter(this, void 0, void 0, function* () {\n            this.cache = {};\n        });\n    }\n}\nexports.MemCache = MemCache;\n// TODO consider using a compressed tar package as cache\n// export class PackagedCache extends ICache\n// TODO find solution for browser caching\n// TODO consider using cacache\n// TODO consider using cbor as serialization\n// TODO consider using LRU cache\nclass PersistentJsonCache extends ICache {\n    constructor(dirPath, ctor) {\n        super();\n        this.dirPath = dirPath;\n        this.ctor = ctor;\n    }\n    keyToFilepath(key) {\n        const name = `${exports.md5(key)}.json`;\n        const fullPath = path_1.default.join(this.dirPath, name);\n        return fullPath;\n    }\n    put(key, obj) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const fullPath = this.keyToFilepath(key);\n            const data = ISerializable_1.isSerializable(obj) ? (yield obj.getObjectData()) : obj;\n            const serializationInfo = {\n                data,\n                ctor: obj === undefined ? undefined : obj.constructor.name,\n                ts: Date.now()\n            };\n            const dataHash = exports.md5(JSON.stringify(serializationInfo));\n            yield fs_1.promises.writeFile(fullPath, JSON.stringify(serializationInfo));\n            return dataHash;\n        });\n    }\n    has(key) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const fullPath = this.keyToFilepath(key);\n            return fs_1.default.existsSync(fullPath);\n        });\n    }\n    get(key) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const exists = yield this.has(key);\n            if (!exists) {\n                return undefined;\n            }\n            const fullPath = this.keyToFilepath(key);\n            // console.log('load from cache', fullPath)\n            try {\n                const result = yield fs_1.promises.readFile(fullPath);\n                // json.parse does not handle nested buffers: see Cache.test\n                const data = JSON.parse(result.toString(), (key, value) => {\n                    if (value && value.type && value.type === 'Buffer') {\n                        return Buffer.from(value.data);\n                    }\n                    return value;\n                });\n                return this.ctor(data);\n            }\n            catch (error) {\n                // console.log('cache error:', error)\n                throw new Error('de-serialization error: ' + error.message);\n            }\n        });\n    }\n    clear() {\n        return __awaiter(this, void 0, void 0, function* () {\n            const files = yield fs_1.promises.readdir(this.dirPath);\n            for (const file of files) {\n                // TODO this will also effect json files that are not under the cache's control. an index would avoid this\n                if (file.endsWith('.json')) {\n                    yield fs_1.promises.unlink(path_1.default.resolve(this.dirPath, file));\n                }\n            }\n        });\n    }\n}\nexports.PersistentJsonCache = PersistentJsonCache;\nclass NoCache extends ICache {\n    put(key, obj) {\n        return __awaiter(this, void 0, void 0, function* () {\n            return key;\n        });\n    }\n    has(key) {\n        return __awaiter(this, void 0, void 0, function* () {\n            return false;\n        });\n    }\n    get(key) {\n        return __awaiter(this, void 0, void 0, function* () {\n            return undefined;\n        });\n    }\n    clear() {\n        return __awaiter(this, void 0, void 0, function* () {\n            // nothing to do\n        });\n    }\n}\nexports.NoCache = NoCache;\n//# sourceMappingURL=Cache.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction isSerializable(obj) {\n    return obj && typeof obj.getObjectData === 'function';\n}\nexports.isSerializable = isSerializable;\n//# sourceMappingURL=ISerializable.js.map","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst ISigner_1 = require(\"../PackageSigner/ISigner\");\nconst PrivateKeySigner_1 = __importDefault(require(\"./PrivateKeySigner\"));\nconst MetamaskSigner_1 = __importDefault(require(\"./MetamaskSigner\"));\nconst GethSigner_1 = __importDefault(require(\"./GethSigner\"));\nclass SignerManager {\n    constructor() {\n        this.signers = {\n            'privatekey': PrivateKeySigner_1.default,\n            'metamask': MetamaskSigner_1.default,\n            'geth': GethSigner_1.default\n        };\n        this.signerInstances = {};\n    }\n    addSigner(name, signer) {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (ISigner_1.instanceofISigner(signer)) {\n                this.signerInstances[name] = signer;\n            }\n            else {\n                this.signers[name] = signer;\n            }\n        });\n    }\n    getSigner(name) {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (name in this.signers) {\n                return new this.signers[name]();\n            }\n            if (name in this.signerInstances) {\n                return this.signerInstances[name];\n            }\n            return undefined;\n        });\n    }\n    listSigners() {\n        return __awaiter(this, void 0, void 0, function* () {\n            return [...Object.keys(this.signers), ...Object.keys(this.signerInstances)];\n        });\n    }\n    removeSigner(name) {\n        return __awaiter(this, void 0, void 0, function* () {\n            return delete this.signers[name] || delete this.signerInstances[name];\n        });\n    }\n}\nexports.default = SignerManager;\n//# sourceMappingURL=SignerManager.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction instanceofISigner(object) {\n    return typeof object === 'object' && object.type === 'signer';\n}\nexports.instanceofISigner = instanceofISigner;\n//# sourceMappingURL=ISigner.js.map","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst connect = () => __awaiter(void 0, void 0, void 0, function* () {\n    if (typeof ethereum !== 'undefined') {\n        return ethereum.enable()\n            .catch(console.error);\n    }\n    throw new Error('Cannot connect to Metamask');\n});\nclass MetamaskSigner {\n    constructor() {\n        this.name = 'Metamask';\n        this.type = 'signer';\n    }\n    getAddress(retry = true) {\n        return __awaiter(this, void 0, void 0, function* () {\n            let from = undefined;\n            try {\n                from = web3.eth.accounts[0];\n            }\n            catch (error) {\n                // ignore .. not connected? try again once\n            }\n            if (!from) {\n                yield connect();\n                if (retry) {\n                    return this.getAddress(false);\n                }\n            }\n            return from;\n        });\n    }\n    ecSign(msg) {\n        return __awaiter(this, void 0, void 0, function* () {\n            throw new Error('Unsupported Operation');\n        });\n    }\n    metamaskEthSign(msg, from) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const method = 'personal_sign';\n            const params = [msg, from];\n            try {\n                const { result: signature } = yield new Promise((resolve, reject) => {\n                    web3.currentProvider.sendAsync({ method, params, from }, function (err, data) {\n                        if (err) {\n                            return reject(err);\n                        }\n                        return resolve(data);\n                    });\n                });\n                return signature;\n            }\n            catch (error) {\n                if (error && error.code === 4001) {\n                    // user denied\n                    console.log(error.message);\n                    return undefined;\n                }\n                throw error;\n            }\n        });\n    }\n    ethSign(msg) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const address = yield this.getAddress();\n            const rpcSig = yield this.metamaskEthSign(msg.toString(), address);\n            if (rpcSig) {\n                return Buffer.from(rpcSig.slice(2), 'hex');\n            }\n            throw new Error('Could not sign');\n        });\n    }\n}\nexports.default = MetamaskSigner;\n//# sourceMappingURL=MetamaskSigner.js.map","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst Downloader_1 = require(\"../Downloader\");\n/**\n * WARNING: Use of the Geth signer to sign packages is discouraged!\n * This is mainly used for testing & to be able to compare the results of different client implementations\n */\nclass GethSigner {\n    // Note that unlock + http api results in *Error: account unlock with HTTP access is forbidden* for a good reason\n    // and needs to be explicitly allowed with '--allow-insecure-unlock'\n    constructor(address, rpc = 'http://localhost:8545') {\n        this.name = 'Geth';\n        this.type = 'signer';\n        this.id = 0;\n        // Note the address to sign with must be unlocked.\n        this.address = address;\n        this.rpcApi = rpc;\n        console.log('WARNING: Use of the Geth signer is discouraged -> it should only be used for testing');\n    }\n    getAddress() {\n        return __awaiter(this, void 0, void 0, function* () {\n            return this.address;\n        });\n    }\n    ecSign(msg) {\n        return __awaiter(this, void 0, void 0, function* () {\n            throw new Error('Unsupported Operation');\n        });\n    }\n    ethSign(msg) {\n        return __awaiter(this, void 0, void 0, function* () {\n            // https://github.com/ethereum/wiki/wiki/JSON-RPC#eth_sign\n            const rpcData = {\n                'jsonrpc': '2.0',\n                'method': 'eth_sign',\n                'params': [this.address, ('0x' + msg.toString('hex'))],\n                'id': ++this.id\n            };\n            const response = yield Downloader_1.request('POST', this.rpcApi, {\n                headers: {\n                    'Content-Type': 'application/json',\n                },\n                Body: rpcData\n            });\n            const dataBuf = yield Downloader_1.downloadStreamToBuffer(response);\n            const data = JSON.parse(dataBuf.toString());\n            const { result } = data;\n            return Buffer.from(result.slice(2), 'hex');\n        });\n    }\n}\nexports.default = GethSigner;\n//# sourceMappingURL=GethSigner.js.map","// TODO init from storage\n\nexport const globalState = {\n  theme: 'light',\n  alias: false,\n  time: 'block',\n  badge: '',\n  dangerous: false,\n  isConnected: false,\n  selectedProvider: 'Ganache', // user setting\n  connectionInterval: 2000, // test for connection every x ms\n  providers: [\n    { name: 'Geth', url: '127.0.0.1:8545' }\n   ,{ name: 'Ganache', url: '127.0.0.1:7545' }\n   ,{ name: 'Metamask', url: 'web3' }\n   // ,{ name: 'Infura', url: '' }\n  ],\n  provider: undefined, // provider instance\n  navItems: [\n    { label: 'Accounts', route: '/accounts', exclude: false },\n    { label: 'Addresses', route: '/addresses', exclude: false },\n    { label: 'Blocks', route: '/blocks', exclude: false },\n    { label: 'Transactions', route: '/transactions', exclude: false },\n    { label: 'Contracts', route: '/contracts', exclude: false },\n    /*\n    'Events',\n    'Logs',\n    */\n    { label: 'Network', route: '/network', exclude: false },\n    { label: 'Client', route: '/client', exclude: false },\n    { label: 'Workflows', route: '/workflows', exclude: false },\n    // { label: 'Tools', route: '/tools', exclude: false },\n    { label: 'Scripts', route: '/scripts', exclude: true },\n    { label: 'Settings', route: '/settings', exclude: false },\n  ],\n  statusBarItems: [\n    { name: 'provider', exclude: false },\n    { name: 'network', exclude: false },\n    { name: 'current_block', exclude: false },\n    { name: 'sync', exclude: false },\n\n    { name: 'state_time', exclude: false },\n    { name: 'gas_price', exclude: false },\n\n\n    /*\n    { name: 'hardfork', exclude: false },\n    */\n\n    { name: 'currency', exclude: false },\n    { name: 'time', exclude: false },\n    { name: 'alias', exclude: false },\n    { name: 'signer', exclude: false },\n    { name: 'theme', exclude: false }\n  ],\n  aliases: {\n  }\n }\n","import React from 'react';\nimport { globalState } from './State'\n\nexport const StoreContext = React.createContext({})\n\nexport const withNewContext = WrappedComponent => {\n  return class extends React.Component {\n    state = globalState\n    render() {\n      return (\n        <StoreContext.Provider value={this}>\n          <WrappedComponent {...this.props} />\n        </StoreContext.Provider>\n      )\n    }\n  }\n}\n\nexport const withGlobalState = WrappedComponent => {\n  return class extends React.Component {\n    render() {\n      return (\n        <StoreContext.Consumer>\n          { (val) => {\n            // console.log('render with ctx value', val)\n            return <WrappedComponent {...this.props } global={val} />\n          }}\n        </StoreContext.Consumer>\n      )\n    }\n  }\n}","import React, { Component } from 'react'\n\nexport default class Badge extends Component {\n  render() {\n    return (\n      <div style={{\n        backgroundColor: '#ff22a7e0',\n        position: 'absolute',\n        width: 10,\n        height: 10,\n        padding: 5,\n        borderRadius: 10,\n        top: 0,\n        right: 0,\n        display: 'flex',\n        justifyContent: 'center',\n        alignItems: 'center'\n      }}>\n        <span style={{\n          fontSize: '1.25rem',\n          color: 'white',\n          fontWeight: 'bold'\n        }}>!</span>\n      </div>\n    )\n  }\n}\n","import React, { Component } from 'react'\nimport Badge from '../../widgets/Badge';\nimport {\n  NavLink\n} from \"react-router-dom\"\nimport Text from '../../widgets/Text';\n\nexport default class NavItem extends Component {\n  render() {\n    const { route, label, color, hasBadge } = this.props\n    return (\n      <div className=\"NavItem\" key={route} style={{\n        position: 'relative',\n        padding: 10,\n        fontWeight: 200,\n        fontSize: '1.25rem',\n        marginLeft: 10,\n        marginRight: 10\n      }}>\n        <NavLink to={route} activeClassName=\"ActiveNav\" style={{\n          color,\n          textDecoration: 'none',\n          padding: 5\n        }}><Text>{label}</Text></NavLink>\n        { hasBadge && <Badge /> }\n      </div>\n    )\n  }\n}\n","import React, { Component } from 'react'\nimport NavItem from './NavItem'\nimport { withGlobalState } from '../../Context'\nimport { useTheme } from '../../Theme'\n\nclass TopNavigation extends Component {\n  render() {\n    const { state: globalState } = this.props.global\n    const theme = useTheme(this.props.global)\n    const { items: navItems } = this.props\n    const { isConnected } = globalState\n    return (\n      <nav className=\"TopNav\" style={{\n        backgroundColor: theme.topNav.backgroundColor,\n        padding: 5,\n        display: 'flex',\n        justifyContent: 'left',\n        borderBottom: '1px solid #c5c5c5'\n      }}>\n        {navItems.map(({ route, label }) => <NavItem \n        key={label}\n        route={route} \n        label={label} \n        hasBadge={globalState.badge === label || (label === 'Client' && !isConnected) }\n        color={theme.topNav.item.color} \n        />)}\n      </nav>\n    )\n  }\n}\n\nexport default withGlobalState(TopNavigation)\n","import React, { Component } from 'react'\nimport { withGlobalState } from '../../Context'\nimport { useTheme } from '../../Theme'\nimport Text from '../../widgets/Text'\n\nclass StatusItem extends Component {\n  render() {\n    const { label, value, global } = this.props\n    const theme = useTheme(global)\n    return (\n      <div className=\"StatusItem\">\n        <span className=\"StatusLabel\" style={{\n          color: theme.statusBar.label.color,\n          textTransform: 'uppercase',\n          fontWeight: 'bold',\n          paddingTop: 5\n        }}><Text>{ label }</Text></span>\n        <span className=\"StatusValue\" style={{\n          color: theme.statusBar.value.color\n        }}>\n          { typeof value === 'function' ? value() : value }\n        </span>\n      </div>\n    )\n  }\n}\n\nexport default withGlobalState(StatusItem)\n","import React, { Component } from 'react'\nimport StatusItem from '../StatusItem'\n\nexport default class CurrentBlockNumber extends Component {\n  render() {\n    const { block } = this.props\n    return (\n      <StatusItem label=\"Current Block\" value={block} />\n    )\n  }\n}\n","import React, { Component } from 'react'\nimport { ethers } from 'ethers'\nimport Clickable from './Clickable'\n\nconst prices = {\n  eth: 1,\n  usd: 159.59,\n  eur: 144.36\n}\n\n// TODO  move to utils\nconst weiTo = (wei, selectedCurrency) => {\n  const price = prices[selectedCurrency]\n  const etherString= ethers.utils.formatEther(wei)\n  const idx = etherString.indexOf('.')\n  const decimals = etherString.length - 1 - idx\n  // FIXME dangerous but bigNumberify('100.00') not working\n  const _ethers = parseFloat(etherString)\n  if (selectedCurrency === 'eth') {\n    return (price * _ethers).toFixed(decimals)\n  } else {\n    return (price * _ethers).toFixed(2)\n  }\n}\n\nconst weiToUnit = (wei, unit) => {\n  return ethers.utils.formatUnits(wei, unit) // as string\n}\n\nexport default class EthValue extends Component {\n  state = {\n    selectedCurrency: 'eth'\n  }\n  changeCurrency = (e) => {\n    const { selectedCurrency } = this.state\n    const currencies = Object.keys(prices)\n    const idx = currencies.findIndex(el => el === selectedCurrency)\n    this.setState({\n      selectedCurrency: currencies[(idx + 1) % currencies.length]\n    })\n  }\n  render() {\n    const { selectedCurrency } = this.state\n    const { wei, unit, style } = this.props\n\n    let valueString = ''\n    if (unit) {\n      valueString = weiToUnit(wei, unit).replace('.0', '') + ' ' + unit.toUpperCase()\n    } else {\n      valueString = weiTo(wei, selectedCurrency) + ' ' +  selectedCurrency.toUpperCase()\n    }\n    if (valueString.length > 20) {\n      valueString = '∞' + ' ' + selectedCurrency.toUpperCase()\n    }\n    return (\n      <Clickable onClick={this.changeCurrency} style={{\n        ...style\n      }}>\n        <span>\n          <span>{valueString}</span>\n        </span>\n      </Clickable>\n    )\n  }\n}\n","import React, { Component } from 'react'\nimport StatusItem from '../StatusItem'\nimport EthValue from '../../../widgets/EthValue'\n\nexport default class GasPrice extends Component {\n  state = {\n    gasPrice: -1\n  }\n  componentDidMount = async () => {\n    const { provider } = this.props\n    try {\n      const gasPrice = await provider.getGasPrice()\n      this.setState({\n        gasPrice\n      })\n    } catch (error) {\n      this.setState({\n        gasPrice: -1\n      })\n    }\n\n  }\n  render() {\n    const { gasPrice } = this.state\n    return (\n      <StatusItem label=\"Gas Price\" value={() => <EthValue wei={gasPrice} unit=\"gwei\" style={{ padding: 0}} />} />\n    )\n  }\n}\n","import React, { Component } from 'react'\nimport StatusItem from '../StatusItem'\n\nexport default class HardforkName extends Component {\n  state = {\n    network: undefined\n  }\n  componentDidMount = async () => {\n    const { provider } = this.props\n    const network = await provider.getNetwork() \n    this.setState({\n      network\n    })\n  }\n  render() {\n    return (\n      <StatusItem label=\"Hardfork\" value=\"Petersburg\" />\n    )\n  }\n}\n","import React, { Component } from 'react'\nimport StatusItem from '../StatusItem'\nimport { withGlobalState } from '../../../Context'\n\nclass Network extends Component {\n  state = {\n    networkId: 'no network',\n    networkName: ''\n  }\n  componentDidMount = async () => {\n    const { provider } = this.props\n    try {\n      const network = await provider.getNetwork() \n      const { chainId: networkId, name: networkName } = network\n      this.setState({\n        networkId,\n        networkName\n      }) \n    } catch (error) {\n      // reset\n      this.setState({\n        networkId: 'no network',\n        networkName: ''\n      }) \n    }\n  }\n  render() {\n    const { global } = this.props\n    const { state: globalState } = global\n    const { isConnected } = globalState\n    const { networkId, networkName } = this.state\n    return (\n      <StatusItem label=\"Network\" value={isConnected ? `${networkId} ${networkName ? `(${networkName})` : ''}` : 'offline' } />\n    )\n  }\n}\n\nexport default withGlobalState(Network)\n","import React, { Component } from 'react'\n\nexport default class Modal extends Component {\n  state = {\n    visibility: 'hidden'\n  } \n  render() {\n    // let { visibility = this.props.show } = this.state\n    let { show, onClose = () => {}, children } = this.props\n    let visibility = show ? 'visible' : 'hidden'\n    return (\n      <div style={{\n        position: 'fixed',\n        display: 'flex',\n        top: 0,\n        left: 0,\n        width: '100vw',\n        height: '100vh',\n        backgroundColor: '#2222227a',\n        alignItems: 'center', \n        justifyContent: 'center',\n        zIndex: 10,\n        visibility\n      }}\n      onClick={() => { \n        // TODO hide here for immediate feedback?\n        onClose() \n      }}\n      >\n        <div className=\"card\" style={{\n          backgroundColor: 'white',\n          width: 500,\n          height: 250,\n          display: 'flex',\n          visibility\n        }}>\n          { children }\n        </div>\n      </div>\n    )\n  }\n}\n","import React from 'react'\n\nexport function Column({ children, style }) { \n  return <div style={{ \n    flexDirection: 'column', \n    flex: 1,\n    display: 'flex',\n    justifyContent: 'space-between',\n    ...style \n  }}>{ children }</div>\n}\n","import React, { Component, Fragment } from 'react'\nimport StatusItem from '../StatusItem'\nimport Clickable from '../../../widgets/Clickable'\nimport Modal from '../../../widgets/Modal'\nimport { Column } from '../../../widgets/Column'\nimport List from '../../../widgets/List'\nimport ListItem from '../../../widgets/ListItem'\nimport { withGlobalState } from '../../../Context'\n\nclass RpcServer extends Component {\n  state = {\n    modalOpen: false\n  }\n  openModal = () => {\n    this.setState({\n      modalOpen: true\n    })\n  }\n  handleProviderSelection = ({ name, url }) => {\n    const { global } = this.props\n    // completely reset connection here. will be re-created in App.js\n    global.setState({\n      selectedProvider: name,\n      provider: undefined,\n      isConnected: false\n    })\n    this.setState({\n      modalOpen: false\n    })\n  }\n  render() {\n    const { modalOpen } = this.state\n    const { global } = this.props\n    const { state: globalState } = global\n    const { provider, providers, selectedProvider } = globalState\n\n    return (\n      <Fragment>\n        <Clickable onClick={this.openModal} style={{ paddingTop: 0 }}>\n          <StatusItem label=\"Provider\" value={ selectedProvider } />\n        </Clickable>\n        <Modal show={modalOpen} onClose={() => this.setState({ modalOpen: false })}>\n          <Column style={{\n            padding: 20,\n            justifyContent: 'normal'\n          }}>\n            <h2>Select your provider</h2>\n            <List\n              header={ false }\n              items={providers}\n              renderItem={provider => <ListItem key={provider.name} onClick={() => this.handleProviderSelection(provider)} style={{ fontSize: '1.25rem', padding: 10 }}>{`${provider.name} - ${provider.url}`} </ListItem> }\n            />\n          </Column>\n        </Modal>\n      </Fragment>\n    )\n  }\n}\n\nexport default withGlobalState(RpcServer)\n","import React, { Component } from 'react'\nimport StatusItem from '../StatusItem'\n\nexport default class Currency extends Component {\n  render() {\n    return (\n      <StatusItem label={\"Currency\"} value=\"ETH\" />\n    )\n  }\n}\n","import React, { Component } from 'react'\nimport { EventEmitter } from 'events'\n\nconst emitter = new EventEmitter()\n\nexport const showNotification = (msg, options) => {\n  emitter.emit('show', msg, options)\n}\n\nexport default class Notification extends Component {\n  state = {\n    offset: -500,\n    msg: '',\n    options: undefined\n  }\n  showNotification = (msg, options) => {\n    this.setState({\n      offset: 50,\n      msg,\n      options\n    })\n    this.timeout = setTimeout(this.hideNotification, 3000)\n  }\n  hideNotification = () => {\n    this.setState({\n      offset: -500,\n    }) \n  }\n  componentDidMount = () => {\n    emitter.on('show', (msg, options) => this.showNotification(msg, options))\n  }\n  componentWillUnmount = () => {\n    if (this.timeout) {\n      clearInterval(this.timeout)\n    }\n  }\n  handleClick = () => {\n    this.hideNotification()\n  }\n  render() {\n    const { offset, msg, options } = this.state\n    const position = 'bottom' // 'top'\n    const style = {}\n    style[position] = offset\n\n    return (\n      <div \n      onClick={this.handleClick}\n      onBlur={this.hideNotification}\n      style={{\n        position: 'fixed',\n        right: 20,\n        backgroundColor: options && options.type === 'success' ? '#08a79c' : 'white',\n        color: options && options.type === 'success' ? 'white' : '#6e6e6e',\n        zIndex: 99,\n        transition: position+' .75s ease',\n        border: '1px solid #80808040',\n        boxShadow: '0 4px 8px 0 rgba(0,0,0,0.2)',\n        padding: 20,\n        paddingLeft: 80,\n        paddingRight: 80,\n        ...style\n      }}>\n        <h3>{msg}</h3>\n      </div>\n    )\n  }\n}\n","import React, { Component, Fragment } from 'react'\nimport Clickable from './Clickable'\nimport Text from './Text'\nimport { withGlobalState } from '../Context'\nimport { showNotification } from './Notification'\n\nconst getTokenInfo = (address) => {\n  if (address && address.toLowerCase() === '0x744d70FDBE2Ba4CF95131626614a1763DF805B9E'.toLowerCase()) {\n    return {\n      name: 'Status Token',\n      icon: 'https://etherscan.io/token/images/status.png'\n    }\n  }\n  return undefined\n}\n\nclass Address extends Component {\n  state = {\n    tokenInfo: undefined\n  }\n  componentDidMount = () => {\n    const { address } = this.props\n    const tokenInfo = getTokenInfo(address)\n    this.setState({\n      tokenInfo\n    })\n  }\n  handleClick = () => {\n    let { address } = this.props\n    // TODO handle not available\n    navigator.clipboard.writeText(address).then(function () {\n      console.log('Async: Copying to clipboard was successful!');\n      showNotification('Copied: '+address)\n    }, function (err) {\n      console.error('Async: Could not copy text: ', err);\n      alert('failed to copy')\n    });\n  }\n  render() {\n    const { tokenInfo } = this.state\n    let { address, short = false, contract = false, style = {}, label, global } = this.props\n    const useAlias = global.state.alias\n    if (short) {\n      address = [\n        ...address.split('').slice(0, 7),\n        '...',\n        ...address.split('').slice(42 - 5)\n      ].join('')\n    }\n    if (useAlias) {\n      const aliases = global.state.aliases\n      address = address in aliases ? aliases[address] : address\n      if (tokenInfo) {\n        address = tokenInfo.name\n      }\n    }\n    return (\n      <Fragment>\n        {label && <Text text={label} style={{ paddingRight: 7 }} />}\n        <Clickable\n          onClick={this.handleClick}\n          style={{\n            ...style,\n            fontWeight: (contract || tokenInfo) ? 'bold' : 'normal',\n          }}\n        >\n          <div style={{\n            color: tokenInfo ? 'rgb(8, 115, 167)' : 'inherit',\n            height: '1rem'\n          }}>\n            { tokenInfo && <img alt={`${tokenInfo.name} token logo`} src={tokenInfo.icon} style={{\n            maxWidth: '90%',\n            height: 'auto',\n            maxHeight: '90%', \n            marginRight: 5\n            }} /> }\n            {address}\n          </div>\n        </Clickable>\n      </Fragment>\n    )\n  }\n}\n\nexport default withGlobalState(Address)\n","import React, { Component } from 'react'\nimport StatusItem from '../StatusItem'\nimport Address from '../../../widgets/Address'\n\nexport default class Signer extends Component {\n  state = {\n    address: ''\n  }\n  componentDidMount = async () => {\n    const { provider } = this.props\n    try {\n      const signer = await provider.getSigner()\n      const address = await signer.getAddress()\n      this.setState({\n        address\n      })\n    } catch (error) {\n      this.setState({\n        address: ''\n      })\n    }\n  } \n  render() {\n    const { address } = this.state\n    return (\n      <StatusItem label={\"Signer\"} value={() => <Address address={address} short={true} style={{ padding: 0 }} />} />\n    )\n  }\n}\n","import React, { Component } from 'react'\nimport StatusItem from '../StatusItem'\n\nexport default class StateTime extends Component {\n  render() {\n    return (\n      <StatusItem label=\"State\" value=\"now\" />\n    )\n  }\n}\n","import React, { Component } from 'react'\nimport StatusItem from './StatusItem'\nimport Clickable from '../../widgets/Clickable'\nimport { withGlobalState } from '../../Context'\n\nclass Toggle extends Component {\n  toggle = () => {\n    const { global, options, name } = this.props\n    const value = global.state[name]\n    const newValue = options.find(option => option !== value)\n    const newState = {}\n    newState[name] = newValue\n    global.setState(newState)\n  }\n  render() {\n    const { global, name, label } = this.props\n    let value = global.state[name]\n    return (\n      <StatusItem label={label} value={() => <Clickable onClick={this.toggle} style={{ padding: 0 }}>{value.toString()}</Clickable> } />\n    )\n  }\n}\n\nexport default withGlobalState(Toggle)","import React, { Component } from 'react'\n\nexport default class SyncState extends Component {\n  state = {\n    intervalHandler: undefined,\n    isSyncing: false,\n    syncInfo: {\n      startingBlock: 0,\n      currentBlock: 0,\n      highestBlock: 0\n    }\n  }\n  componentDidMount = async () => {\n    const { provider } = this.props\n    /*\n    const intervalHandler = setInterval(async () => {\n      try {\n        const syncInfo = await provider.send('eth_syncing')\n        if (syncInfo) {\n          this.setState({\n            isSyncing: true,\n            syncInfo: {\n              ...syncInfo\n            }\n          })\n        }\n      } catch (error) {\n        this.setState({\n          isSyncing: false\n        })\n      }\n    }, 1500)\n    this.setState({\n      intervalHandler\n    })\n    ‚*/\n  }\n  componentWillUnmount = () => {\n    const { intervalHandler } = this.state\n    if (intervalHandler) {\n      clearInterval(intervalHandler)\n    }\n  }\n  render() {\n    const { renderSyncState = () => <div>No renderer</div>} = this.props\n    let { syncInfo, isSyncing } = this.state\n    if (syncInfo) {\n      const { highestBlock } = syncInfo\n      if (highestBlock === 0) {\n        syncInfo = false\n      }\n    }\n    if (!isSyncing) {\n      syncInfo = undefined\n    }\n    return renderSyncState(syncInfo)\n  }\n}","import React, { Component } from 'react'\nimport StatusItem from '../StatusItem'\nimport SyncState from '../../../widgets/SyncState'\n\nconst getSyncPercentage = ({ currentBlock, highestBlock }) => Math.ceil((currentBlock / highestBlock) * 100)\n\nexport default class Syncing extends Component {\n  render() {\n    return (\n      <SyncState\n        provider={this.props.provider}\n        renderSyncState={syncInfo => {\n          return (\n            <StatusItem label=\"Sync\" value={syncInfo === undefined ? 'no sync' : ( syncInfo === false ? '100' : `${getSyncPercentage(syncInfo)}%` )} />\n          )\n        }}\n      />\n    )\n  }\n}\n","import React, { Component } from 'react'\nimport CurrentBlockNumber from './StatusItems/CurrentBlockNumber'\nimport GasPrice from './StatusItems/GasPrice'\n// import GasLimit from './StatusItems/GasLimit'\nimport HardforkName from './StatusItems/HardforkName'\nimport NetworkId from './StatusItems/NetworkId'\nimport RpcServer from './StatusItems/RpcServer'\nimport Currency from './StatusItems/Currency'\nimport Signer from './StatusItems/Signer'\nimport StateTime from './StatusItems/StateTime'\nimport { withGlobalState } from '../../Context'\nimport { useTheme } from '../../Theme'\nimport GlobalToggle from './GlobalToggle'\nimport Syncing from './StatusItems/Syncing'\n\nclass StatusBar extends Component {\n  renderItem = (item, provider) => {\n    const { createdAt } = provider || { createdAt: 'not_set' }\n    const { name, exclude } = item\n    // this is a trick: detect if the provider instance has changed\n    // it will trigger a re-mount on all status items\n    const key = name+'_'+createdAt\n    if (exclude) {\n      return\n    }\n    if (name === 'sync') {\n      return <Syncing key={key} provider={provider} block={this.props.currentBlock} />\n    } \n    if (name === 'current_block') {\n      return <CurrentBlockNumber key={key} provider={provider} block={this.props.currentBlock} />\n    } \n    else if(name === 'state_time'){\n      return <StateTime key={key} />\n    }\n    else if(name === 'gas_price'){\n      return <GasPrice key={key} provider={provider} />\n    }\n    /* <GasLimit provider={provider} /> */ \n    else if(name === 'hardfork'){\n      return <HardforkName key={key} provider={provider} />\n    }\n    else if(name === 'network'){\n      return <NetworkId key={key} provider={provider} />\n    }\n    else if(name === 'provider'){\n      return <RpcServer key={key} provider={provider} />\n    }  \n    else if(name === 'currency'){\n      return <Currency key={key}/>\n    }  \n    else if(name === 'signer'){\n      return <Signer key={key} provider={provider}/>\n    }\n    else if(name === 'alias'){\n      return <GlobalToggle key={key} label=\"Alias\" name={\"alias\"} options={[true, false]} />\n    }\n    else if(name === 'time'){\n      return <GlobalToggle key={key} label=\"Time\" name={\"time\"} options={['block', 'unix']} />\n    }           \n    else if(name === 'theme'){\n      return <GlobalToggle key={key} label=\"Theme\" name={\"theme\"} options={['light', 'dark']}  />\n    } \n  }\n  render() {\n    const { provider, global } = this.props\n    const theme = useTheme(global)\n\n    const items = global.state.statusBarItems\n\n    return (\n      <div className=\"StatusBar\" style={{\n        display: 'flex',\n        backgroundColor: theme.statusBar.backgroundColor,\n        padding: 5,\n        marginBottom: 5,\n        fontSize: '0.8rem',\n        boxShadow: 'rgba(31, 30, 30, 0.1) 0px 2px 4px 0px'\n      }}>\n        {\n          items.map(item => this.renderItem(item, provider))\n        }\n      </div>\n    )\n  }\n}\n\nexport default withGlobalState(StatusBar)\n","import React from 'react'\nimport moment from 'moment'\n\nexport default function DateField({ ts, relative = false, style }) {\n  return (\n    <span style={{\n      ...style\n    }}>\n      { relative\n      ? moment.unix(ts).from()\n      : moment.unix(ts).format(\"YYYY-MM-DD HH:mm:ss\") \n      }\n    </span>\n  )\n}\n","import React, { Component } from 'react'\n\nexport default class Pill extends Component {\n  render() {\n    const { color, style } = this.props\n    return (\n      <div style={{\n        backgroundColor: color || '#08a79c',\n        fontWeight: 'bold',\n        letterSpacing: '0.075em',\n        paddingLeft: 10,\n        paddingRight: 10,\n        paddingTop: 5,\n        paddingBottom: 5,\n        borderRadius: 20,\n        color: 'white',\n        alignSelf: 'center',\n        ...style\n      }}>{this.props.children}</div>\n    )\n  }\n}\n","import React, { Component } from 'react'\n\nexport default class Gas extends Component {\n  render() {\n    const { gas } = this.props\n    // const gasPriceGwei = 10\n    return (\n      <span style={{\n      }}>\n        { gas !== undefined ? gas.toString() : 'undefined' }\n      </span>\n    )\n  }\n}\n","import React, { Component } from 'react'\nimport ListItem from '../../../widgets/ListItem'\nimport DateField from '../../../widgets/DateField'\nimport Pill from '../../../widgets/Pill'\nimport Address from '../../../widgets/Address'\nimport Gas from '../../../widgets/Gas'\n\nfunction BlockInfo({ number }) {\n  return (\n    <div style={{\n      display: 'flex',\n      flexDirection: 'column',\n      justifyContent: 'left',\n      padding: 5,\n      marginRight: 5\n    }}>\n      <span>Block</span>\n      <span style={{\n        fontWeight: 'bold',\n      }}># { number }</span>\n    </div>\n  )\n}\n\nfunction TxInfo({ txHashes }) {\n  return (\n    <div style={{\n      display: 'flex',\n      flexDirection: 'column',\n      justifyContent: 'left',\n      padding: 5\n    }}>\n\n      <Pill>{ txHashes.length } Transactions</Pill>\n    </div>\n  )\n}\n\nexport default class Block extends Component {\n  render() {\n    const { block } = this.props\n    const {\n      parentHash,\n      hash,\n      number,\n      difficulty,\n      timestamp,\n      nonce,\n      // extraData,\n      // gasLimit,\n      gasUsed,\n      miner,\n      transactions: txHashes\n    } = block\n    return (\n      <ListItem className=\"BlockListItem\" to={`/blocks/${number}`}>\n        <BlockInfo number={number} />\n        <div style={{\n          flex: 1,\n          flexGrow: 1,\n          display: 'flex',\n          flexDirection: 'column'\n        }}>\n          <span>Hash: { hash }</span>\n          <span>Parent: { parentHash.toString() }</span>\n          <span>Nonce: { nonce }</span>\n          <span>Difficulty: { difficulty }</span>\n          <span>Gas Used: <Gas gas={gasUsed} /></span>\n          <span>Mined: <DateField ts={timestamp} /> by: <Address address={miner} /></span>\n        </div>\n        <TxInfo txHashes={txHashes} />\n      </ListItem>\n    )\n  }\n}\n\n","import * as idb from 'idb'\n\nexport const getObjectStore = async (storeName, networkId = '1', dbName = 'ethui-db', version = 1) => {\n  dbName = `${dbName}_${networkId}`\n  const db = await idb.openDB(dbName, version, {\n    upgrade(db, oldVersion, newVersion, transaction) {\n      console.log('upgrade called')\n      const store = db.createObjectStore('transactions')\n    }\n  })\n  console.log('db ready', db)\n  return {\n    put: async (key, val) => {\n      const tx = db.transaction(storeName, 'readwrite')\n      const store = await tx.objectStore(storeName)\n      const value = await store.put(val, key)\n      await tx.done\n      return value\n    },\n    get: async (key) => {\n      const tx = db.transaction(storeName, 'readwrite')\n      const store = await tx.objectStore(storeName)\n      return store.get(key)\n    }\n  }\n}\n\nexport default class Storage {\n  static instance;\n  cache = {}\n  constructor() {\n    this.indexedDB = window.indexedDB\n  }\n  _makeKey(data) {\n    // var crypto = require('crypto');\n    // return crypto.createHash('md5').update(data).digest(\"hex\");\n    // console.log('key', data)\n    return data.length\n  }\n  async put(key, value){\n    const _key = this._makeKey(key)\n    // console.log('store key', _key)\n    this.cache[_key] = value\n  }\n  async get(key) {\n    const _key = this._makeKey(key)\n    // console.log('get key', _key)\n    return this.cache[_key]\n  }\n}","import { getObjectStore } from './Storage'\n\nexport class DataProvider {\n  constructor(provider) {\n    this.provider = provider\n  }\n  getAllAddresses = async () => {\n    const accounts = await this.provider.listAccounts()\n    return [...accounts]\n  }\n  getBlocks = async (end, start=0) => {\n    const blocks = []\n    let i = Math.max(start, 0)\n    while (i <= end) {\n      const block = await this.provider.getBlock(i)\n      blocks.push(block)\n      i++\n    }\n    return blocks\n  }\n  getAllTransactionForBlock = async (block) => {\n    if (!block) return []\n    const { transactions: txHashes } = block\n    const transactions = []\n    for (const txHash of txHashes) {\n      const transaction = await this.provider.getTransaction(txHash)\n      transactions.push(transaction)\n    }\n    return transactions\n  }\n  getAllTransactions = async () => {\n    const latestBlock = await this.provider.getBlockNumber()\n    const blocks = await this.getBlocks(latestBlock)\n    const transactions = []\n    for (const block of blocks) {\n      const tx = await this.getAllTransactionForBlock(block)\n      transactions.push(...tx)\n    }\n    return transactions\n  }\n  getAllTxByContract = async (contractAddress, skipCache=false) => {\n    const network = await this.provider.getNetwork()\n    const supported_networks = ['homestead', 'kovan', 'ropsten', 'rinkeby', 'goerli']\n    if (supported_networks.includes(network.name)) {\n      const store = await getObjectStore('transactions', network.chainId)\n      let contractTransactions = await store.get(contractAddress, network.chainId)\n      // cache miss\n      if (!contractTransactions || skipCache) {\n        contractTransactions = await this.provider.getHistory(contractAddress)\n        await store.put(contractAddress, contractTransactions)\n      }\n      return contractTransactions || []\n    } else {\n      const allTx = await this.getAllTransactions()\n      const contractTx = allTx.filter(tx => tx.to === contractAddress || tx.creates === contractAddress)\n      return contractTx\n    }\n  }\n  getAllContracts = async () => {\n    const transactions = await this.getAllTransactions()\n    const contractCreations = transactions.filter(tx => tx.creates).map(tx => tx.hash)\n    const receipts = []\n    for (const txHash of contractCreations) {\n      const receipt = await this.provider.getTransactionReceipt(txHash)\n      receipts.push(receipt)\n    }\n    return receipts\n  }\n}\n\nexport const getDataProvider = provider => new DataProvider(provider)","import React, { Component } from 'react'\nimport { withGlobalState } from '../Context'\nimport List from '../widgets/List'\n\n/*\n * a list whose data provider is set to the global ethereum provider\n * if the provider is changed it will request a re-render\n */\nclass ProviderList extends Component {\n  render() {\n    const { global, className, elements, itemName, loadItems, renderItem, processItems } = this.props\n    const { state } = global\n    const { provider } = state\n    return (\n      <List \n        className={className}\n        elements={elements}\n        dataSource={provider.createdAt}\n        itemName={itemName}\n        loadItems={() => loadItems(provider)}\n        processItems={processItems}\n        renderItem={item => renderItem({ provider, item }) }\n      />\n    )\n  }\n}\n\nexport default withGlobalState(ProviderList)\n","import React, { Component, Fragment } from 'react'\nimport Container from './Container'\nimport Button from './Button'\nimport { withGlobalState } from '../Context'\n\nclass NoConnection extends Component {\n  renderError() {\n    return (\n      <Container style={{ alignItems: 'center' }}>\n        <h2>No connection to the Ethersnet... </h2>\n        <h3>click on \"Client\" to see instructions</h3>\n        <img src=\"https://lh3.googleusercontent.com/I39p4qQ7NebJ9Q6CAGzjzTuFt7naS5dCd3Gh7yS9aivaGh4pZKwU5tNLfWSQoeoke1TfMtfy=w640-h400-e365\" style={{ height: 'auto', width: 'auto' }} />\n        <Button style={{ display:'none'}}>Fix it</Button>\n      </Container>\n    )\n  }\n  render() {\n    const { children } = this.props\n    const { global } = this.props\n    const { state: globalState } = global\n    const { isConnected } = globalState\n    return (\n      <Fragment>\n        { isConnected\n        ? { ...children }\n        : this.renderError()\n        }\n      </Fragment>\n    )\n  }\n}\n\nexport default withGlobalState(NoConnection)\n","import React, { Component } from 'react'\nimport Block from './BlockListItem'\nimport { getDataProvider } from '../../../js/DataProvider'\nimport Container from '../../../widgets/Container'\nimport ProviderList from '../../ProviderList'\nimport Connectivity from '../../../widgets/Connectivity'\n\nexport default class BlockList extends Component {\n  render() {\n    const latestBlock = undefined\n    let { start, end } = this.props\n    end = latestBlock || end\n    start = Math.max(end - 100, 0)\n    return (\n      <Connectivity>\n        <Container>\n          <ProviderList\n            className=\"BlockList\"\n            itemName=\"Blocks\"\n            elements={() => <div>Block: {start}-{end}</div>}\n            loadItems={provider => getDataProvider(provider).getBlocks(end, start)}\n            processItems={items => items.reverse()} // display latest block first\n            renderItem={({ provider, item: block}) => <Block key={block.number} block={block} /> }\n          />\n        </Container>\n      </Connectivity>\n    )\n  }\n}\n","import React from 'react'\nimport { useTheme } from '../Theme'\nimport { withGlobalState } from '../Context'\nimport Text from './Text'\n\nexport const LabeledField = withGlobalState(({ children, label, value, valueEl, style = {}, alignValue = 'left', global, styleValue = {} }) => {\n  const theme = useTheme(global)\n  return (\n    <div style={{\n      padding: 5,\n      display: 'flex',\n      flexDirection: 'column',\n      ...style\n    }}>\n      <div style={{ \n        fontSize: '0.8rem', \n        color: theme.field.label.color,\n        alignSelf: alignValue,\n        paddingBottom: 5\n      }}>\n        {\n          typeof label === 'function'\n          ? label()\n          : <Text>{label}</Text>\n        }\n      </div>\n      <div style={{\n        color: theme.field.value.color,\n        alignSelf: alignValue,\n        ...styleValue\n      }}>\n        {\n          typeof valueEl === 'function'\n          ? valueEl()\n          : (value !== undefined ? value.toString() : (children || undefined))\n        }\n      </div>\n    </div>\n  )\n})","import React, { Component } from 'react'\nimport Clickable from './Clickable'\nimport DateField from './DateField'\nimport { withGlobalState } from '../Context'\n\nclass BlockTime extends Component {\n  state = {\n    block: undefined,\n    error: undefined\n  }\n  componentDidMount = async () => {\n    const { block: blockNumber, global } = this.props\n    const { state: globalState } = global\n    const { provider } = globalState\n    try {\n      const block = await provider.getBlock(blockNumber)\n      this.setState({\n        block\n      })\n    } catch (error) {\n      this.setState({ error })\n    }\n  }\n  render() {\n    const { block, error } = this.state\n    const { block: blockNumber, global } = this.props\n    const { state: globalState } = global\n\n    let blockTime = blockNumber\n    if (globalState.time === 'unix') {\n      blockTime = block ? block.timestamp : 0\n    }\n\n    return (\n      <Clickable style={{\n        ...this.props.style\n      }}>\n        { error\n          ? <span>{error.message}</span>\n          : globalState.time === 'block' ?  `#${blockTime}` : <DateField ts={blockTime} />\n        }\n      </Clickable>\n    )\n  }\n}\n\nexport default withGlobalState(BlockTime)\n","import React, { Component } from 'react'\nimport { Row } from '../../../widgets/Row'\nimport { Column } from '../../../widgets/Column'\nimport { LabeledField } from '../../../widgets/LabeledField'\nimport ListItem from '../../../widgets/ListItem'\nimport Pill from '../../../widgets/Pill'\nimport Address from '../../../widgets/Address'\nimport EthValue from '../../../widgets/EthValue'\nimport Gas from '../../../widgets/Gas'\nimport BlockTime from '../../../widgets/BlockTime'\n\nexport default class TransactionItem extends Component {\n  state = {\n    receipt: undefined\n  }\n  componentDidMount = async () => {\n    const { provider, tx } = this.props\n    const { hash: txHash } = tx\n    const receipt = await provider.getTransactionReceipt(txHash)\n    this.setState({\n      receipt\n    })\n  }\n  render() {\n    const { receipt } = this.state\n    const { tx } = this.props\n    const {\n      // Only available for mined transactions\n      // blockHash,\n      blockNumber,\n      // timestamp,\n\n      // Exactly one of these will be present (send vs. deploy contract)\n      // They will always be a properly formatted checksum address\n      creates,\n      to,\n\n      hash,\n\n      // See above \"Transaction Requests\" for details\n      // data,\n      from,\n      // gasLimit,\n      // gasPrice,\n      // nonce,\n      value,\n\n      // The chain ID; 0 indicates replay-attack vulnerable\n      // (eg. 1 = Homestead mainnet, 3 = Ropsten testnet)\n      // chainId,\n\n      // r, s, v,\n      // raw\n    } = tx\n\n    const {\n      gasUsed,\n\n      blockNumber: blockNumberMined,\n\n      contractAddress\n    } = (receipt || {})\n    return (\n      <ListItem style={{\n        flexDirection: 'column'\n      }} to={`/transactions/${hash}`}>\n        <Row>\n          <LabeledField label=\"Tx Hash\" value={hash} />\n          <Pill>{creates ? 'Contract Creation' : 'Contract Call' }</Pill>\n        </Row>\n        <Row>\n          <Column>\n            <LabeledField label=\"From Address\">\n              <Address address={from} />\n            </LabeledField>\n          </Column>\n          <Column>\n            <LabeledField label={contractAddress ? \"Contract Address\" : \"To Address\"}>\n              <Address address={to || contractAddress} contract={contractAddress ? true : false} />\n            </LabeledField>\n          </Column>\n          <Column>\n            <LabeledField label=\"Value\" >\n              <EthValue wei={value} />\n            </LabeledField>\n          </Column>\n          <Column>\n            <LabeledField label=\"Gas Used\" alignValue={'flex-end'}>\n              <Gas gas={gasUsed} />\n            </LabeledField>\n          </Column>\n        </Row>\n        <Row style={{\n          justifyContent: 'normal'\n        }}>\n          <LabeledField label=\"Block Created\">\n            <BlockTime block={blockNumber} />\n          </LabeledField>\n          <LabeledField label=\"Block Mined\" >\n            <BlockTime block={blockNumberMined} />\n          </LabeledField>\n        </Row>\n\n        {/*\n        <span>block hash: { blockHash }</span>\n        <span>block #: { blockNumber }</span>\n        <span>timestamp: { timestamp }</span>\n\n        <span>creates: { creates }</span>\n        <span>to: { to }</span>\n\n        <span>data: { data }</span>\n        <span>from: { from }</span>\n        <span>gasLimit: { gasLimit && gasLimit.toString() }</span>\n        <span>gasPrice: { gasPrice && gasPrice.toString() }</span>\n        <span>nonce: { nonce }</span>\n        <span>value: { value && value.toString() }</span>\n\n        <span>chain id: { chainId }</span>\n        <span>raw sig: { raw }</span>\n        */}\n\n      </ListItem>\n    )\n  }\n}\n","import React, { Component } from 'react'\nimport Button from './Button'\nimport { withRouter } from 'react-router-dom'\n\nclass NavButton extends Component {\n  render() {\n    const { label, icon, children, to } = this.props\n    return (\n      <Button icon={icon} label={label} onClick={() => this.props.history.push(to)}>{children}</Button>\n    )\n  }\n}\n\nexport default withRouter(NavButton)\n","import React, { Component } from 'react'\nimport TransactionItem from './TransactionItem'\nimport { getDataProvider } from '../../../js/DataProvider'\nimport Container from '../../../widgets/Container'\nimport ProviderList from '../../ProviderList'\nimport Connectivity from '../../../widgets/Connectivity'\nimport NavButton from '../../../widgets/NavButton'\n\nexport default class TransactionList extends Component {\n  render() {\n    return (\n      <Connectivity>\n        <Container>\n          <ProviderList\n            className=\"TransactionList\"\n            itemName=\"Transactions\"\n            elements={() => (\n              <div>\n                <NavButton icon=\"File\" to={`/transactions/new`} label=\"New\" />\n              </div>\n            )}\n            loadItems={provider => getDataProvider(provider).getAllTransactions()}\n            processItems={items => items.reverse()}\n            renderItem={({ provider, item: tx}) => <TransactionItem key={tx.hash} provider={provider} tx={tx} /> }\n          />\n        </Container>\n      </Connectivity>\n    )\n  }\n}\n","import React, { Component } from 'react'\nimport { LabeledField } from '../../../widgets/LabeledField'\nimport ListItem from '../../../widgets/ListItem'\nimport Address from '../../../widgets/Address'\nimport EthValue from '../../../widgets/EthValue'\nimport NavButton from '../../../widgets/NavButton'\n\nexport default class AccountListItem extends Component {\n  state = {\n    balance: '',\n    txCount: -1\n  }\n  componentDidMount = async () => {\n    const { provider, address } = this.props\n    const balance = await provider.getBalance(address)\n    const txCount = await provider.getTransactionCount(address)\n    this.setState({ balance, txCount })\n  }\n  render() {\n    const { address} = this.props\n    const { balance, txCount } = this.state\n    return (\n      <ListItem className=\"AccountListItem\" to={`/accounts/${address}`} style={{\n        justifyContent: 'space-between'\n      }}>\n        <LabeledField label=\"Address\" valueEl={() => <Address address={address} /> } style={{\n          flexBasis: '30em'\n        }}/>\n        <LabeledField label=\"Balance\" style={{\n          flexBasis: '15em',\n        }}>\n          <EthValue wei={balance} />\n        </LabeledField>\n        <LabeledField \n          label=\"Tx Count\" \n          value={ txCount || 0} \n          style={{\n            alignSelf: 'right'\n          }} \n          styleValue={{\n            paddingTop: 5\n          }}\n        />\n        <NavButton to={`/transactions/new/${address}`} label={\"send\"} />\n      </ListItem>\n    )\n  }\n}\n\n","import React, { Component } from 'react'\nimport AccountItem from './AccountListItem'\nimport Button from '../../../widgets/Button'\nimport { createFundedTestAccount } from '../../../js/utils'\nimport Container from '../../../widgets/Container'\nimport Connectivity from '../../../widgets/Connectivity'\nimport ProviderList from '../../ProviderList'\n\nexport default class AccountsList extends Component {\n  addAccount = async () => {\n    /* FIXME refresh logic\n    const { provider } = this.props\n    await createFundedTestAccount(provider)\n    this.loadAccounts()\n    */\n  }\n  importAccount = async () => {\n    \n  }\n  render() {\n    return (\n      <Connectivity>\n        <Container>\n          <ProviderList\n            className=\"AccountList\"\n            elements={() => (\n              <div>\n                <Button enabled={false} onClick={this.addAccount} >Add</Button>\n                <Button enabled={false} onClick={this.importAccount} >Import</Button>\n                <Button enabled={false} onClick={this.loadAccounts} >Refresh</Button>\n              </div>\n            )}\n            itemName=\"accounts\"\n            loadItems={(provider) => provider.listAccounts()}\n            renderItem={({ provider, item: address }) => <AccountItem key={address} provider={provider} address={address} /> }\n          />\n        </Container>\n      </Connectivity>\n    )\n  }\n}\n","import React, { Component } from 'react'\nimport ListItem from '../../../widgets/ListItem'\nimport { LabeledField } from '../../../widgets/LabeledField'\nimport Pill from '../../../widgets/Pill'\nimport Address from '../../../widgets/Address'\nimport BlockTime from '../../../widgets/BlockTime'\n\nexport default class ContractListItem extends Component {\n  render() {\n    const { contract } = this.props\n    const { contractAddress, blockNumber } = contract\n    return (\n      <ListItem to={`/contracts/${contractAddress}`} style={{ justifyContent: 'space-between' }} >\n        <LabeledField label={'Block'}>\n          <BlockTime block={blockNumber} />\n        </LabeledField>\n        <LabeledField label={'Name'}>\n          <span>Unnamed</span>\n        </LabeledField>\n        <LabeledField label={'Address'}>\n          <Address address={contractAddress} contract={true} style={{\n            paddingLeft: 5,\n            paddingRight: 5\n          }} />\n        </LabeledField>\n        <Pill>Deployed</Pill>\n      </ListItem>\n    )\n  }\n}\n","import React, { Component } from 'react'\nimport ContractListItem from './ContractListItem'\nimport { getDataProvider } from '../../../js/DataProvider'\nimport NavButton from '../../../widgets/NavButton'\nimport Modal from '../../../widgets/Modal'\nimport Container from '../../../widgets/Container'\nimport ProviderList from '../../ProviderList'\nimport Connectivity from '../../../widgets/Connectivity'\n\nexport default class Contracts extends Component {\n  state = {\n    showPrompt: false\n  }\n  bookmarkContract = () => {\n    this.setState({\n      showPrompt: true\n    })\n  }\n  importContract = () => {\n    // allows to import a contract\n    // from another chain at a given block / state\n    // can be auto-synced downstream\n  }\n  loadContracts = async (provider) => {\n    // in a dev environment we want to load all contracts\n    // on public testnet this should only load bookmarked contracts\n    return getDataProvider(provider).getAllContracts()\n  }\n  render() {\n    const { showPrompt } = this.state\n    return (\n      <Connectivity>\n        <Container\n          header=\"All Contracts\"\n          backButton={false}\n        >\n          <ProviderList\n            elements={() => (\n              <div>\n                <NavButton icon=\"File\" to={'/contracts/new'} label=\"New\" />\n                {/*\n                <Button onClick={this.bookmarkContract} label=\"Bookmark\" />\n                <Button onClick={this.importContract} label=\"Import\" />\n                */}\n              </div>\n            )}\n            itemName=\"contracts\"\n            loadItems={this.loadContracts}\n            renderItem={({ provider, item: contract }) => <ContractListItem key={contract.contractAddress} provider={provider} contract={contract} />}\n          />\n          <Modal onClose={() => this.setState({ showPrompt: false })} show={showPrompt} />\n        </Container>\n      </Connectivity>\n    )\n  }\n}\n","import React, { Component, Fragment } from 'react'\nimport Select from 'react-select'\n\nexport default class CustomSelect extends Component {\n  render() {\n    let { options = [], label, value: selectedOption, onChange, style, hint = '', isMulti } = this.props\n    if (typeof selectedOption === 'string') {\n      if (isMulti) {\n        // selected value might be comma separated list\n        const values = selectedOption.split(',')\n        selectedOption = options.filter(o => values.includes(o.value))\n      } else {\n        selectedOption = options.find(o => o.value === selectedOption)\n      }\n    }\n    return (\n      <div style={{\n        ...style,\n        marginBottom: hint ? -12 : 0\n      }}>\n        <label htmlFor={label}>{label}</label>\n        <div style={{\n          marginTop: label ? 5 : 0,\n          width: 330\n        }}>\n          <Select \n            menuPortalTarget={document.body}\n            styles={{ menuPortal: base => ({ ...base, zIndex: 9999 }) }}\n            defaultValue={selectedOption}\n            options={options}\n            onChange={onChange} \n            isMulti={isMulti}\n            />\n        </div>\n        { hint && <div style={{ padding: 5 }}>{hint}</div> }\n      </div>\n    )\n  }\n}\n","import React, { Component } from 'react'\nimport Text from './Text'\n\nexport default class Switch extends Component {\n  render() {\n    const { checked = false, label, onChecked = () => { }, style = {} } = this.props\n    return (\n      <span style={{\n        marginLeft: 5,\n        marginRight: 10,\n        ...style\n      }}>\n\n        <input type=\"checkbox\" id=\"scales\" name=\"scales\" checked={checked} onChange={(ev) => {\n          const exclude = !ev.target.checked\n          onChecked(exclude)\n        }} />\n        <Text style={{\n          fontWeight: 'bold',\n          color: style.color\n        }}>{label}</Text>\n      </span>\n\n    )\n  }\n}\n","// TODO replace with remote: https://github.com/philipplgh/remote\nexport const remote = (worker) => {\n  let id = 0\n  return new Proxy({}, {\n    get(target, prop) {\n      return (...args) => new Promise((resolve, reject) => {\n        const requestId = id\n        worker.postMessage({\n          id: id++,\n          method: prop,\n          arguments: [...args]\n        })\n        let responseHandler = function (event) {\n          const { data } = event\n          const { result, id: responseId, error } = data\n          if (requestId === responseId) {\n            worker.removeEventListener('message', this)\n            if (error) {\n              return reject(error)\n            }\n            resolve(result)\n          }\n        }\n        worker.addEventListener('message', responseHandler)\n      })\n    }\n  })\n}","import React, { Component } from 'react'\nimport { Row } from '../../../widgets/Row'\nimport Select from '../../../widgets/Select'\nimport Switch from '../../../widgets/Switch'\nimport CompilerWorker from '../../../js/Compiler.worker'\nimport { remote } from '../../../js/remote'\nimport Button from '../../../widgets/Button'\nimport { showNotification } from '../../../widgets/Notification'\n\nexport default class Compiler extends Component {\n  state = {\n    compiler: undefined,\n    compilerVersions: [],\n    compiling: false,\n    result: undefined\n  }\n  componentDidMount = async () => {\n    const compiler = remote(new CompilerWorker())\n    this.setState({ compiler })\n\n    const compilerVersions = await compiler.getVersions()\n    this.setState({\n      compilerVersions: [...compilerVersions]\n    })\n  }\n  compile = async () => {\n    const { source, onData = () => {} } = this.props\n    const { compiler } = this.state\n    this.setState({\n      compiling: true\n    })\n    try {\n      const result = await compiler.compile(source)\n      this.setState({\n        compiling: false,\n        result\n      })\n      showNotification('Compilation finished!', { type: 'success' })\n      onData(result)\n    } catch (error) {\n      this.setState({\n        compiling: false,\n      })\n      alert('compiler crashed'+error.message)\n    }\n  }\n  render() {\n    const { source } = this.props\n    const { compiling, compilerVersions, result } = this.state\n    const selectOptions = compilerVersions.map(version => ({ label: version, value: version }))\n    return (\n      <div>\n        <Row style={{\n          marginBottom: 10,\n          marginTop: 10,\n          padding: 20,\n          border: '1px solid #80808040',\n          justifyContent: 'normal',\n          alignItems: 'flex-end'\n        }}>\n          <Select label={\"Compiler version:\"} options={selectOptions} />\n          <Button \n            style={{\n              marginLeft: 20,\n              marginRight: 20\n            }}\n            enabled={!!source && !compiling}\n            label=\"Compile\"\n            icon={compiling ? 'Spinner' : 'Play'}\n            onClick={this.compile}\n          />\n          <Switch style={{ alignSelf: 'flex-end' }} label=\"compile on change\"></Switch>\n        </Row>\n        <Row>\n        {result && result.errors && \n          result.errors.map((error, idx) => <span key={idx}>Compiler error: <pre>{error.formattedMessage}</pre></span>)\n        }\n        </Row>\n      </div>\n    )\n  }\n}\n","import React, { Component, Fragment } from 'react'\n\nconst readFile = (file) => new Promise((resolve, reject) => {\n  const reader = new FileReader();\n  reader.onload = (evt) => {\n    resolve(reader.result)\n  }\n  reader.readAsText(file)\n})\n\nexport default class FileChooser extends Component {\n  handleFiles = async (evt) => {\n    const files = evt.target.files; // FileList object\n    if (!files.length) {\n      alert('Please select a file!');\n      return;\n    }\n    const file = files[0]\n    let content = await readFile(file)\n    if (file.name.endsWith('.json')) {\n      content = JSON.parse(content)\n    }\n    this.props.onData(content)\n  }\n  render() {\n    return (\n      <Fragment>\n        <input type=\"file\" id=\"files\" name=\"files[]\" onChange={this.handleFiles} />\n      </Fragment>\n    )\n  }\n}","export class Visitor {\n  visit(node, callback = () => { }, context = {}) {\n    const contextNew = callback(node, context)\n    const childNodes = node.nodes || []\n    for (const child of childNodes) {\n      this.visit(child, callback, {\n        ...context,\n        ...contextNew\n      })\n    }\n  }\n}\n\nexport const transformTree = (t1, transformer) => {\n  const initialContext = {}\n  const visitor = new Visitor()\n  visitor.visit(t1, (node, context) => {\n    const newNode = transformer(node)\n    if (context.lastNode) {\n      context.lastNode.children.push(newNode)\n    } else {\n      context.root = newNode\n    }\n    return {\n      lastNode: newNode\n    }\n  }, initialContext)\n  return initialContext.root\n}\n\nexport const getNodes = (tree) => {\n  const visitor = new Visitor()\n  const nodes = [] // depth first\n  visitor.visit(tree, (node) => nodes.push(node) )\n  return nodes\n}","import React, { Component } from 'react'\nimport ReactJson from 'react-json-view'\nimport Tree from '../../../../widgets/Tree'\nimport { transformTree } from '../../../../js/TreeWalker'\n\nexport default class JsonTreeView extends Component {\n  renderTree(ast) {\n    if (!ast) {\n      return <span>No data</span>\n    }\n    console.log('ast', ast)\n    const transformer = node => ({\n      name: node.nodeType || 'root',\n      attributes: {\n        name: node.name,\n        // type: node.nodeType === \"VariableDeclaration\" && node.typeDescription.typeString ? node.typeDescription.typeString : ''\n      },\n      children: []\n    })\n    const d3Tree = ast ? transformTree(ast, transformer) : undefined\n    console.log('t', d3Tree)\n    return (\n      <Tree data={d3Tree} style={{\n        border: '1px solid gray'\n      }} />\n    )\n  }\n  renderJSON(data) {\n    return (\n      <ReactJson\n        src={data}\n        theme=\"monokai\"\n        name=\"storage\"\n        displayDataTypes={false}\n        enableClipboard={false}\n        style={{\n          padding: 10,\n          flex: 1\n        }}\n      />\n    )\n  }\n  render() {\n    const { data } = this.props\n    const isTree = true\n    return (\n      <div style={{\n        display: 'flex',\n        flex: 1\n      }}>\n        {isTree\n          ? this.renderTree(data)\n          : this.renderJSON(data)\n        }\n      </div>\n    )\n  }\n}","import React, { Component } from 'react'\nimport { Prism as SyntaxHighlighter } from 'react-syntax-highlighter';\nimport { xonokai } from 'react-syntax-highlighter/dist/esm/styles/prism';\n\nexport default class CodeEditor extends Component {\n  render() {\n    const { source, language = 'javascript', onChange, onFocus, onBlur, style, readOnly = true } = this.props\n    return (\n      <div style={{\n        flex: 1,\n        display: 'flex',\n        minHeight: 0\n      }}>\n        {language === 'text' || readOnly === false\n          ? (\n            <textarea\n              readOnly={readOnly}\n              style={{\n                ...style\n              }}\n              value={source}\n              onChange={onChange}\n              onFocus={onFocus}\n              onBlur={onBlur}\n            />\n          )\n          : (\n            <SyntaxHighlighter\n              language={language}\n              style={language !== 'text' ? xonokai : undefined}\n              customStyle={{\n                flex: 1\n              }}\n            >\n              {source}\n            </SyntaxHighlighter>\n          )\n        }\n      </div>\n    )\n  }\n}\n","import React, { Component } from 'react'\nimport FileChooser from '../../../../widgets/FileChooser'\nimport Tab from '../../../../widgets/Tab'\nimport JsonTreeView from './JsonTreeView'\nimport CodeEditor from '../../../../widgets/CodeEditor'\n\nexport default class CodeTab extends Component {\n  state = {\n    value: '',\n    hasFocus: false\n  }\n  handleChange = (ev) => {\n    this.setState({\n      value: ev.target.value\n    })\n    this.props.onChange(ev.target.value)\n  }\n  renderOverlay() {\n    const { onData } = this.props\n    return (\n      <div style={{\n        display: 'flex',\n        position: 'absolute',\n        backgroundColor: '#cecece29',\n        left: '50%',\n        width: 200,\n        marginLeft: -110,\n        padding: 20,\n        top: '40%',\n      }}>\n        <FileChooser onData={onData} />\n      </div>\n    )\n  }\n  onFocus = () => {\n    this.setState({ hasFocus: true })\n  }\n  onBlur = () => {\n    this.setState({ hasFocus: false })\n  }\n  render() {\n    const { source, label } = this.props\n    let { value, hasFocus } = this.state\n    value = source || value\n    if (typeof value !== 'string') {\n      value = JSON.stringify(value, null, 2)\n    }\n    return (\n      <Tab label=\"Source\"\n        onBlur={this.onBlur}\n        style={{\n          flex: 1,\n          overflow: 'auto'\n        }}\n      >\n        <div style={{\n          position: 'relative',\n          display: 'flex',\n          flex: 1\n        }}>\n          {label === 'AST'\n            ? <JsonTreeView data={source} />\n            : <CodeEditor\n              readOnly={false}\n              language=\"text\"\n              style={{\n                backgroundColor: hasFocus ? 'transparent' : '#cacaca17',\n                flex: 1\n              }}\n              source={value}\n              onChange={this.handleChange}\n              onFocus={this.onFocus}\n              onBlur={this.onBlur}\n            />\n          }\n          {!hasFocus && !value && this.renderOverlay()}\n        </div>\n      </Tab >\n    )\n  }\n}\n","import React, { Component } from 'react'\nimport { Row } from '../../../../widgets/Row'\nimport Tabs from '../../../../widgets/Tabs'\nimport { getCompilerData } from '../../../../js/utils'\nimport Compiler from '../Compiler'\nimport CodeTab from './CodeTab'\nimport { showNotification } from '../../../../widgets/Notification'\n\nexport default class ContractCode extends Component {\n  state = {\n    selectedTab: 0,\n    code: '',\n    abi: '',\n    bytecode: '',\n    contractCode: '',\n    bytecodeMatch: undefined,\n  }\n  componentDidMount() {\n    const { address } = this.props\n    if (!address) {\n      return\n    }\n    this.loadArtifacts(address)\n  }\n  tryLoadAbiFromEtherscan = async (contractAddress) => {\n    const abi = await fetch(`http://api.etherscan.io/api?module=contract&action=getabi&address=${contractAddress}`)\n                  .then(data => data.json())\n                  .then(data => JSON.parse(data.result))\n                  .catch(error => console.log('fetch error', error))\n    console.log('abi?', abi)              \n    if (abi) {\n      this.handleSolcArtifacts({\n        abi\n      })\n      this.setState({\n        // if no source to display but abi -> go to abi tab\n        selectedTab: 3\n      })\n      showNotification('Found ABI on Etherscan!')\n      return true\n    }\n    return false\n  }\n  loadArtifacts = async (contractAddress) => {\n    console.log('load artifacts', contractAddress)\n\n    await this.tryLoadAbiFromEtherscan(contractAddress)\n\n    // const data = loadContractArtifacts()\n\n    /*\n    try {\n      const { provider, address } = this.props\n      const contractCode = await provider.getCode(address)\n      this.setState({ contractCode })\n      // try to fetch compiler info based on contract code\n      const solcArtifacts = await getCompilerData(contractCode)\n      if (solcArtifacts) {\n        this.handleSolcArtifacts(solcArtifacts, false)\n      }\n    } catch (error) {\n      \n    }\n    */\n  }\n  handleCompilerData = (output) => {\n    const { source } = this.state\n    // TODO\n    const ast = undefined\n\n    const contracts = output.contracts['file.sol']\n    const contractName = Object.keys(contracts)[0]\n    const contract = contracts[contractName]\n    const { abi, evm } = contract\n    const { bytecode, deployedBytecode } = evm\n    // todo bring in form: \n    const artifact = {\n      source,\n      abi,\n      bytecode: bytecode.object,\n      ast\n    }\n    this.handleSolcArtifacts(artifact)\n  } \n  handleSolcArtifacts = (data) => {\n    const { contractCode } = this.state\n    const { source, abi, bytecode, ast } = data\n    /*\n    // https://ethereum.stackexchange.com/questions/195/how-can-i-verify-that-a-contract-on-the-blockchain-matches-the-source-code\n    const bytecodeMatch = contractCode && contractCode === bytecode\n    */\n    let bytecodeMatch = true\n\n    this.setState({\n      source,\n      abi,\n      ast,\n      bytecode,\n      bytecodeMatch\n    })\n    this.props.onData(data)\n  }\n  renderPlaceholder() {\n    return (\n      <div style={{\n        height: 100,\n        width: '100%',\n        border: '1px dashed black'\n      }}>\n      </div>\n    )\n  }\n  render() {\n    const { bytecodeMatch, source, selectedTab } = this.state\n    const { compiler } = this.props\n\n    const tabs = [\n      { label: 'Source', data: 'source' }\n      , { label: 'Contract Code', data: 'contractCode' }\n      , { label: 'Bytecode', data: 'bytecode' }\n      , { label: 'ABI', data: 'abi' }\n      , { label: 'AST', data: 'ast' }\n    ]\n\n    return (\n      <div\n        className=\"ContractCode\"\n        style={{\n          display: 'flex',\n          flexDirection: 'column',\n          flex: 1,\n          ...this.props.style\n        }}>\n        { compiler === 'top' && <Compiler source={source} onData={this.handleCompilerData} /> }\n        <Tabs\n          selectedTab={selectedTab}\n          onChange={tab => this.setState({ selectedTab: tab })}\n        >\n          {tabs.map(t => <CodeTab \n            key={t.label} \n            label={t.label} \n            source={this.state[t.data]}\n            onChange={value => {\n              const change = {}\n              change[t.data] = value\n              this.handleSolcArtifacts(change) \n            }} \n            onData={value =>  {\n              // handle case where file is plain string and not .json\n              if (typeof value === 'string') {\n                const change = {}\n                change[t.data] = value\n                value = change\n              }\n              this.handleSolcArtifacts(value)\n            }} \n          />)}\n        </Tabs>\n        { compiler === 'bottom' && <Compiler source={source} onData={this.handleCompilerData} /> }\n        <div style={{\n          border: '1px solid #80808040',\n        }}>\n          {bytecodeMatch === false &&\n            <Row style={{\n              padding: 10,\n              justifyContent: 'normal',\n              letterSpacing: 1,\n              fontWeight: 'bold'\n            }}>\n              <span style={{ color: 'red', paddingRight: 5 }}>!!! WARNING !!! </span><span>Generated bytecode does not match deployed code</span>\n            </Row>\n          }\n        </div>\n      </div>\n    )\n  }\n}\n","import React, { Component } from 'react'\nimport Container from '../../../widgets/Container'\nimport Button from '../../../widgets/Button'\nimport { ethers } from 'ethers'\nimport ContractCode from './ContractCode/ContractCode'\nimport { Row } from '../../../widgets/Row'\nimport { NavLink } from 'react-router-dom'\n\nexport default class CreateContractView extends Component {\n  state = {\n    source: '',\n    abi: '',\n    contract: undefined\n  }\n  handleData = (data) => {\n    const { abi, source, bytecode } = data\n    this.setState({\n      abi,\n      source,\n      bytecode\n    })\n  }\n  deployContract = async () => {\n    const { abi, bytecode } = this.state\n    // TODO show confirmation modal\n    const { provider } = this.props\n    const accounts = await provider.listAccounts()\n    // TODO global signer\n    const signer = await provider.getSigner(accounts[0]);\n    const password = ''\n    const unlocked = await signer.unlock(password)\n    console.log('unlocked?', unlocked)\n    // Create an instance of a Contract Factory\n    const factory = new ethers.ContractFactory(abi, bytecode, signer);\n    // Notice we pass in \"Hello World\" as the parameter to the constructor\n    const contract = await factory.deploy();\n    this.setState({\n      contract\n    })\n    console.log('contract', contract)\n    // TODO toast alert('deployed')\n  }\n  render() {\n    const { abi, bytecode, contract } = this.state\n    const { provider } = this.props\n    return (\n      <Container header=\"New Contract\">\n        <Row style={{ justifyContent: 'normal', marginTop: 20, marginLeft: 10, marginRight: 10, alignItems: 'center' }}>\n          { contract && <span style={{ marginLeft: 10, textDecoration: 'underscore' }}>Deployed at: <NavLink to={`/contracts/${contract.address}`}>{contract.address}</NavLink>></span>}\n          <Button \n            style={{\n              color: '#08a79c',\n              fontWeight: 'bold',\n              marginLeft: 'auto' // move to right \"justifySelf\"\n            }}\n            enabled={!!abi && !!bytecode}\n            onClick={this.deployContract} \n            icon=\"CodeBranch\"\n            label=\"Deploy\"\n          />\n        </Row>\n        <ContractCode\n          provider={provider}\n          onData={this.handleData}\n          compiler=\"top\"\n        />\n      </Container>\n    )\n  }\n}","import React, { Component } from 'react'\nimport Container from '../../../widgets/Container'\nimport { withRouter } from 'react-router-dom'\nimport Address from '../../../widgets/Address'\n\nclass AccountDetails extends Component {\n  render() {\n    const { match } = this.props\n    const { params } = match\n    const { address } = params\n    return (\n      <Container header={() => <Address label=\"Account\" address={address} />}>\n\n      </Container>\n    )\n  }\n}\n\nexport default withRouter(AccountDetails)\n","import React, { Component, Fragment } from 'react'\nimport Address from './Address'\n\nfunction TypeInfo({ type }) {\n  return (\n    <span style={{ fontSize: '0.8rem', color: '#666', marginRight: 5 }}>{type}</span>\n  )\n}\n\nconst PATH_DELIMITER = '.'\n\nconst flattenObject = function (ob) {\n  var toReturn = {};\n  for (var i in ob) {\n    if (!ob.hasOwnProperty(i)) continue;\n    if ((typeof ob[i]) == 'object') {\n      var flatObject = flattenObject(ob[i]);\n      for (var x in flatObject) {\n        if (!flatObject.hasOwnProperty(x)) continue;\n        toReturn[i + '.' + x] = flatObject[x];\n      }\n    } else {\n      toReturn[i] = ob[i];\n    }\n  }\n  return toReturn;\n}\n\nexport default class JsonView extends Component {\n  state = { tree: undefined }\n  componentDidMount = () => {\n    const { src, metaInfo = {}, path = '' } = this.props\n\n    this.flattenedMeta = flattenObject(metaInfo)\n\n    const tree = this.walk(src, 1, path)\n    this.setState({\n      tree\n    })\n  }\n  renderValue = (val, idx, l, depth, path = '') => {\n    const { displayIndices = false, displayDataTypes = true, indentation = 5, displayCommas = true, render: customRenderFunctions = {} } = this.props\n    let _type = typeof val\n    if (_type === 'string' && val.startsWith('0x')) {\n      _type = 'address'\n    }\n    if (val && val._hex) {\n      _type = 'bignumber'\n    }\n    if (Array.isArray(val)) {\n      _type = 'array'\n    }\n    let style = {\n      marginLeft: depth * indentation\n    }\n\n    // values for children / nested elements\n    let newPath = path + PATH_DELIMITER + idx\n    let newDepth = depth + 1\n    let varName = this.flattenedMeta[newPath] || ''\n\n    const renderers = {\n      'string': val => `\"${val}\"`,\n      'number': val => val,\n      'boolean': val => val ? 'true' : 'false',\n      'address': val => <span><Address address={val} /></span>,\n      'bignumber': val => val.toString('hex'),\n      'array': val => <div style={{ display: 'inline' }}>[ {this.walk(val, newDepth, newPath)} ] </div>,\n      'object': val => this.walk(val, newDepth, newPath),\n      ...customRenderFunctions\n    }\n    let render = renderers[varName] || renderers[_type]\n    if (typeof render === 'function') {\n      return (\n        <div key={newPath} style={{ ...style }}>\n          {displayIndices && <span style={{ background: 'yellow', paddingRight: 5 }}>{idx}:</span>}\n          {displayDataTypes && <TypeInfo type={_type} />}\n          <span>{render(val)}</span>\n          {varName && <span style={{ paddingLeft: 5 }}>( {varName} )</span>}\n          {displayCommas && (l > 0 && idx !== l - 1) && <span style={{ paddingLeft: 2, fontSize: '1.35rem', color: '#555' }}>,</span>}\n        </div>\n      )\n    }\n    return <div style={{ background: 'red', ...style }}>unknown type: {_type}</div>\n  }\n  walk = (obj, depth = 0, path = '') => {\n    const keys = Object.keys(obj)\n    if (keys.length === 0) {\n      return <span></span>\n    }\n    return keys.map((k, idx) => this.renderValue(obj[k], idx, keys.length, depth, path))\n  }\n  render() {\n    const { tree } = this.state\n    return (\n      <Fragment>\n        {tree}\n      </Fragment>\n    )\n  }\n}\n","import React, { Component } from 'react'\nimport ListItem from '../../../../widgets/ListItem'\nimport { Column } from '../../../../widgets/Column'\nimport { Row } from '../../../../widgets/Row'\nimport Gas from '../../../../widgets/Gas'\nimport BlockTime from '../../../../widgets/BlockTime'\nimport Address from '../../../../widgets/Address'\nimport JsonView from '../../../../widgets/JsonView'\nimport EthValue from '../../../../widgets/EthValue'\n\nexport default class TransactionItem extends Component {\n  state = { receipt: undefined }\n  componentDidMount = async () => {\n    const { tx } = this.props\n    try {\n      const { provider } = this.props\n      const receipt = await provider.getTransactionReceipt(tx.hash)\n      this.setState({ receipt })\n    } catch (error) {\n\n    }\n  }\n  renderArgs(parsed) {\n    if (!parsed || !parsed.args) {\n      return ''\n    }\n    /**\n     * arguments are often passed as arrays or structs for various reasons\n     * information is then written next to element as comment in the source :\n     * myFunction(address[2] tx) // [0]: from, [1]: to\n     * with metainfo we can enrich the displayed information\n     * for example: args is an array and the first parameter is an array too\n     * the first item of the first parameter would have path\n     * 0/0\n     * we can now say the first item in the array is valueX by defining the meta info structure\n     * {\n     *  0: {\n     *    0: 'from',\n     *    1: 'to'\n     *  }\n     * }\n     */\n    const metaInfo = {\n      trade: {\n        0: {\n          0: 'amountBy',\n          1: 'amountSell',\n          2: 'expires',\n          3: 'nonce',\n          4: 'amount',\n          5: 'tradeNonce',\n          6: 'feeMake',\n          7: 'feeTake'\n        },\n        1: {\n          0: 'tokenBuy',\n          1: 'tokenSell',\n          2: 'maker',\n          3: 'taker'\n        }\n      },\n    }\n    const render = {\n      'expires': val => (parseInt(val) / 1000) + ' seconds',\n      'amount': val => <EthValue wei={val} />,\n      'feeMake': val => <EthValue wei={val} />,\n      'feeTake': val => <EthValue wei={val} />\n    }\n    return <JsonView\n      name={null}\n      displayDataTypes={false}\n      displayIndices={false}\n      indentation={10}\n      path={parsed.name}\n      metaInfo={undefined /*metaInfo*/}\n      render={render}\n      src={parsed.args} />\n  }\n  render() {\n    const { receipt } = this.state\n    const { tx, contractInterface, idx } = this.props\n\n    // tx can be of type TransactionResponse (e.g. etherscan provider)\n    // see https://docs.ethers.io/ethers.js/html/api-providers.html#transaction-response\n    const {\n      blockHash,\n      blockNumber,\n      chainId,\n      confirmations,\n      creates,\n      data,\n      from,\n      to,\n      gasLimit,\n      gasPrice,\n      hash,\n      networkId,\n      nonce,\n      timestamp,\n      transactionIndex,\n      value\n    } = tx\n\n    let parsed\n    let calledFunctionName = '<unknown fn>'\n    try {\n      parsed = contractInterface.parseTransaction(tx)\n      calledFunctionName = parsed ? parsed.name : (idx === 0 ? 'constructor' : calledFunctionName)\n    } catch (error) { }\n\n    const selectedBorder = '2px solid #08a79c'\n    return (\n      <ListItem\n        onClick={this.props.onClick}\n        style={{\n          flexDirection: 'column',\n          padding: 10,\n          margin: '0px 10px 0px 0px',\n          boxSizing: 'border-box',\n          borderTop: this.props.isSelected ? selectedBorder : '2px solid transparent',\n          borderBottom: this.props.isSelected ? selectedBorder : '2px solid #e6e6e6',\n          borderLeft: this.props.isSelected ? selectedBorder : '2px solid transparent',\n          borderRight: this.props.isSelected ? selectedBorder : '2px solid transparent',\n\n        }}>\n        <Column style={{\n          justifyContent: 'normal'\n        }}>\n          <span style={{\n            display: 'flex',\n            justifyContent: 'space-between'\n          }}>\n            <span style={{ fontSize: '0.8rem' }}>At: <BlockTime block={tx.blockNumber} style={{ padding: 0 }} /> </span>\n            <span style={{ fontSize: '0.8rem' }}>Gas: <Gas gas={receipt ? receipt.gasUsed : undefined} /> </span>\n          </span>\n          <span style={{\n            fontWeight: 'bold',\n            padding: 5,\n            marginLeft: 20\n          }}>{calledFunctionName}({this.renderArgs(parsed)})</span>\n        </Column>\n        <Row>\n          <span style={{ fontSize: '0.75rem' }}>By: <Address address={tx.from} /></span>\n        </Row>\n      </ListItem>\n    )\n  }\n}\n","import React, { Component } from 'react'\nimport Spinner from './Spinner'\n\nexport default class Overlay extends Component {\n  render() {\n    const { text, spinner, color = 'rgba(238, 238, 238, 0.58)', blur=true, background = 'rgba(144, 144, 144, 0.1)', border } = this.props\n    return (\n      <div style={{\n        backgroundColor: background,\n        backdropFilter: blur ? 'blur(6px)' : undefined,\n        border,\n        boxSizing: 'border-box',\n        position: 'absolute',\n        top: 0,\n        left: 0,\n        width: '100%',\n        height: '100%',\n        display: 'flex',\n        justifyContent: 'center',\n        alignItems: 'center'\n      }}>\n        { spinner && <Spinner size=\"1.5rem\" style={{ marginRight: 20 }} /> }\n        <span style={{\n          fontSize: '1.5rem',\n          fontWeight: 'bold',\n          color,\n        }}>{text}</span>\n      </div>\n    )\n  }\n}\n","import React, { Component } from 'react'\nimport TransactionItem from './TransactionItem'\nimport Text from '../../../../widgets/Text'\nimport Overlay from '../../../../widgets/Overlay'\n\nexport default class ContractTransactionHistory extends Component {\n  state = {\n    selectedTx: undefined\n  }\n  handleTransactionSelect = (tx) => {\n    let { onSelect = () => { }  } = this.props\n    onSelect(tx)\n  }\n  componentDidMount = () => {\n    const { transactions } = this.props\n    if (transactions && transactions.length > 0) {\n      this.setState({\n        selectedTx: transactions[0]\n      })\n    }\n  }\n  renderOverlay() {\n    return (\n      <Overlay \n        text=\"Loading transaction list\" \n        spinner={true} \n        color=\"#6e6e6e\" \n        background=\"white\"\n        border='1px dashed #999'\n        blur={false} \n      />\n    )\n  }\n  renderTransactions() {\n    const { selectedTx } = this.state\n    let {\n      provider,\n      transactions,\n      contractInterface\n    } = this.props\n\n\n    const MAX_ITEMS = 20\n    transactions = transactions.slice(0, MAX_ITEMS)\n\n    return (\n      transactions.map((tx, idx) =>\n        <TransactionItem\n          key={tx.hash}\n          provider={provider}\n          isSelected={selectedTx && tx.hash === selectedTx.hash}\n          tx={tx}\n          idx={idx}\n          contractInterface={contractInterface}\n          onClick={this.handleTransactionSelect}\n        />\n      )\n    )\n  }\n  render() {\n    const { transactions = [], isLoading } = this.props\n    return (\n      <div style={{\n        flex: 1,\n        display: 'flex',\n        flexDirection: 'column',\n      }}>\n        <Text\n          style={{\n            fontSize: '1.2rem',\n            padding: 6,\n            borderBottom: '1px solid #99999999'\n          }}\n          text={`Transactions (${transactions.length})`}\n        />\n        <div style={{\n          position: 'relative',\n          overflowY: 'auto',\n          flex: 1,\n        }}>\n          {this.renderTransactions()}\n          {isLoading && this.renderOverlay()}\n        </div>\n      </div>\n    )\n  }\n}\n","/* eslint-disable */\nimport React, { Component } from 'react'\nimport ReactJson from 'react-json-view'\nimport Address from '../../../widgets/Address'\nimport Switch from '../../../widgets/Switch'\nimport { Row } from '../../../widgets/Row'\nimport EthStateMachine from '../../../js/EthStateMachine'\nimport Overlay from '../../../widgets/Overlay'\n\nexport default class ContractState extends Component {\n  state = {\n    transactions: [],\n    storage: {\n    },\n    contractAddress: '',\n    isLoading: false\n  }\n  componentDidMount = async () => {\n    const { provider, address: contractAddress, transactions, until, ast } = this.props\n\n    this.setState({\n      contractAddress,\n      isLoading: true\n    })\n\n    const stateMachine = new EthStateMachine()\n    const { createdAddress, storage } = await stateMachine.replayContractTransactions(transactions, until)\n\n    // console.log('calculated storage', storage)\n    this.setState({\n      storage,\n      isLoading: false\n    })\n\n  }\n  handleSwitch = () => {\n\n  }\n  renderJson(jsonState) {\n    return (\n      <ReactJson\n        src={jsonState}\n        theme=\"monokai\"\n        name=\"storage\"\n        displayDataTypes={false}\n        enableClipboard={false}\n        style={{\n          flex: 1,\n          padding: 10,\n        }}\n      />\n    )\n  }\n  renderOverlay() {\n    return (\n      <Overlay spinner={true} text=\"calculating contract state...\" />\n    )\n  }\n  render() {\n    const { contractAddress } = this.props\n    const { storage, isLoading } = this.state\n    const jsonState = storage\n    return (\n      <div style={{\n        flex: 1,\n        display: 'flex',\n        flexDirection: 'column',\n        backgroundColor: 'rgba(0, 0, 0, 0.88)',\n        ...this.props.style\n      }}>\n        <Row>\n          <span style={{ paddingLeft: 5, color: 'white' }}>Contract: <Address address={contractAddress} /></span>\n          <Switch label=\"Decoded\" onSwitch={this.handleSwitch} style={{ color: 'white' }} />\n        </Row>\n        <div style={{\n          position: 'relative',\n          display: 'flex',\n          flex: 1\n        }}>\n          { this.renderJson(jsonState) }\n          { /* isLoading && this.renderOverlay() */ }\n        </div>\n      </div>\n    )\n  }\n}\n","import React, { Component } from 'react'\nimport { Row } from '../../../../widgets/Row'\nimport BlockTime from '../../../../widgets/BlockTime'\nimport Address from '../../../../widgets/Address'\nimport ContractState from '../ContractState'\nimport Console from '../../../console/Console'\nimport Overlay from '../../../../widgets/Overlay'\n\nexport default class ContractConsole extends Component {\n  renderOverlay() {\n    return (\n      <Overlay text=\"Add ABI to interact with contract\" />\n    )\n  }\n  render() {\n    const { signerAddress, selectedTx, contractProxy } = this.props // for console\n    const { provider, transactions = [], contractAddress } = this.props // for state\n    return (\n      <div style={{\n        position: 'relative',\n        flex: 1,\n        display: 'flex',\n        backgroundColor: '#000000e0',\n      }}>\n        <div style={{\n          flex: 1,\n          display: 'flex',\n          flexDirection: 'column',\n        }}>\n          <Row style={{\n            color: 'white',\n            padding: 5,\n          }}>\n            <span>State at: {selectedTx && <BlockTime block={selectedTx.blockNumber} style={{ padding: 0 }} />}</span>\n            <span>Signer: { signerAddress\n             ? <Address address={signerAddress} style={{ padding: 2 }} />\n             : <span style={{ color: 'yellow' }} tooltip=\"Metamask login required?\">WARNING: read-only</span>\n            }\n            </span>\n          </Row>\n          <div style={{\n            flex: 2,\n            display: 'flex'\n          }}>\n            {transactions.length > 10\n            ? <span style={{ color: '#6e6e6e', fontSize: '1.4rem', alignSelf: 'center', margin: 'auto'}}>Too many transactions for state debugger (max: 10)</span>\n            : (\n              <ContractState\n                key={selectedTx ? selectedTx.hash : '_'}\n                provider={provider}\n                contractAddress={contractAddress}\n                // ast={ast}\n                transactions={transactions}\n                until={selectedTx}\n              />\n            )\n            } \n          </div>\n          <div style={{\n            flex: 3,\n            display: 'flex'\n          }}>\n            <Console context={contractProxy}  />\n            {!contractProxy && this.renderOverlay()}\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n","import React, { Component, Fragment } from 'react'\nimport Container from '../../../widgets/Container'\nimport { withRouter } from 'react-router-dom'\nimport Address from '../../../widgets/Address'\nimport { Column } from '../../../widgets/Column'\nimport { Row } from '../../../widgets/Row'\nimport ContractCode from './ContractCode/ContractCode'\nimport { ethers } from 'ethers'\nimport { getDataProvider } from '../../../js/DataProvider'\nimport ContractTransactionBrowser from './TxBrowser/ContractTransactionBrowser'\nimport ContractConsole from './InteractiveConsole/ContractConsole'\nimport { withGlobalState } from '../../../Context'\n\nclass ContractDetails extends Component {\n  state = {\n    abi: undefined,\n    bytecode: '',\n    contractProxy: undefined, // instance of \"metaclass\"\n    contractInterface: undefined,\n    signer: undefined,\n    signerAddress: undefined,\n    transactions: [],\n    selectedTx: undefined,\n    isLoadingTransactions: false\n  }\n  getAddress() {\n    const { match } = this.props\n    const { params } = match\n    const { address } = params\n    return address\n  }\n  getNetwork() {\n    const { match } = this.props\n    const { params } = match\n    const { network } = params\n    return network === 'main' ? 'homestead' : network\n  }\n  isPublicNetwork() {\n    const network = this.getNetwork()\n    const supported_networks = ['homestead', 'kovan', 'ropsten', 'rinkeby', 'goerli']\n    const isPublicNetwork = supported_networks.includes(network)\n    return isPublicNetwork\n  }\n  getProvider() {\n    const { global } = this.props\n    const { state: globalState } = global\n    const { provider } = globalState\n\n    //TODO fix  experimental\n    if (this.isPublicNetwork()) {\n      return new ethers.getDefaultProvider(this.getNetwork())\n    }\n\n    return provider\n  }\n  componentDidMount = async () => {\n\n    const isPublic = this.isPublicNetwork()\n\n    // we use etherscan provider to fetch tx history if connected to public network\n    let txProvider =  isPublic ? new ethers.providers.EtherscanProvider(this.getNetwork()) : this.getProvider()\n\n    if (!isPublic) {\n      try {\n        // TODO in dev mode with auto-mining\n        txProvider.on('block', () => this.loadContractTransactions(txProvider))\n      } catch (error) { }\n    }\n  \n    this.loadContractTransactions(txProvider)\n    this.loadActiveSigner()\n\n  }\n  componentWillUnmount = () => {\n    const provider = this.getProvider()\n    try {\n      provider.off('block', this.loadContractTransactions)\n    } catch (error) { }\n  }\n  loadContractTransactions = async (provider) => {\n    provider = provider || this.getProvider()\n    try {\n      this.setState({ isLoadingTransactions: true })\n      const skipCache = false\n      const transactions = await getDataProvider(provider).getAllTxByContract(this.getAddress(), skipCache)\n      this.setState({\n        isLoadingTransactions: false,\n        transactions,\n        selectedTx: transactions[transactions.length - 1]\n      })\n    } catch (error) {\n      console.log('error while fetching contract transactions', error)\n      this.setState({\n        transactions: [],\n        selectedTx: undefined\n      })\n    }\n  }\n  loadActiveSigner = async (provider) => {\n    provider = provider || this.getProvider()\n    try {\n      const signer = await provider.getSigner()\n      const signerAddress = await signer.getAddress()\n      this.setState({\n        signer,\n        signerAddress\n      })\n    } catch (error) {\n      this.setState({\n        signer: undefined,\n        signerAddress: undefined\n      })\n    }\n  }\n  handleSelectedTransaction = (tx) => {\n    this.setState({\n      selectedTx: tx\n    })\n  }\n  handleSolcArtifacts = async (data, persist = false) => {\n    console.log('handle new artifacts', data)\n    const { abi, source, bytecode, ast } = data\n    this.setState({\n      source,\n      abi,\n      bytecode,\n      ast\n    })\n\n    try {\n      const contractInterface = new ethers.utils.Interface(abi)\n      this.setState({\n        contractInterface\n      })\n      console.log('contract interface ready' /*, contractInterface*/)\n    } catch (error) {\n\n    }\n    try {\n      let { signer } = this.state\n      const provider = this.getProvider()\n      signer = signer || provider\n      const contractProxy = new ethers.Contract(this.getAddress(), abi, signer);\n      this.setState({\n        contractProxy,\n      })\n      // console.log('created proxy from abi', abi)\n    } catch (error) {\n      console.warn('could not create contract proxy', error)\n    }\n  }\n  render() {\n    const address = this.getAddress()\n    const provider = this.getProvider()\n    // required for console\n    const { contractProxy, contractInterface, signerAddress, selectedTx, isLoadingTransactions } = this.state\n    // for tx browser\n    const { transactions } = this.state\n    return (\n      <Container\n        style={{\n          padding: 0,\n          borderRadius: 0,\n          maxHeight: '100%',\n          overflowY: 'hidden'\n        }}\n        header={() => (<Fragment>Contract at <Address address={address} /></Fragment>)}\n        headerStyle={{\n          margin: 10\n        }}\n      >\n        <Column style={{\n          justifyContent: 'space-between',\n          maxHeight: '100%'\n        }}>\n          <Row style={{\n            overflowY: 'auto',\n            flex: 3,\n          }}>\n            <div style={{\n              flex: 1,\n              display: 'flex'\n            }}>\n              <ContractCode\n                provider={provider}\n                address={address}\n                // called when solidity artifacts become available:\n                // either through compilation, user selection or database\n                onData={data => this.handleSolcArtifacts(data, true)}\n              />\n            </div>\n            <div style={{\n              flex: 1,\n              display: 'flex',\n              marginTop: 3\n            }}>\n              <ContractTransactionBrowser\n                // provider={provider}\n                transactions={transactions}\n                isLoading={isLoadingTransactions}\n                onSelect={this.handleSelectedTransaction}\n                contractInterface={contractInterface} // used to decode tx\n              />\n            </div>\n          </Row>\n          <div style={{\n            flex: 2,\n            display: 'flex'\n          }}>\n            <ContractConsole\n              signerAddress={signerAddress}\n              transactions={transactions}\n              selectedTx={selectedTx}\n              contractAddress={address}\n              contractProxy={contractProxy} // commands are executed on proxy instance\n            />\n          </div>\n        </Column>\n      </Container>\n    )\n  }\n}\n\nexport default withRouter(withGlobalState(ContractDetails))\n","import React, { Component } from 'react'\n\nexport default class Form extends Component {\n  render() {\n    const { style } = this.props\n    return (\n      <div style={{\n        flex: 1,\n        maxHeight: 500,\n        display: 'flex',\n        flexDirection: 'column',\n        padding: 20,\n        border: '1px solid gray',\n        borderRadius: 10,\n        overflow: 'auto',\n        ...style\n      }}>\n        {this.props.children.map((c, idx) => <div key={idx} style={{ margin: 10}}>{c}</div>)}\n      </div>\n    )\n  }\n}\n","import React, { Component } from 'react'\n\nexport default class TextField extends Component {\n  render() {\n    const { label, value, onChange, suffix, disabled=false, required=false, style } = this.props\n    return (\n      <div style={{\n        alignItems: 'center',\n        ...style\n      }}>\n        <label\n          style={{\n            fontSize: '1rem'\n          }}\n          data-shrink=\"true\"\n          htmlFor=\"standard-required\"\n          id=\"standard-required-label\">\n          {label}\n          { required && <span>*</span> }\n        </label>\n        <div\n          style={{\n            marginTop: 5,\n            display: 'flex',\n            alignItems: 'center'\n          }}\n        >\n          <input\n            disabled={disabled}\n            size=\"50\"\n            style={{\n              fontSize: 'inherit',\n              boxSizing: 'content-box',\n              background: 'none',\n              margin: 0,\n              padding: 10,\n              font: 'inherit',\n              height: '1.4rem',\n              border: '1px solid gray',\n              borderRadius: 3\n            }}\n            type=\"text\"\n            aria-invalid=\"false\"\n            id=\"standard-required\"\n            required=\"\"\n            value={value}\n            onChange={e => onChange(e.target.value)}\n          />\n          { suffix && <span style={{ padding: 5, opacity: 0.7 }}>{suffix}</span>}\n        </div>\n      </div>\n    )\n  }\n}\n","import React, { Component } from 'react'\nimport Container from '../../../widgets/Container'\nimport Button from '../../../widgets/Button'\nimport { ethers } from 'ethers';\nimport { withRouter, NavLink } from 'react-router-dom';\nimport Form from '../../../widgets/Form';\nimport TextField from '../../../widgets/TextField';\n\nclass SendTransaction extends Component {\n  state = {\n    from: '',\n    to: '',\n    amount: '1',\n    tx: undefined\n  }\n  componentDidMount = async () => {\n    const { provider } = this.props\n    if (!provider) return\n\n    const to = this.getTo()\n    const signer = await provider.getSigner();\n    const from = await signer.getAddress()\n    this.setState({\n      from,\n      to\n    })\n  }\n  sendTransaction = async (to, amountString) => {\n    const { provider, from } = this.props\n    const signer = await provider.getSigner();\n    const amount = ethers.utils.parseEther(amountString);\n    const txRaw = {\n        to,\n        value: amount\n    };\n    const tx = await signer.sendTransaction(txRaw);\n    this.setState({ tx })\n    console.log('tx', tx)\n  }\n  getTo() { \n    const { match } = this.props\n    const { params } = match\n    const { to } = params\n    return to\n  }\n  render() {\n    const { from, to, amount, tx } = this.state\n    return (\n      <Container\n        header={ \"Send transaction\"}\n      >\n        <Form style={{\n          marginTop: 20,\n          fontSize: '1.25rem'\n        }}>\n          <TextField label=\"From:\" type=\"address\" value={from} onChange={value => this.setState({ from: value })} />\n          <TextField label=\"To:\" type=\"address\" value={to} onChange={value => this.setState({ to: value })} />\n          <TextField label=\"Amount:\" value={amount} suffix=\"ETH\" onChange={value => this.setState({ amount: value })} />\n          <TextField label=\"Fee\" value=\"\" disabled />\n          <div>\n            <Button \n              style={{\n                marginLeft: 10,\n                borderRadius: 10,\n                padding: 10,\n                marginTop: 10,\n                border: '2px solid #08a79c', \n                fontSize: '1.25rem',\n                fontWeight: 'bold'\n              }}\n              label=\"Send\"\n              dangerous={true}\n              onClick={() => this.sendTransaction(to, amount)} />\n          </div>\n        </Form>\n        { tx && <div style={{ fontSize: '1.25rem', marginTop: 20 }}>Transaction sent: <NavLink to={`/transactions/${tx.hash}`}>{tx.hash}</NavLink>  </div>}\n      </Container>\n    )\n  }\n}\n\nexport default  withRouter(SendTransaction)\n","import React, { Component } from 'react'\nimport Container from '../../../widgets/Container'\nimport Text from '../../../widgets/Text'\nimport { withGlobalState } from '../../../Context'\n\nclass BlockDetails extends Component {\n  state = { block: undefined }\n  componentDidMount = async () => {\n    const { global, match } = this.props\n    const { provider } = global.state\n    const { params } = match\n    const { blockNumber } = params\n    const block = await provider.getBlock(parseInt(blockNumber))\n    this.setState({\n      block\n    })\n  }\n  renderBlockDetails(block) {\n    return (\n      <div>\n        <pre>{JSON.stringify(block, null, 2)}</pre>\n      </div>\n    )\n  }\n  render() {\n    const { match } = this.props\n    const { params } = match\n    const { blockNumber } = params\n    const { block } = this.state\n    return (\n      <Container header={() => <Text text={`Block #${blockNumber}`} />}>\n        { block && this.renderBlockDetails(block) }\n      </Container>\n    )\n  }\n}\n\nexport default withGlobalState(BlockDetails)","import React, { Component } from 'react'\nimport Container from '../../../widgets/Container'\nimport Text from '../../../widgets/Text'\nimport { withGlobalState } from '../../../Context'\n\nclass TransactionDetails extends Component {\n  state = { tx: undefined }\n  componentDidMount = async () => {\n    const { global, match } = this.props\n    const { provider } = global.state\n    const { params } = match\n    const { txHash } = params\n    const tx = await provider.getTransaction(txHash)\n    this.setState({\n      tx\n    })\n  }\n  renderTransactionDetails(tx) {\n    return (\n      <div>\n        <pre>{JSON.stringify(tx, null, 2)}</pre>\n      </div>\n    )\n  }\n  render() {\n    const { match } = this.props\n    const { params } = match\n    const { txHash } = params\n    const { tx } = this.state\n    return (\n      <Container header={() => <Text text={`Transaction #${txHash}`} />}>\n        { tx && this.renderTransactionDetails(tx) }\n      </Container>\n    )\n  }\n}\n\nexport default withGlobalState(TransactionDetails)\n","import React, { Component } from 'react'\nimport CreateScript from './CreateScript'\nimport Container from '../../../widgets/Container'\n\nexport default class ScriptList extends Component {\n  state = {\n    scripts: []\n  }\n  componentDidMount = async () => {\n    // get scripts here\n  }\n  render() {\n    const { scripts } = this.state\n    return (\n      <Container>\n        {\n          scripts.length > 0\n          ? <span>script list</span>\n          : <CreateScript />\n        }\n      </Container>\n    )\n  }\n}\n","import React, { Component } from 'react'\nimport Container from '../../../widgets/Container'\nimport { StoreContext, withGlobalState } from '../../../Context'\nimport { Row } from '../../../widgets/Row'\nimport { Column } from '../../../widgets/Column'\nimport GlobalToggle from '../../status/GlobalToggle'\n\nconst Setting = withGlobalState(({ name, item, global }) => {\n  return (\n    <div>\n      <input type=\"checkbox\" id=\"scales\" name=\"scales\" checked={!item.exclude} onChange={(ev) => {\n        const exclude = !ev.target.checked\n        const items = global.state[name]\n        const updated = items.map(el => ( (el.label !== undefined ? el.label === item.label : el.name === item.name) ? { ...el, exclude } : el))\n        const change = {}\n        change[name] = [...updated]\n        global.setState(change)\n      }} />\n      <label htmlFor=\"scales\">{item.label || item.name}</label>\n    </div>\n  )\n})\n\nclass OptionGroup extends Component {\n  handleOnChange() {\n\n  }\n  render() {\n    const { options } = this.props\n    const name = Date.now()\n    return (\n      <div>\n        {\n          options.map((option, idx) => (\n            <label style={{ marginLeft: 5 }} key={option} >\n              <input\n                type=\"radio\"\n                name={name}\n                value={option}\n                checked={true}\n                onChange={() => this.handleOnChange(option, idx)}\n              />\n              {option}\n            </label>\n          ))\n        }\n\n      </div>\n    )\n  }\n}\n\nclass Settings extends Component {\n  static contextType = StoreContext\n  render() {\n    const { global } = this.props\n    const { state: globalState } = global\n    const { navItems, statusBarItems } = globalState\n    return (\n      <Container>\n        <h2> Settings </h2>\n\n        {/* \n        <h4>Language</h4>\n        <OptionGroup\n          options={['English', 'Deutsch']}\n        />\n        */}\n\n        <h4>Theme</h4>\n        {\n          global.state.theme\n        }\n\n        {/*\n        TODO custom provider settings\n        <h4>Dangerous</h4>\n        <GlobalToggle label=\"Dangerous operations\" name={\"dangerous\"} options={[true, false]}  />\n\n\n        <h4>Mode</h4>\n\n        <OptionGroup\n          options={['Default', 'Minimal', 'Expert', 'Custom']}\n        />\n        */}\n\n        <Row style={{\n          justifyContent: 'normal',\n          borderTop: '1px solid gray',\n          marginTop: 10\n        }}>\n          <Column>\n            <h4>Navigation</h4>\n            {\n              navItems.map((item, idx) => <Setting key={item.label || item.name} name=\"navItems\" item={item}  />)\n            }\n          </Column>\n          <Column>\n            <h4>Statusbar</h4>\n            {\n              statusBarItems.map((item, idx) => <Setting key={item.label || item.name} name=\"statusBarItems\" item={item}  />)\n            }\n          </Column>\n          <Column />\n          <Column />\n        </Row>\n\n      </Container>\n    )\n  }\n}\n\nexport default withGlobalState(Settings)\n","import React, { Component } from 'react'\n\nexport default class InplaceEdit extends Component {\n  state = {\n    showInput: false,\n    value: ''\n  }\n  componentDidMount = () => {\n    const { value } = this.props\n    this.setState({\n      value\n    })\n  }\n  /*\n  static getDerivedStateFromProps(props, state){\n    console.log('get derived')\n    if (props.value) {\n      // state.value = props.value\n    }\n    return state\n  }\n  */\n  componentDidUpdate(prevProps, prevState) {\n    if (this.props.value !== prevProps.value) {\n      this.setState({ value: this.props.value })\n    }\n  }\n  onKeyDown = (e) => {\n    if (e.key === 'Enter') {\n      this.setState({\n        showInput: false\n      })\n      this.props.onChange(this.state.value)\n      // e.stopPropagation();\n      // e.preventDefault();\n    }\n  }\n  onChange = (ev) => {\n    this.setState({ value: ev.target.value })\n  }\n  handleClick = () => {\n    this.setState({ showInput: true })\n    setTimeout(() => {\n      this.focus()\n    }, 500)\n  }\n  focus() {\n    this.userInput.focus();\n  }\n  onBlur = () => {\n    this.setState({\n      showInput: false\n    })\n  }\n  render() {\n    const { showInput, value } = this.state\n    let { placeholder = 'Edit me' } = this.props\n    return (\n      <div\n        style={{\n          display: 'flex',\n          flexDirection: 'column',\n          height: 20,\n          ...this.props.style\n        }}\n        onBlur={this.onBlur}\n      >\n        <div\n          style={{\n            display: showInput ? 'none' : 'block'\n          }}\n          onClick={this.handleClick}\n        >{value || placeholder}</div>\n        <input\n          type=\"text\"\n          ref={(input) => { this.userInput = input; }}\n          style={{\n            visibility: showInput ? 'visible' : 'hidden'\n          }}\n          value={value}\n          onBlur={this.onBlur}\n          onChange={this.onChange}\n          onKeyDown={this.onKeyDown}\n        />\n      </div>\n    )\n  }\n}\n","import React, { Component } from 'react'\nimport ListItem from '../../../widgets/ListItem'\nimport { LabeledField } from '../../../widgets/LabeledField'\nimport Address from '../../../widgets/Address'\nimport EthValue from '../../../widgets/EthValue'\nimport InplaceEdit from '../../../widgets/InplaceEdit'\nimport { withGlobalState } from '../../../Context'\n\nclass AddressListItem extends Component {\n  state = {\n    balance: 0,\n    txCount: 0,\n    alias: ''\n  }\n  componentDidMount = async () => {\n    const { provider, address, global } = this.props\n    const { state : globalState } = global\n    const { aliases } = globalState\n    const alias = aliases[address] || ''\n    const balance = await provider.getBalance(address)\n    const txCount = await provider.getTransactionCount(address)\n    this.setState({ balance, txCount, alias })\n  }\n  handleSetAlias = (alias) => {\n    this.setState({\n      alias\n    })\n    const { global, address } = this.props\n    const { state : globalState } = global\n    const { aliases } = globalState\n    let newState = {\n      ...aliases\n    }\n    newState[address] = alias\n    global.setState({ aliases: newState})\n  }\n  render() {\n    const { address, } = this.props\n    const { balance, alias } = this.state\n    return (\n      <ListItem \n        clickable={false}\n        style={{\n          justifyContent: 'space-between'\n        }}\n      >\n        <LabeledField label=\"Address\" style={{\n          flexBasis: '30em'\n        }} >\n          <Address address={address} />\n        </LabeledField>\n        <LabeledField label=\"Alias\">\n          <InplaceEdit style={{ paddingTop: 5 }} value={alias} onChange={this.handleSetAlias} />\n        </LabeledField>\n        {/*spacer*/}\n        <span></span>\n        <LabeledField label=\"Balance\" style={{\n          flexBasis: '15em',\n        }}>\n          <EthValue wei={balance} />\n        </LabeledField>\n        <LabeledField label=\"Contract\" value=\"false\" styleValue={{ paddingTop: 5 }} />\n      </ListItem>\n    )\n  }\n}\n\nexport default withGlobalState(AddressListItem)\n","import React, { Component } from 'react'\nimport AddressItem from './AddressListItem'\nimport { getDataProvider } from '../../../js/DataProvider'\nimport Container from '../../../widgets/Container'\nimport ProviderList from '../../ProviderList'\nimport Connectivity from '../../../widgets/Connectivity'\n\nexport default class AddressList extends Component {\n  render() {\n    return (\n      <Connectivity>\n        <Container>\n          <ProviderList\n            className=\"AddressList\"\n            itemName=\"Addresses\"\n            loadItems={provider => getDataProvider(provider).getAllAddresses()}\n            renderItem={({ provider, item: address}) => <AddressItem key={address} provider={provider} address={address} />}\n          />\n        </Container>\n      </Connectivity>\n    )\n  }\n}\n","import React, { Component } from 'react'\nimport Container from '../../../widgets/Container'\nimport Tree from '../../../widgets/Tree'\nimport Error from '../../../widgets/Error'\nimport Connectivity from '../../../widgets/Connectivity'\n\nexport default class Network extends Component {\n  state = {\n    networkData: undefined,\n    error: undefined\n  }\n  componentDidMount = async () => {\n    const { provider } = this.props\n    // const modules = await provider.send('rpc_modules', [])\n    // console.log('modules', modules)\n    const root = {\n      name: 'This Computer',\n      children: []\n    }\n    try {\n      const peers = await provider.send('admin_peers')\n      console.log('peers', peers)\n\n      for (const peer of peers) {\n        const {\n          name, // client-version-info\n          id,\n          enode,\n          enr,\n          protocol,\n          network\n        } = peer\n        root.children.push({\n          name,\n          attributes: network,\n          children: []\n        })\n      }\n\n    } catch (error) {\n      console.log('error', error)\n      return this.setState({\n        error\n      })\n    }\n    this.setState({\n      networkData: root\n    })\n  }\n  render() {\n    const { networkData, error } = this.state\n    return (\n      <Connectivity>\n        <Container>\n          {networkData && <Tree\n            data={networkData}\n            orientation=\"horizontal\"\n            pathFunc=\"straight\"\n            centered=\"vertically\"\n          />}\n          <Error error={error} />\n        </Container>\n      </Connectivity>\n    )\n  }\n}\n","import React, { Component } from 'react'\nimport Clickable from './Clickable'\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faPaste } from '@fortawesome/free-solid-svg-icons'\nimport { showNotification } from './Notification'\n\n\nexport default class CopyClipboardButton extends Component {\n  copyToClipboard = () => {\n    const { value } = this.props\n    if (!value) { return }\n    navigator.clipboard.writeText(value).then(function () {\n      console.log('Async: Copying to clipboard was successful!');\n      showNotification('copied: '+value)\n    }, function (err) {\n      console.error('Async: Could not copy text: ', err);\n      alert('failed to copy')\n    });\n  }\n  render() {\n    return (\n      <Clickable onClick={this.copyToClipboard} style={{ width: '1.5rem', height: '1.5rem'}}>\n        <FontAwesomeIcon icon={faPaste} style={{ width: '100%', height: '100%', color: '#666' }} />\n      </Clickable>\n    )\n  }\n}\n","import React, { Component } from 'react'\nimport CopyClipboardButton from './CopyClipboardButton'\n\nexport default class CommandLineSnippet extends Component {\n  render() {\n    const { command } = this.props\n    return (\n      <div style={{\n        display: 'flex',\n        alignItems: 'center',\n      }}>\n        <pre style={{\n          backgroundColor: '#313131dd',\n          flex: 1,\n          color: 'white',\n          padding: 5,\n          paddingLeft: 10,\n          paddingRight: 10,\n          borderRadius: 5,\n          paddingTop: 10,\n          fontSize: '1.2rem',\n          margin: 0,\n          marginRight: 10\n        }}>$ {command}</pre> <CopyClipboardButton value={command} />\n      </div>\n    )\n  }\n}\n","import React, { Component } from 'react'\n\nexport default class GetGridOverlay extends Component {\n  render() {\n    return (\n      <div style={{\n        position: 'absolute',\n        width: '100%',\n        height: '100%',\n        backgroundColor: '#9a9a9a55',\n        top: 0,\n        left: 0,\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center',\n        flexDirection: 'column',\n        backdropFilter: 'blur(6px)',\n      }}>\n        <h2>Run Grid</h2>\n        <span style={{\n          margin: 10,\n          padding: 10,\n          fontSize: '1.2rem',\n          letterSpacing: 2,\n          backgroundColor: 'black',\n          color: 'white',\n          font: 'Consolas'\n        }}>\n          npx grid-core server\n        </span>\n        <span>advanced client management becomes available through Ethereum Grid</span>\n      </div>\n    )\n  }\n}\n","import React, { Component } from 'react'\nimport Error from '../../../widgets/Error'\nimport Button from '../../../widgets/Button'\nimport Select from '../../../widgets/Select'\nimport ListItem from '../../../widgets/ListItem'\nimport GridAPI from './GridAPI'\n\nclass VersionListItem extends Component {\n  downloadClient = () => {\n\n  }\n  render() {\n    const { release } = this.props\n    const {\n      name,\n      fileName,\n      version,\n      updated_ts,\n      size,\n      platform\n    } = release\n    return (\n      <ListItem>\n        <span>{release.name}</span>\n        <Button label=\"download\" onClick={this.downloadClient}/>\n      </ListItem>\n    )\n  }\n}\n\n\nexport default class VersionList extends Component {\n  state = {\n    versionList: [],\n    isLoading: false,\n    error: undefined\n  }\n  componentDidMount = async () => {\n    try {\n      this.setState({\n        isLoading: true\n      })\n      let versionList = await GridAPI.getVersionList()\n      versionList = versionList.map(v => v.fileName)\n      this.setState({\n        versionList: [...versionList]\n      })\n    } catch (error) {\n      this.setState({ error })\n    }\n    this.setState({\n      isLoading: false\n    })\n  }\n  render() {\n    const { versionList, error, isLoading } = this.state\n    const selectOptions = versionList.map(v => ({\n      label: v,\n      value: v\n    }))\n    const selectedOption = selectOptions\n    return (\n      <div>\n        <Select \n          label=\"Update available!\"\n          value={selectedOption}\n          options={selectOptions} \n        />\n        {error && <Error error={error} />}\n      </div>\n    )\n  }\n}\n","import React, { Component } from 'react'\nimport Form from '../../../widgets/Form'\nimport TextField from '../../../widgets/TextField'\nimport Select from '../../../widgets/Select'\n\nexport default class ClientConfiguration extends Component {\n  handleChange = () => {\n\n  }\n  renderField(setting) {\n    let { id, type, label, default: defaultValue,  disabled = false, options, hint, isMulti } = setting\n    if (Array.isArray(options)) {\n      type = 'select'\n    }\n    switch (type) {\n      case 'select': {\n        return (\n          <Select\n            key={id}\n            data-test-id={`input-select-${id}`}\n            label={label}\n            value={defaultValue}\n            options={options}\n            disabled={disabled}\n            hint={hint}\n            isMulti={isMulti}\n            onChange={value => this.handleChange(id, value)}\n          />\n        )\n      }\n      default:\n        return (\n          <TextField\n            key={id}\n            data-test-id={`input-text-${id}`}\n            variant=\"outlined\"\n            label={label}\n            value={defaultValue}\n            disabled={disabled}\n            onChange={event => this.handleChange(id, event.target.value)}\n            fullWidth\n          />\n        )\n    }\n  }\n  render() {\n    const { settings = [], style } = this.props\n    return (\n      <div style={{\n        flex: 1,\n        display: 'flex',\n        minHeight: 300,\n        ...style\n      }}>\n        <Form style={{\n          flexDirection: 'row',\n          flexWrap: 'wrap'\n        }}>\n          {settings.map(setting => this.renderField(setting))}\n        </Form>\n      </div>\n    )\n  }\n}\n","import React, { Component } from 'react'\nimport Button from '../../../widgets/Button'\n\nexport default class Controls extends Component {\n  startClient = async () => {\n    console.log('start client')\n  }\n  stopClient = async () => {\n    console.log('stop client')\n  }\n  downloadClient = async () => {\n    console.log('download client')\n  }\n  render() {\n    const { style } = this.props\n    return (\n      <div style={{\n        ...style\n      }}>\n        <Button label=\"download\" onClick={this.downloadClient}/>\n        <Button label=\"start\" onClick={this.startClient}/>\n        <Button label=\"stop\" onClick={this.stopClient}/>\n      </div>\n    )\n  }\n}\n","// https://github.com/ethereum/go-ethereum/wiki/Command-Line-Options\nconst flags_geth = {\n  '--main': {\n    label: 'Main (real value)',\n    flag: '',\n  },\n  '--testnet': {\n    label: 'Ropsten (testnet)',\n    toml: '',\n    description: 'Ropsten network: pre-configured proof-of-work test network',\n    support: [], // which version support flag\n    group: 'network'\n  },\n  '--rinkeby': {\n    label: 'Rinkeby (testnet)',\n    description: 'Rinkeby network: pre-configured proof-of-authority test network',\n    alias: '--networkid 4',\n  },\n  '--goerli': {\n    label: 'Görli (testnet)',\n    description: 'Görli network: pre-configured proof-of-authority test network'\n  },\n  '--dev': {\n    label: 'Local (dev mode)',\n    description: 'Ephemeral proof-of-authority network with a pre-funded developer account, mining enabled'\n  },\n  '--networkid $d': {\n    description:  'Network identifier (integer, 1=Frontier, 2=Morden (disused), 3=Ropsten, 4=Rinkeby) (default: 1)'\n  },\n  '--rpc': {\n    label: 'HTTP RPC API'\n  },\n  '--rpccorsdomain': {\n    label: 'RPC Cors',\n    requires: '--rpc'\n  },\n  '--rpcapi': {\n    label: 'RPC APIs',\n    requires: '--rpc'\n  },\n  '--allow-insecure-unlock': {\n    label: 'Insecure Account Unlock',\n    description: 'Allow insecure account unlocking when account-related RPCs are exposed by http'\n  },\n  '--graphql': {\n    label: 'Enable GraphQL Server'\n  },\n}\n\n// https://besu.hyperledger.org/en/stable/Reference/CLI/CLI-Syntax/\nconst flags_besu = {\n  '--graphql-http-enabled': {\n    env: 'BESU_GRAPHQL_HTTP_ENABLED',\n    type: 'boolean',\n    toml: 'graphql-http-enabled',\n    description: 'Enables the GraphQL HTTP service. The default is false.\\nThe default GraphQL HTTP service endpoint is http://127.0.0.1:8547/graphql if set to true'\n  },\n  '--graphql-http-cors-origins': {\n    description: 'A list of comma-separated origin domain URLs for CORS validation. The default is none.'\n  }\n}\n\nconst SETTINGS_GROUPS = {\n  'Network': ['--main', '--testnet', '--rinkeby', '--goerli', '--dev', '--networkid $d']\n}\n\n\nconst convert = () => {\n  const settings = SETTINGS_GROUPS\n  for (const settingKey in settings) {\n    const settingValue = settings[settingKey]\n    \n  }\n}\n\n\nconst extendFlagsTableWithGroups = (flagTable, groups) => {\n  for (const groupName in groups) {\n    const group = groups[groupName];\n    for (const flag of group) {\n      flagTable[flag].group = groupName\n    }\n  }\n  return flagTable\n}\n\nexport const flagsToSettings = (flags) => {\n  const flagsTable = extendFlagsTableWithGroups(flags_geth, SETTINGS_GROUPS)\n\n  const parts = flags.split('--').map(flag => '--'+flag) \n\n  const settings = []\n  for (const currentFlag of parts) {\n\n    const [flagKey, flagValue] = currentFlag.replace(/\"/g, '').split(/=| /)\n\n    if (flagsTable[flagKey]) {\n      const flagMetadata = flagsTable[flagKey]\n      // e.g. --goerli, --testnet are part of group 'network'\n      if (flagMetadata.group) {\n        // generate other options for group. \n        // this will be rendered as a select field with mutually exclusive options\n        const options = SETTINGS_GROUPS[flagMetadata.group]\n        settings.push({\n          label: flagMetadata.group,\n          default: flagKey,\n          options: options.map(option => ({\n            label: flagsTable[option].label,\n            value: option,\n          }))\n        })\n      } \n      \n      else {\n\n        // e.g. --rpccorsdomain=\"*\" => key:--rpccorsdomain, value:'*'\n        if (flagValue) {\n          const values = flagValue.split(',')\n          let options = undefined\n          let isMulti = false\n          if (values.length > 1) {\n            options = values.map(o => ({ label: o, value: o}))\n            isMulti =true\n          }\n          settings.push({\n            label: flagMetadata.label || 'no label',\n            default: flagValue,\n            options,\n            isMulti\n          })\n        } else {\n          settings.push({\n            label: flagMetadata.label || 'no label',\n            default: 'true',\n            options: [ {label: 'on', value: 'true' }, { label: 'off', value: 'false' } ]\n          })\n        }\n      }\n    } else {\n      console.warn('no metadata found for flag', currentFlag)\n    }\n  }\n  return settings\n}\n\nconst settingsToFlags = () => {}\n\nexport const clients = [\n  { \n    name: 'Ganache', \n    logo: 'https://raw.githubusercontent.com/trufflesuite/ganache/develop/static/icons/png/128x128.png',\n  },\n  { \n    name: 'Geth', \n    logo: 'https://geth.ethereum.org/static/images/mascot.png',\n    profiles: [\n      {\n        name: 'dev',\n        flags: './geth --dev --rpc --rpccorsdomain=\"*\" --rpcapi \"eth,web3,personal,net,debug,admin\" --allow-insecure-unlock --graphql'\n      },\n      {\n        name: 'main',\n        flags: ' ',\n      },\n      { name: 'custom' }\n    ] \n  },\n  { \n    name: 'Besu', \n    logo: 'https://www.hyperledger.org/wp-content/uploads/2019/08/Hyperledger_Besu_color.png', \n    deactivated: true \n  },\n  { \n    name: 'Nethermind', \n    logo: 'https://c.gitcoin.co/grants/c5141dbcabe3cca0d61c76d9e7e3b6a7/Nethermind_logo_RGB.png', \n    deactivated: true \n  },\n  { name: 'Open Ethereum', logo: 'https://www.parity.io/assets/img/logos/logo-parity-dark.png?v=668139a6b7', deactivated: true }\n]\n","import React, { Component } from 'react'\n\nexport default class ClientItem extends Component {\n  render() {\n    const { client, selected, onClick } = this.props\n    const { name, logo, deactivated } = client\n    return (\n      <div\n        style={{\n          width: 100,\n          height: 100,\n          padding: selected ? 5 : 6,\n          margin: 5,\n          borderWidth: selected ? 2 : 1,\n          borderStyle: 'solid',\n          borderColor: selected ? '#08a79c' : '#999',\n          borderRadius: 10,\n          display: 'flex',\n          alignItems: 'center',\n          justifyContent: 'center',\n          opacity: deactivated ? 0.3 : 1,\n          cursor: deactivated ? 'normal' : 'pointer',\n        }}\n        onClick={deactivated ? () => { } : onClick}\n      >\n        <img\n          style={{\n            maxWidth: '100%',\n            height: 'auto',\n            maxHeight: '100%'\n          }}\n          src={logo} />\n      </div>\n    )\n  }\n}\n","import React, { Component, Fragment } from 'react'\nimport GetGridOverlay from './GetGridOverlay'\nimport VersionList from './VersionList'\nimport Controls from './Controls'\nimport DynamicForm from './DynamicConfigForm'\nimport CommandLineSnippet from '../../../widgets/CommandLineSnippet'\nimport { Row } from '../../../widgets/Row'\nimport { clients, flagsToSettings } from './Clients'\nimport CustomSelect from '../../../widgets/Select'\nimport Button from '../../../widgets/Button'\nimport TextField from '../../../widgets/TextField'\nimport ClientItem from './ClientItem'\n\nconst getProfileSettings = (clientSettings, profile) => {\n\n  if (profile.name === 'custom') {\n    return [...clientSettings]\n  }\n\n  const profileSettings = Object.keys(profile)\n  const settings = []\n  for (const key of profileSettings) {\n    const value = profileSettings[key]\n    // e.g.: setting: network, value: 'dev'\n    // check if client has a setting with id: 'network'\n    const clientSetting = clientSettings.find(s => s.id === key)\n    if (!clientSetting) { continue; } // TODO issue warning\n    const copy = { ...clientSetting }\n\n    // the client setting has a default that is overwritten by the profile\n    /*\n    {\n    id: 'network',\n    default: 'main',\n    label: 'Network',\n    options: [...]\n    }\n    */\n    // profile default network - value = dev\n    // copy.default = value\n    settings.push(copy)\n  }\n  return settings\n}\n\nconst flagsFromSettings = (clientSettings, profile) => {\n  if (!profile) {\n    return ''\n  }\n  if (!Array.isArray(clientSettings)) {\n    throw new Error('Settings must be an Array instance')\n  }\n  let relevantSettings = getProfileSettings(clientSettings, profile)\n  let flags = './geth '\n  for (const setting of relevantSettings) {\n    const selectedValue = setting.default // or user setting\n    if (selectedValue) {\n      if (setting.flag) {\n        flags += setting.flag.replace('%s', setting.default) + ' '\n      }\n      else if (setting.options) {\n        const selectedOption = setting.options.find(o => o.value === setting.default)\n        console.log('selected otpion', selectedOption)\n        flags += selectedOption.flag + ' '\n      }\n    }\n  }\n  return flags\n}\n\nclass ClientConfig extends Component {\n  state = {\n    selectedProfile: 'main'\n  }\n  handleProfileChanged = (profile) => {\n    const { value } = profile\n    this.setState({\n      selectedProfile: value\n    })\n  }\n  renderProfileConfig() {\n    const { selectedProfile } = this.state\n    const { client } = this.props\n    const { profiles } = client\n    return (\n      <Row style={{ justifyContent: 'normal', alignItems: 'flex-end' }}>\n        <span style={{\n          fontSize: '1.25rem',\n          fontWeight: 'bold',\n          paddingTop: 10,\n          paddingBottom: 10,\n          paddingRight: 10,\n        }}>Preset: </span>\n        <CustomSelect\n          style={{\n            marginRight: 10,\n          }}\n          value={selectedProfile}\n          options={profiles.map(p => ({ label: p.name, value: p.name }))}\n          onChange={this.handleProfileChanged}\n        />\n        { selectedProfile === 'custom' &&\n          <Fragment>\n            <TextField label=\"Config Name\" style={{ marginRight: 10 }} />\n            <Button icon=\"Save\" label=\"Save\" />\n          </Fragment>\n        }\n      </Row>\n    )\n  }\n  renderSettingsConfig() {\n    const { client } = this.props\n    const { selectedProfile: profileName } = this.state\n    const selectedProfile = client.profiles.find(p => p.name === profileName)\n    if (!selectedProfile.flags) {\n      return <span>WARNING: Profile does not contain flags</span>\n    }\n    const profileSettings = flagsToSettings(selectedProfile.flags)\n    return (\n      <DynamicForm style={{ marginTop: 10 }} settings={profileSettings} />\n    )\n  }\n  render() {\n    const { selectedProfile: profileName } = this.state\n    const { client } = this.props\n    const selectedProfile = client.profiles.find(p => p.name === profileName)\n    const flags = selectedProfile.flags || 'error'\n    return (\n      <Fragment>\n        <h2>Client config</h2>\n        { this.renderProfileConfig() }\n        { this.renderSettingsConfig() }\n        <h2>Flags preview</h2>\n        <CommandLineSnippet command={flags} />\n      </Fragment>\n    )\n  }\n}\n\nexport default class Grid extends Component {\n  state = {\n    selectedClient: 'Geth',\n    selectedProfile: 'main'\n  }\n  handleClientChanged = (client) => {\n    this.setState({\n      selectedClient: client.name\n    })\n  }\n\n  renderMainPanel = () => {\n    const { selectedClient, selectedProfile: selectedProfileName } = this.state\n\n    const client = clients.find(c => c.name === selectedClient)\n    const { profiles = [] } = client\n\n    return (\n      <div style={{\n        maxHeight: '100%'\n      }}>\n        <Row style={{ justifyContent: 'normal' }}>\n          {clients.map(client => <ClientItem\n            key={client.name}\n            client={client}\n            selected={client.name === selectedClient}\n            onClick={() => this.handleClientChanged(client)}\n          />)}\n        </Row>\n        <h2>Client version</h2>\n        <Row style={{ justifyContent: 'normal', alignItems: 'flex-end' }}>\n          <VersionList /> \n          <Button style={{ marginLeft: 10, fontSize: '1.35rem', padding: 5 }} icon=\"Download\" enabled={false} label=\"Download\" />\n        </Row>\n        {client.profiles &&  <ClientConfig client={client} />}\n        {/*\n        <h2>Client controls</h2>\n        <Controls style={{\n          marginTop: 20\n        }} />\n         */}\n        {\n          /* TODO  Disk Info */\n        }\n      </div>\n    )\n  }\n  render() {\n    const gridRunning = true\n    return (\n      <div style={{\n        position: 'relative',\n      }}>\n        {gridRunning\n          ? this.renderMainPanel()\n          : <GetGridOverlay />\n        }\n      </div>\n    )\n  }\n}\n","import React, { Component } from 'react'\nimport Container from '../../../widgets/Container'\nimport CommandLineSnippet from '../../../widgets/CommandLineSnippet'\nimport { withGlobalState } from '../../../Context'\nimport Grid from '../grid/Grid'\n\nclass Client extends Component {\n  state = {}\n  componentDidMount = async () => {\n    const { provider } = this.props\n    try {\n      const clientInfo = await provider.send('web3_clientVersion')\n      this.setState({\n        clientInfo\n      })\n    } catch (error) {\n      console.log('error', error)\n    }\n  }\n  renderClientInfo = () => {\n    const { provider } = this.props\n    const { clientInfo } = this.state\n    return (\n      <div style={{\n        flex: 1,\n        display: 'flex',\n        flexDirection: 'column'\n      }}>\n        <pre>\n          {JSON.stringify(clientInfo, null, 2)}\n        </pre>\n        {/* <SyncState provider={provider} /> */}\n      </div>\n    )\n  }\n  renderHowTo = () => {\n    const { global } = this.props\n    const { state: globalState } = global\n    const { selectedProvider } = globalState\n    const command = './geth --dev --rpc --rpccorsdomain=\"*\" --rpcapi \"eth,web3,personal,net,debug\" --allow-insecure-unlock'\n    return (\n      <div style={{\n        border: '2px solid #ff9245',\n        borderRadius: 20,\n        padding: 30,\n        fontSize: '1.2rem'\n      }}>\n        <div>It seems your client is not running or your connection has problems.</div>\n        <div>Try selecting a different provider or restart your client.</div>\n        <br />\n        <div>Client start command:</div>\n        {selectedProvider === 'Ganache'? <span>Download and run Ganache: https://github.com/trufflesuite/ganache/releases/latest</span> : <CommandLineSnippet command={command} /> }\n      </div>\n    )\n  }\n  render() {\n    const { clientInfo } = this.state\n    const { global } = this.props\n    const { state: globalState } = global\n    const { isConnected } = globalState\n    return (\n      <Container>\n        <h2>Client info</h2>\n        {!isConnected && this.renderHowTo() }\n        { false && this.renderClientInfo() }\n        <Grid />\n      </Container>\n    )\n  }\n}\n\nexport default withGlobalState(Client)","import React, { Component } from 'react'\nimport { Row } from '../../../widgets/Row'\nimport Button from '../../../widgets/Button'\nimport DateField from '../../../widgets/DateField'\nimport Address from '../../../widgets/Address'\nimport { Column } from '../../../widgets/Column'\nimport ListItem from '../../../widgets/ListItem'\nimport Pill from '../../../widgets/Pill'\n\nexport default class WorkflowListItem extends Component {\n  render() {\n    const { workflow } = this.props\n    const {\n      projectId,\n      version,\n      workflowId,\n      // created_at,\n      updated_at,\n      displayName,\n      shortDescription,\n      publisher, \n    } = workflow\n\n    // hosted workflow\n    let {\n      releaseId = ''\n    } = workflow\n    // url-friendly\n    releaseId = releaseId.split('@')[0].replace('/', '-')\n\n    const { name: publisherName, address } = publisher || {}\n    // TODO support tags\n    const hasTags = false\n    return (\n      <ListItem to={`/workflows/${releaseId || workflowId}`}>\n        <Column>\n          <Row style={{ alignItems: 'center', padding: 5 }}>\n            <Button\n              icon=\"Play\"\n              iconColor=\"#08a79c\"\n              label=\"\"\n              onClick={() => this.props.onRunWorkflow(workflow)}\n            />\n            <Column style={{ marginLeft: 5}}>\n              <Row style={{ marginBottom: 10 }}>\n                <div style={{\n                  margin: 5,\n                  display: 'flex',\n                  flex: 1,\n                  flexDirection: 'row',\n                  alignItems: 'center'\n                }}>\n                  <span style={{ fontWeight: 'bold' }}>{displayName}</span>\n                  <span style={{ marginTop: -5, marginLeft: 10 }}>v{version}</span>\n                  <DateField ts={updated_at / 1000} relative style={{ marginLeft: 'auto' }} />\n                </div>\n                <div style={{ display: 'none', flexDirection: 'column' }}>\n                  <div style={{ alignSelf: 'flex-end' }}>{publisherName}</div>\n                  <Address address={address} />\n                </div>\n              </Row>\n              <Row>\n                <span style={{ marginLeft: 5, marginTop: -5 }}>{shortDescription}</span>\n              </Row>\n            </Column>\n          </Row>\n          {hasTags &&\n            <Row style={{\n              paddingLeft: 52\n            }}>\n              <Pill>Beginner</Pill>\n            </Row>\n          }\n        </Column>\n\n      </ListItem>\n    )\n  }\n}\n","import React, { Component } from 'react'\nimport moment from 'moment'\nimport ListItem from '../../../widgets/ListItem'\nimport Button from '../../../widgets/Button'\nimport Spinner from '../../../widgets/Spinner'\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faCheck } from '@fortawesome/free-solid-svg-icons'\nimport { Column } from '../../../widgets/Column'\nimport { Row } from '../../../widgets/Row'\n\nexport default class JobListItem extends Component {\n  render() {\n    const { job } = this.props\n    const {\n      id, // job id\n      workflowId, // \n      name,\n      displayName,\n      version,\n      isInstalled,\n      state,\n      started_at,\n      finished_at\n    } = job\n    const isRunning = !job.finished_at\n\n    return (\n      <ListItem \n      to={`/workflows/jobs/${id.replace('jobId:','')}`}\n      style={{\n        alignItems: 'center'\n      }}>\n        <div style={{\n          width: 20,\n          height: 20,\n          padding: 5\n        }}>\n          {isRunning\n            ? <Spinner />\n            : <FontAwesomeIcon icon={faCheck} style={{ color: '#08a79c', width: '100%', height: '100%' }} />\n          }\n        </div>\n        <Column>\n          <Row style={{\n            justifyContent: 'normal',\n            margin: 10\n          }}>\n            <div style={{\n              margin: 5,\n              display: 'flex',\n              alignItems: 'center'\n            }}>\n              <span style={{ fontWeight: 'bold' }}>{displayName}</span>\n              <span style={{ marginTop: -5, marginLeft: 10 }}>v{version}</span>\n            </div>\n          </Row>\n          <div style={{\n            marginLeft: 15\n          }}>\n            {\n              isRunning\n                ? <span>started {moment(job.started_at).from()}</span>\n                : <span>finished {moment(job.finished_at).from()}</span>\n            }\n          </div>\n        </Column>\n      </ListItem>\n    )\n  }\n}\n","import React, { Component } from 'react'\nimport Container from '../../../widgets/Container'\nimport GridAPI from '../grid/GridAPI'\n\nimport Tabs from '../../../widgets/Tabs'\nimport Tab from '../../../widgets/Tab'\nimport WorkflowListItem from './WorkflowListItem'\nimport JobListItem from './JobListItem'\nimport List from '../../../widgets/List'\nimport { withRouter } from 'react-router-dom'\n\nclass Workflows extends Component {\n  state = {\n    selectedTab: 0\n  }\n  handleRunWorkflow = async (workflow) => {\n    const isConnected = true\n    if (isConnected) {\n      try {\n        const job = await GridAPI.runWorkflow(workflow.releaseId || workflow.workflowId)\n        // this.setState({ selectedTab: 1 })\n        this.props.history.push(`/workflows/jobs/${job.id.replace('jobId:','')}`)\n      } catch (error) {\n        alert('error: '+error.message)\n      }\n\n\n    } else {\n      alert('This functionality requires Grid')\n    }\n  }\n  renderGridRequired = () => {\n    return (\n      <div style={{\n        height: 200,\n        border: '2px solid #ff9245',\n        borderRadius: 20,\n        padding: 30,\n        fontSize: '1.2rem'\n      }}>\n        <div>Workflows require Grid to be running</div>\n        <div>Check back another day to see instructions for a setup.</div>\n      </div>\n    )\n  }\n  renderTabs = () => {\n    const { selectedTab } = this.state\n    // const loadItems = () => GridAPI.getWorkflows()\n    const loadItems = () => GridAPI.searchWorkflows()\n    return (\n      <Tabs\n        style={{\n          fontSize: '1.25rem',\n          padding: 7,\n          marginBottom: 10,\n        }}\n        selectedTab={selectedTab}\n        onChange={idx => this.setState({ selectedTab: idx })}\n      >\n        <Tab label=\"Workflows\" key=\"1\">\n          <List\n            header={false}\n            loadItems={loadItems}\n            itemName=\"workflows\"\n            renderItem={workflow => <WorkflowListItem key={workflow.name} workflow={workflow} onRunWorkflow={this.handleRunWorkflow} />}\n          />\n        </Tab>\n        <Tab label=\"Jobs\" key=\"2\">\n          <List\n            header={false}\n            loadItems={() => GridAPI.getJobs()}\n            itemName=\"jobs\"\n            polling={5 * 1000}\n            renderItem={job => <JobListItem key={job.id} job={job} />}\n          />\n        </Tab>\n      </Tabs>\n    )\n  }\n  render() {\n    const inNano = true\n    const isGridConnected = true\n    return (\n      <Container\n        isCard={inNano ? false : true}\n        style={{\n          padding: inNano ? 0 : 10\n        }}\n      >\n        {isGridConnected\n          ? this.renderTabs()\n          : this.renderGridRequired()\n        }\n      </Container>\n    )\n  }\n}\n\nexport default withRouter(Workflows)","import React, { Component } from 'react'\nimport ReactMarkdown from 'react-markdown'\n\nexport default class Markdown extends Component {\n  render() {\n    return (\n      <div style={{\n        backgroundColor: '#f9f9f9',\n        padding: 5,\n        flex: 1,\n        overflow: 'auto'\n      }}>\n        <ReactMarkdown\n          source={this.props.source}\n          escapeHtml={false}\n        />\n      </div>\n    )\n  }\n}\n","import React, { Component } from 'react'\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { library } from '@fortawesome/fontawesome-svg-core'\nimport { faCheckSquare, faCoffee, faCircle, faCheck, faCertificate, faSquare } from '@fortawesome/free-solid-svg-icons'\n\nlibrary.add(faCheckSquare, faCoffee, faCircle, faCheck, faSquare, faCertificate)\n\n\nexport default class Icon extends Component {\n  render() {\n    const { icon, color: iconColor, style } = this.props\n    return (\n      icon === 'certificate'\n        ? <span className=\"fa-layers fa-fw\" style={{ ...style }}>\n          <FontAwesomeIcon icon=\"certificate\" color={iconColor} />\n          <FontAwesomeIcon icon=\"check\" inverse transform=\"shrink-6\" />\n        </span>\n        : <FontAwesomeIcon icon={icon} style={{ color: iconColor, margin: 5 }} pulse={icon === 'Spinner'} />\n    )\n  }\n}\n","import React, { Component, Fragment } from 'react'\nimport Container from '../../../widgets/Container'\nimport { withRouter } from 'react-router-dom'\nimport Tabs from '../../../widgets/Tabs'\nimport Tab from '../../../widgets/Tab'\nimport Markdown from '../../../widgets/Markdown'\nimport GridAPI from '../grid/GridAPI'\nimport CodeEditor from '../../../widgets/CodeEditor'\nimport Button from '../../../widgets/Button'\nimport { LabeledField } from '../../../widgets/LabeledField'\nimport Pill from '../../../widgets/Pill'\nimport { Row } from '../../../widgets/Row'\nimport CommandLineSnippet from '../../../widgets/CommandLineSnippet'\nimport ethpkg from 'ethpkg'\nimport Address from '../../../widgets/Address'\nimport Icon from '../../../widgets/Icon'\n\nclass WorkflowTag extends Component {\n  render() {\n\n    const { tag } = this.props\n\n    const tagValue = tag.replace('tag:workflow:','').replace('workflow:tag:', '')\n\n    const colors = {\n      dangerous: 'red',\n      docker: '#3396EC',\n      mainnet: 'orange',\n      advanced: 'orange',\n    }\n\n    return <Pill color={colors[tagValue]} style={{ marginRight: 5, opacity: 0.7 }} > { tagValue } </Pill>\n  }\n}\n\nclass WorkflowDetails extends Component {\n  state = {\n    workflowId: '',\n    readme: '### The author did not provide a README.md',\n    sourceCode: '',\n    dockerfile: '',\n    packageJson: undefined,\n    packageSignature: undefined\n  }\n  componentDidMount = () => {\n    this.setState({\n      workflowId: this.getWorkflowId()\n    })\n    this.fetchWorkflowInfo()\n    this.fetchWorkflowPackage()\n  }\n  getWorkflowId() {\n    const { match } = this.props\n    const { params } = match\n    const { workflowId } = params\n    return workflowId\n  }\n  fetchWorkflowInfo = async () => {\n    try {\n      const workflowId = this.getWorkflowId()\n      const info = await GridAPI.getWorkflow(workflowId)\n      console.log('workflow info', info)\n    } catch (error) {\n      console.log('info error', error)\n    }\n  }\n  fetchWorkflowPackage = async () => {\n    let pkg\n    try {\n      const workflowId = this.getWorkflowId().replace('-', '/')\n      pkg = await GridAPI.getWorkflowPackage(workflowId)\n    } catch (error) {\n      console.log('fetch workflow package error', error)\n    }\n    if (!pkg) { return }\n    this.recoverSignature(pkg)\n    // console.log('package metadata', pkg.metadata, pkg)\n    const entries = await pkg.getEntries()\n    console.log('entries', entries.map(e => e.relativePath))\n    this.loadFile(pkg, 'README.md', 'readme')\n    this.loadFile(pkg, 'Dockerfile', 'dockerfile')\n    this.loadFile(pkg, 'index.js', 'sourceCode')\n    this.loadPackageJson(pkg)\n  }\n  recoverSignature = async (pkg) => {\n    try {\n      const result = await ethpkg.verifyPackage(pkg)\n      console.log('result', result)\n      this.setState({\n        packageSignature: result\n      })\n    } catch (error) {\n    }\n  }\n  loadFile = async (pkg, fileName, stateVar) => {\n    try {\n      const contents = await pkg.getContent(fileName)\n      const change = {}\n      change[stateVar] = contents.toString()\n      this.setState(change)\n    } catch (error) {\n      console.log('fetch file error', error)\n    }\n  }\n  loadPackageJson = async (pkg) => {\n    try {\n      const packageJson = await pkg.getContent('package.json')\n      this.setState({\n        packageJson: JSON.parse(packageJson.toString())\n      })\n    } catch (error) {\n      \n    }\n  }\n  renderWorkflowInfo() {\n    const { packageJson, packageSignature } = this.state\n    const {\n      name,\n      version,\n      description,\n      repository,\n      author,\n      license,\n      grid\n    } = (packageJson || {})\n\n    const {\n      name: authorName,\n      email\n    } = (author || {})\n\n    const {\n      version: gridVersion,\n      type,\n      tags = []\n    } = (grid || {})\n\n    const {\n      signers = [],\n      isValid = false,\n      isTrusted\n    } = (packageSignature || {})\n\n    const spacerStyle = { borderLeft: '1px solid black', marginLeft: 10, marginRight: 10, marginTop: 4, marginBottom: 4 }\n    // FIXME hardcoded signer\n    const signer = 'grid.philipplgh.eth'\n\n    return (\n      <div style={{\n        border: '1px solid #0c6c7144',\n        borderRadius: 2,\n        padding: 20,\n        display: 'flex',\n        flexDirection: 'column'\n      }}>\n        <Row style={{ justifyContent: 'normal' }}>\n          <h2 style={{ color: '#2e2e2e', paddingLeft: 5 }}>{name}</h2>\n          { version && <Pill color=\"#efefef\" style={{ color: '#969696', marginTop: -15, marginLeft: 15 }}>v{version}</Pill> }\n        </Row>\n        <Row style={{ justifyContent: 'normal' }}>\n          <LabeledField \n            label=\"Author\"\n            value={authorName || '<undefined>'}\n            />\n            <div style={spacerStyle}></div>\n          <LabeledField \n            label={() => <span style={{ display: 'inline-flex' }}>Package Signature\n            <Icon icon=\"certificate\" color=\"#72e0a4\" style={{ fontSize: '1.3rem', marginTop: -8, marginLeft: 5 }} />\n            </span>}\n            >\n              <span>{signers.length > 0 \n              ? <Address address={signers[0].address} style={{ paddingTop: 0 }} /> \n              : <Pill color=\"red\" style={{  color: 'white', fontWeight: 'bold' }}>UNSIGNED!</Pill> \n              }</span>\n            </LabeledField>\n            <div style={spacerStyle}></div>\n            <LabeledField \n              label=\"Repository\"\n              value={repository || '<undefined>'}\n            />\n            <div style={spacerStyle}></div>\n            <LabeledField \n              label=\"License\"\n              value={license}\n            />\n        </Row>\n\n        <Row style={{ alignItems: 'center' }}>\n          <LabeledField \n            label=\"Description\"\n          >\n            <span style={{ fontSize: '1.35rem' }}>{description}</span>\n          </LabeledField>\n        </Row>\n\n        <LabeledField label=\"One-Liner\">\n            <div style={{ display: 'flex', alignItems: 'baseline'}}><CommandLineSnippet command={`npx grid-core workflow run ${signer}/${name}`} /></div>\n        </LabeledField>\n\n        <Row\n          style={{\n            marginTop: 10,\n            paddingTop: 10,\n            borderTop: '1px solid #eee',\n            justifyContent: 'normal'\n          }}\n          >\n          { tags.map(t => <WorkflowTag key={t} tag={t} />)}\n        </Row>\n\n      </div>\n    )\n  }\n  handleRunWorkflow() {\n\n  }\n  render() {\n    const { workflowId, readme, sourceCode, packageJson, dockerfile } = this.state\n    const { name } = (packageJson || {})\n    const isGridConnected = false\n    return (\n      <Container\n        style={{\n          borderRadius: 0,\n          maxHeight: '100%',\n        }}\n        header={() => (<Fragment>Workflow details: \"{workflowId}\"</Fragment>)}\n        headerStyle={{\n          margin: 10\n        }}\n      >\n        <div style={{\n          flex: 1,\n          display: 'flex',\n          flexDirection: 'column'\n        }}>\n\n        { this.renderWorkflowInfo()}\n\n        { /* TODO DISPLAY JOBS for this workflow */ }\n\n\n        <div style={{\n          marginTop: 30,\n          marginBottom: 10,\n          display: 'flex',\n          flexDirection: 'column'\n        }}>\n\n          <Button\n            icon={\"Play\"} \n            iconColor=\"#08a79c\"\n            style={{ fontSize: '1.25rem',  alignSelf: 'flex-end', marginRight: 15 }}\n            label=\"Run Workflow\" \n            enabled={isGridConnected}\n            onClick={this.handleRunWorkflow} />\n        </div>\n\n        <Tabs style={{\n          fontSize: '1.5rem',\n          marginRight: 20\n        }}>\n          <Tab label=\"Readme\">\n            <Markdown source={readme}/>\n          </Tab>\n          <Tab label=\"Code\" style={{ overflow: 'hidden'}}>\n            <CodeEditor source={sourceCode} language=\"javascript\" />\n          </Tab>\n          { dockerfile && \n          <Tab label=\"Dockerfile\" style={{ overflow: 'hidden'}}>\n            <CodeEditor source={dockerfile} language=\"docker\" />\n          </Tab>\n          }\n        </Tabs>\n        </div>\n\n      </Container>\n    )\n  }\n}\n\nexport default withRouter(WorkflowDetails)","import React, { Component } from 'react'\nimport { Terminal as XTermTerminal, IBuffer, ITerminalAddon } from 'xterm'\nimport \"xterm/css/xterm.css\"\nimport { AttachAddon } from 'xterm-addon-attach'\n// import { FitAddon } from 'xterm-addon-fit'\n\n/**\n * wrapper around xterm\n * to ease configuration and setup\n */\nclass TerminalWrapper {\n\n  constructor( _container ) {\n    this._container = _container\n\n    const xterm = new XTermTerminal({\n      cols: 180,\n      rows: 500\n    })\n    this.xterm = xterm\n\n    xterm.setOption('fontSize', 12)\n    xterm.setOption('letterSpacing', 2)\n    xterm.setOption('lineHeight', 1)\n    xterm.setOption('cursorBlink', true)\n    xterm.setOption('fontFamily', 'Menlo, \"DejaVu Sans Mono\", \"Lucida Console\", monospace')\n    xterm.setOption('theme', {\n      background: '#333'\n    })\n    xterm.writeln(`***** Ethereum Grid: Emulated Terminal for \"foo\" *****`)\n\n    // const fitAddon = new FitAddon();\n    // xterm.loadAddon(fitAddon);\n\n    xterm.open(_container);\n\n    // TODO kills scroll\n    // fitAddon.fit()\n\n  }\n  attach(socketUrl) {\n    const protocol = (window.location.protocol === 'https:') ? 'wss://' : 'ws://';\n    const socket = new WebSocket(`${protocol}${socketUrl}`);\n    let x = new AttachAddon(socket);\n    this.xterm.loadAddon(x);\n  }\n\n}\n\nexport default class TerminalUI extends Component {\n  componentDidMount() {\n    const { terminalContainer } = this\n    const term = new TerminalWrapper(terminalContainer)\n    term.attach(this.props.socketUrl)\n  }\n  render() {\n    return (\n      <div\n        style={{\n          flex: 1,\n          display: 'flex',\n          overflow: 'hidden'\n        }}\n        ref={ref => {\n          this.terminalContainer = ref\n        }}\n      />\n    )\n  }\n}\n","import React, { Component, Fragment } from 'react'\nimport Container from '../../../widgets/Container'\nimport Tabs from '../../../widgets/Tabs'\nimport Tab from '../../../widgets/Tab'\nimport GridAPI from '../grid/GridAPI'\nimport { withRouter } from 'react-router-dom'\nimport Terminal from '../../../widgets/Terminal'\n\nclass JobProcessTerminal extends Component {\n  state = {\n    port: undefined\n  }\n  componentDidMount = async () => {\n    console.log('terminal did mount')\n    const result = await GridAPI.attachToJobProcess(this.props.processId)\n    console.log('result', result)\n    const { port } = result\n    this.setState({\n      port\n    })\n  }\n  render() {\n    const { port } = this.state\n    return (\n      <div style={{\n        backgroundColor: '#333',\n        padding: 5,\n        overflowX: 'hidden',\n        flex: 1,\n        display: 'flex'\n      }}>\n        {port\n        ? <Terminal socketUrl={`127.0.0.1:${port}`} />\n        : <span>Waiting for connection</span>\n        }\n      </div>\n    )\n  }\n}\n\n\nclass JobDetails extends Component {\n  state = {\n    jobId: '',\n    processes: []\n  }\n  componentDidMount = () => {\n    const jobId = this.getJobId()\n    this.setState({\n      jobId\n    })\n    this.fetchJobDetails(jobId)\n    this.fetchJobProcesses()\n    this.handler = setInterval(this.fetchJobProcesses, 2000)\n  }\n  componentWillUnmount = () => {\n    clearInterval(this.handler)\n  }\n  getJobId() {\n    const { match } = this.props\n    const { params } = match\n    const { jobId } = params\n    return jobId\n  }\n  fetchJobDetails = async (jobId) => {\n    try {\n      const jobs = await GridAPI.getJobs()\n      const job = jobs.find(job => job.id.includes(jobId))\n      console.log('job found', job)\n      this.setState({\n        job\n      })\n    } catch (error) {\n\n    }\n  }\n  fetchJobProcesses = async () => {\n    try {\n      const jobId = this.getJobId()\n      const processes = await GridAPI.getProcessesByJobId('jobId:'+jobId)\n      console.log('processes', processes)\n      this.setState({\n        processes: [...processes]\n      })\n    } catch (error) {\n      console.log('error fetching job procs', error)\n    }\n  }\n  renderJobDetails(job) {\n    const {\n      id, // job id\n      workflowId, // \n      name,\n      displayName,\n      version,\n      isInstalled,\n      state,\n      started_at,\n      finished_at\n    } = job || { name: 'error', version: 'error' }\n    return (\n      <div style={{\n        border: '1px solid black',\n        padding: 30,\n        margin: 20,\n        marginLeft: 10,\n        marginRight: 10,\n        display: 'flex',\n        flexDirection: 'column'\n      }}>\n        <span>Name: {name}</span>\n        <span>Version: {version}</span>\n      </div>\n    )\n  }\n  render() {\n    const { jobId, job, processes } = this.state\n\n    return (\n      <Container\n        style={{\n          borderRadius: 0,\n          maxHeight: '100%',\n          overflowY: 'hidden'\n        }}\n        header={() => (<Fragment>Job details: {jobId}</Fragment>)}\n        headerStyle={{\n          margin: 10\n        }}\n      >\n        {job && this.renderJobDetails(job)}\n        <Tabs style={{\n          fontSize: '1.25rem',\n          padding: 7,\n          marginBottom: 10\n        }}>\n          { \n          processes.map((p, idx) => (\n            <Tab label={p.name} key={idx}>\n              <JobProcessTerminal processId={p.id} />\n            </Tab>\n          )) \n          }\n        </Tabs>\n      </Container>\n    )\n  }\n}\n\nexport default withRouter(JobDetails)\n\n","\nimport React from \"react\";\nimport { Route } from \"react-router-dom\";\nexport default ({ component: C, props: cProps, ...rest }) => <Route {...rest} render={props => <C {...props} {...cProps} />} />;\n","import React, { Component } from 'react'\nimport Container from '../../../widgets/Container'\n\nconst tokens = [\n  {\n    name: 'Tether',\n    address: '0xdac17f958d2ee523a2206206994597c13d831ec7'\n  }\n]\n\nclass TokenListItem extends Component {\n  render() {\n    const { token = {} } = this.props\n    const { name } = token\n    return (\n      <div>{name}</div>\n    )\n  }\n}\n\nexport default class Tokens extends Component {\n  render() {\n    return (\n      <Container>\n        <h2>hello tokens</h2>\n        {tokens.map((token, idx) => <TokenListItem key={token.address} token={token}/>)}\n      </Container>\n    )\n  }\n}\n","import React, { Component } from 'react'\nimport Container from '../../../widgets/Container'\n\nexport default class TokenDetails extends Component {\n  render() {\n    return (\n      <Container>\n        <h2>Token details for </h2>\n      </Container>\n    )\n  }\n}\n","import React from 'react';\n\nimport {\n  Switch, useRouteMatch,\n} from \"react-router-dom\"\n\nimport BlockList from './components/main/blocks/BlockList';\nimport TransactionList from './components/main/transactions/TransactionList';\nimport AccountsList from './components/main/accounts/AccountsList';\nimport Contracts from './components/main/contracts/Contracts';\nimport CreateContractView from './components/main/contracts/CreateContractView';\nimport AccountDetails from './components/main/accounts/AccountDetails';\nimport ContractDetails from './components/main/contracts/ContractDetails';\nimport SendTransaction from './components/main/transactions/SendTransaction';\nimport BlockDetails from './components/main/blocks/BlockDetails';\nimport TransactionDetails from './components/main/transactions/TransactionDetails';\nimport ScriptList from './components/main/scripts/ScriptList';\nimport Settings from './components/main/settings/Settings';\nimport AddressList from './components/main/addresses/AddressList';\nimport Tools from './components/main/tools/Tools';\nimport Network from './components/main/network/Network';\nimport Client from './components/main/client/Client';\nimport Workflows from './components/main/workflows/Workflows';\nimport WorkflowDetails from './components/main/workflows/WorkflowDetails';\nimport JobDetails from './components/main/workflows/JobDetails';\nimport AppliedRoute from './AppliedRoute';\nimport Tokens from './components/main/tokens/Tokens';\nimport TokenDetails from './components/main/tokens/TokenDetails';\n\nexport default ({ provider, currentBlock }) => {\n  let match = useRouteMatch();\n  let prefix = match.url\n  if (!['/main'].includes(prefix)) {\n    prefix = ''\n  }\n  return (\n    <Switch>\n      <AppliedRoute path={`${prefix}/accounts/:address`} component={AccountDetails} props={{ provider }} />\n      <AppliedRoute path={`${prefix}/`} exact component={AccountsList} />\n      <AppliedRoute path={`${prefix}/accounts`} component={AccountsList} />\n      <AppliedRoute path={`${prefix}/addresses`} component={AddressList} />\n      <AppliedRoute path=\"/blocks/:blockNumber\" component={BlockDetails} props={{ provider }} />\n      <AppliedRoute path=\"/blocks\" component={BlockList} props={{ start: 0, end: currentBlock }} />\n      <AppliedRoute path=\"/transactions/new/:to?\" component={SendTransaction} key={provider ? provider.createdAt : 'not_set'} props={{ provider }} />\n      <AppliedRoute path=\"/transactions/:txHash\" component={TransactionDetails} />\n      <AppliedRoute path=\"/transactions\" component={TransactionList} props={{ blockNumber: currentBlock }} />\n      <AppliedRoute path=\"/contracts/new\" component={CreateContractView} props={{ provider }} />\n      <AppliedRoute path={`/:network?/contracts/:address`} component={ContractDetails} key={provider ? provider.createdAt : 'not_set'} />\n      <AppliedRoute path={`${prefix}/contracts`} component={Contracts} />\n      <AppliedRoute path={`${prefix}/tokens/:address`} component={TokenDetails} />\n      <AppliedRoute path={`${prefix}/tokens`} component={Tokens} />\n      <AppliedRoute path=\"/network\" component={Network} props={{ provider }} />\n      <AppliedRoute path=\"/client\" component={Client} key={provider ? provider.createdAt : 'not_set'} props={{ provider }} />\n      <AppliedRoute path=\"/workflows/jobs/:jobId\" component={JobDetails} props={{ provider }} />\n      <AppliedRoute path=\"/workflows/:workflowId\" component={WorkflowDetails} props={{ provider }} />\n      <AppliedRoute path=\"/workflows\" component={Workflows} props={{ provider }} />\n      <AppliedRoute path=\"/scripts\" component={ScriptList} props={{ provider }} />\n      <AppliedRoute path=\"/tools\" component={Tools} props={{ provider }} />\n      <AppliedRoute path=\"/settings\" component={Settings} props={{ provider }} />\n    </Switch>\n  )\n}\n","import React, { Component } from 'react';\nimport './App.css';\nimport { ethers, providers } from 'ethers';\nimport {\n  withRouter,\n} from \"react-router-dom\"\nimport TopNavigation from './components/navigation/TopNavigation';\nimport StatusBar from './components/status/StatusBar';\nimport Error from './widgets/Error';\nimport { Row } from './widgets/Row';\nimport { withNewContext, withGlobalState } from './Context'\nimport { useTheme } from './Theme';\nimport Routes from './Routes';\nimport Notification from './widgets/Notification';\n\nconst createProvider = (selectedProvider, providers) => {\n  const providerConfig = providers.find(p => p.name === selectedProvider)\n  const { url, name } = providerConfig\n  let newProvider\n  if (url === 'web3') {\n    newProvider = new ethers.providers.Web3Provider(window.web3.currentProvider)\n  } else {\n    newProvider = new ethers.providers.JsonRpcProvider(`http://${url}`)\n  }\n  // we need a way to detect new instances of provider\n  newProvider.createdAt = Date.now()\n  return newProvider\n}\n\nclass App extends Component {\n  state = {\n    currentBlock: 0,\n    interval: undefined\n  }\n  componentDidMount = async () => {\n    const { match } = this.props\n    const { params } = match\n    const { network } = params\n    console.log('app params', network)\n    if (network === 'main') {\n      // this.tryConnect()\n    } else {\n      this.tryConnect()\n    }\n  }\n  tryConnect = () => {\n    let { interval } = this.state\n    if (interval) {\n      return\n    }\n    const { global: _global } = this.props\n    const connectionInterval = _global.state.connectionInterval || 2000\n\n    const checkConnection = async () => {\n      const { global } = this.props\n      const { state: globalState } = global\n      // some values are cached on old provider sow e should not re-use it when the connection comes back\n      // such as the createdAt flag & potentially calls to getNetwork()\n      // if we want to detect network changes of re-started clients we have to reset completely\n      let { /*provider,*/ isConnected, selectedProvider, providers, } = globalState\n      let provider = createProvider(selectedProvider, providers)\n      let block\n      try {\n        block = await provider.getBlockNumber()\n        // network cannot be used to check - seems to get cached\n        // const network = await provider.getNetwork()\n        if (block !== undefined && !isConnected) {\n          global.setState({ isConnected: true, provider: provider })\n        }\n      } catch (error) {\n        // console.log('error', error)\n        if (isConnected) {\n          global.setState({ isConnected: false })\n        }\n      }\n      // only update if changed?\n      // FIXME this causes many re-renders on all components\n      if (block && this.state.currentBlock !== block) {\n        this.setState({\n          currentBlock: block || 0\n        })\n      }\n    }\n\n    // run once immediately\n    checkConnection()\n    interval = setInterval(checkConnection, connectionInterval)\n    this.setState({\n      interval,\n    })\n  }\n  render() {\n    const { state: globalState } = this.props.global\n    const theme = useTheme(this.props.global)\n    const navItems = globalState.navItems.filter(item => !item.exclude)\n    const { currentBlock, error } = this.state\n    const { provider } = globalState\n\n    // TODO allows workflow to be part of url so that a link to a contract e.g. includes the infrastructure info\n    return (\n      <div className=\"App\" style={{\n        display: 'flex',\n        flexDirection: 'column',\n        height: '100vh',\n        backgroundColor: theme.backgroundColor,\n        fontFamily: `'Roboto', sans-serif`,\n        overflow: 'hidden'\n      }} >\n        <Row style={{ padding: 3, fontSize: '1.0rem' }}>\n          <span style={{ color: '#939393' }}>Ethereum GUI v1.0.0</span>\n          <span style={{ color: '#939393', marginRight: 10 }}>philipplgh.eth</span>\n        </Row>\n        <TopNavigation items={navItems} />\n        <StatusBar provider={provider} currentBlock={currentBlock} />\n        {error\n          ? <Error error={error} />\n          : (\n            <main>\n              <Notification />\n              <Routes provider={provider} currentBlock={currentBlock} />\n            </main>\n          )\n        }\n      </div>\n    );\n  }\n}\n\nexport default withNewContext(withGlobalState(withRouter(App)))","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React, { Component, Fragment } from 'react'\n\nexport default class Resizable extends Component {\n  state = {\n    width: 0,\n    height: 0\n  }\n  componentDidMount = () => {\n    window.addEventListener('resize', this.handleResize)\n    this.getDimensions()\n  }\n  componentWillUnmount = () => {\n    window.removeEventListener('resize', this.handleResize)\n  }\n  getDimensions = () => {\n    const { innerWidth: width, innerHeight: height } = window;\n    this.setState({\n      width,\n      height\n    })\n  }\n  handleResize = () => {\n    this.getDimensions()\n  }\n  render() {\n    const { width, height } = this.state\n    return (\n      <Fragment>\n        { this.props.children }\n      </Fragment>\n    )\n  }\n}\n","import React, { Component } from 'react'\nimport Workflows from '../main/workflows/Workflows'\nimport { withGlobalState, withNewContext } from '../../Context'\nimport { BrowserRouter as Router } from 'react-router-dom'\n\nclass Nano extends Component {\n  render() {\n    return (\n      <Router>\n        <div style={{\n          width: 320,\n          height: 420,\n          backgroundColor: 'white',\n          fontSize: '10px'\n        }}>\n          <Workflows />\n        </div>\n      </Router>\n    )\n  }\n}\n\nexport default withNewContext(withGlobalState(Nano))\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport Resizable from './widgets/Resizable'\nimport Nano from './components/nano/Nano';\nimport { HashRouter as Router, Switch, Route } from 'react-router-dom';\n\nfunction Responsive({ width = window.innerWidth }) {\n  return (\n    (width <= 320)\n      ? <Nano />\n      : <Router>\n        <Switch>\n          <Route path=\"/:network?\">\n            <App />\n          </Route>\n        </Switch>\n      </Router>\n  )\n}\n\nReactDOM.render(\n  <React.StrictMode>\n    <Resizable>\n      <Responsive />\n    </Resizable>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","import React from 'react'\nimport { withRouter } from 'react-router-dom'\nimport Button from './Button'\n\nexport default withRouter(({ history, style }) => {\n  return (\n    <Button \n      style={style} \n      onClick={() => history.goBack()}\n      icon=\"ArrowLeft\"\n      label=\"Back\"\n    />\n  )\n})","import React, { Component } from 'react'\nimport { Row } from './Row'\nimport BackButton from './BackButton'\n\nexport default class ContainerHeader extends Component {\n  render() {\n    const { title, backButton=true } = this.props\n    return (\n      <Row style={{\n        justifyContent: 'space-between',\n        alignItems: 'center',\n        ...this.props.style\n      }}>\n        {backButton ? <BackButton /> : <div></div> }\n        <span style={{\n          fontSize: '1.35rem',\n          color: '#666',\n          alignSelf: 'center'\n        }}>{typeof title === 'function' ? title() : title}</span>\n        {/* space element */}\n        <div></div>\n      </Row>\n    )\n  }\n}\n","import React, { Component } from 'react'\nimport { withGlobalState } from '../Context'\nimport { useTheme } from '../Theme'\nimport ContainerHeader from './ContainerHeader'\n\nclass Container extends Component {\n  render() {\n    const { style = {}, global, header, isCard=true, backButton=true } = this.props\n    const theme = useTheme(global)\n    return (\n      <div className={isCard ? 'card' : ''} style={{\n        flex: 1,\n        display: 'flex',\n        flexDirection: 'column',\n        padding: 10,\n        maxHeight: '100%',\n        overflowY: 'auto',\n        backgroundColor: theme.container.backgroundColor,\n        color: theme.container.color,\n        margin: 10,\n        borderRadius: 10,\n        ...style\n      }}>\n        { header && <ContainerHeader style={this.props.headerStyle} title={header} backButton={backButton} /> }\n        { this.props.children }\n      </div>\n    )\n  }\n}\n\nexport default withGlobalState(Container)\n","import React, { Component } from 'react'\nimport { withGlobalState } from '../Context'\nimport { useTheme } from '../Theme'\nimport Text from './Text'\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport * as icons from '@fortawesome/free-solid-svg-icons'\n\nclass Button extends Component {\n  handleOnClick = (e) => {\n    const { onClick = () => { console.warn('No button click handler provided') } } = this.props\n    if (e) {\n      e.stopPropagation()\n      e.preventDefault()\n    }\n    onClick(e)\n  }\n  render() {\n    const { style, global, enabled= true, icon, iconColor = undefined, dangerous = false } = this.props\n    // TODO disable when dangerous active + conditions\n    const theme = useTheme(global)\n    return (\n      <button \n        style={{\n          display: 'inline-flex',\n          paddingTop: 3,\n          paddingBottom: 3,\n          cursor: enabled ? 'pointer' : 'not-allowed',\n          color: theme.foreground,\n          ...style,\n          backgroundColor: 'transparent',\n        }}\n        disabled={!enabled}\n        onClick={this.handleOnClick}\n      >\n        <div style={{\n          display: 'inline-flex',\n          flex: 1,\n          justifyContent: 'space-evenly',\n          alignItems: 'center',\n          opacity: enabled ? 1 : 0.25\n        }}>\n          { icon && <FontAwesomeIcon icon={icons['fa'+icon]} style={{ color: iconColor, margin: 5 }} pulse={icon === 'Spinner'} /> }\n          {this.props.children || <Text>{this.props.label}</Text>}\n        </div>\n      </button>\n    )\n  }\n}\n\nexport default withGlobalState(Button)\n","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst fs_1 = __importDefault(require(\"fs\"));\nconst Mock_1 = __importDefault(require(\"../Repositories/test/Mock\"));\nconst PackageUtils_1 = require(\"../utils/PackageUtils\");\nconst Downloader_1 = require(\"../Downloader\");\nconst IStateListener_1 = require(\"../IStateListener\");\nconst semver_1 = __importDefault(require(\"semver\"));\nconst FilenameUtils_1 = require(\"../utils/FilenameUtils\");\nconst SpecParser_1 = __importDefault(require(\"../SpecParser\"));\nconst RepositoryManager_1 = __importDefault(require(\"../Repositories/RepositoryManager\"));\nconst FsRepo_1 = __importDefault(require(\"../Repositories/FsRepo\"));\nexports.instanceOfPackageQuery = (str) => typeof str === 'string' && str.includes(':') && !fs_1.default.existsSync(str);\nfunction instanceofResolvePackageOptions(object) {\n    return typeof object === 'object' && ('spec' in object);\n}\nexports.instanceofResolvePackageOptions = instanceofResolvePackageOptions;\nconst LOGLEVEL = {\n    WARN: -1,\n    NORMAL: 0,\n    VERBOSE: 2\n};\nconst createLogger = (_loglevel) => {\n    return (loglevel = LOGLEVEL.NORMAL, message, ...optionalParams) => {\n        if (_loglevel >= loglevel) {\n            if (loglevel === LOGLEVEL.WARN) {\n                console.log('WARNING:', message, optionalParams);\n            }\n            else {\n                console.log(message, optionalParams);\n            }\n        }\n    };\n};\nconst log = createLogger(LOGLEVEL.NORMAL);\nclass Fetcher {\n    constructor(repoManager) {\n        this.name = 'Fetcher';\n        this.repoManager = repoManager || new RepositoryManager_1.default();\n    }\n    /**\n     *\n     * @param spec : PackageQuery\n     * @param options : FetchOptions\n     */\n    filterReleases(releases, { filter = undefined, filterInvalid = true, sort = true, version = undefined, limit = 0, listener = () => { } } = {}) {\n        return __awaiter(this, void 0, void 0, function* () {\n            // filter non-package releases e.g. Github assets that are .txt, .json etc\n            releases = releases.map(release => {\n                if (release.fileName && FilenameUtils_1.hasPackageExtension(release.fileName)) {\n                    return release;\n                }\n                release.error = 'Release has no file name information or unsupported package extension';\n                return release;\n            });\n            // filter invalid releases i.e. releases that have the error field set\n            const invalid = releases.filter(release => ('error' in release && release.error));\n            if (invalid.length > 0) {\n                // log(LOGLEVEL.WARN, `detected ${invalid.length} corrupted releases`)\n                // log(LOGLEVEL.VERBOSE, invalid.map(r => r.error).join('\\n\\n'))\n                listener(IStateListener_1.PROCESS_STATES.FILTERED_INVALID_RELEASES, { invalid });\n            }\n            if (filterInvalid) {\n                releases = releases.filter(release => !('error' in release && release.error));\n            }\n            // filter releases based on version or version range info or filename\n            if (version) {\n                // if version info is a specific filename\n                if (FilenameUtils_1.hasPackageExtension(version)) {\n                    const fileName = version;\n                    const release = releases.find(r => r.fileName.toLowerCase() === fileName.toLowerCase());\n                    releases = release ? [release] : [];\n                }\n                // else: semver logic\n                else {\n                    // TODO move filter in utils\n                    releases = releases.filter(release => {\n                        if (!('version' in release)) {\n                            return false;\n                        }\n                        const release_version = release.version;\n                        return semver_1.default.satisfies(release_version, version);\n                    });\n                }\n            }\n            // apply client-defined filter function\n            if (filter && typeof filter === 'function') {\n                releases = releases.filter(filter);\n            }\n            // sort releases by semver and date, and return them descending (latest first)\n            // do not consider prerelease info (alphabetically) if it is e.g. commit hash\n            if (sort) {\n                listener(IStateListener_1.PROCESS_STATES.SORT_RELEASES_STARTED);\n                releases = releases.sort(PackageUtils_1.multiSort(PackageUtils_1.compareVersions, PackageUtils_1.compareDate));\n                listener(IStateListener_1.PROCESS_STATES.SORT_RELEASES_FINISHED);\n                // releases =  releases.sort(compareVersions)\n            }\n            // only return \"limit\"-number of entries\n            if (limit) {\n                const l = releases.length;\n                releases = releases.slice(0, limit < l ? limit : l);\n            }\n            return releases;\n        });\n    }\n    listReleases(spec, { filter = undefined, filterInvalid = true, sort = true, version = undefined, prefix = undefined, timeout = 0, cache = undefined, skipCache = false, cacheOnly = false, preferCache = true, \n    // TODO cacheThreshold = 24 * 60,\n    pagination = false, limit = 0, listener = () => { } } = {}) {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (!spec || !exports.instanceOfPackageQuery(spec)) {\n                throw new Error(`Package query is undefined or malformed: \"${spec}\"`);\n            }\n            spec = spec.trim();\n            let repository = undefined;\n            let parsedSpec = undefined;\n            if (spec.startsWith('mock')) {\n                const testCase = spec.split(':')[1];\n                repository = new Mock_1.default(testCase);\n            }\n            else {\n                parsedSpec = yield SpecParser_1.default.parseSpec(spec);\n                if (!parsedSpec)\n                    throw new Error(`Unsupported or invalid package specification: \"${spec}\"`);\n                version = parsedSpec.version || version;\n            }\n            const filterArgs = {\n                filter,\n                filterInvalid,\n                sort,\n                version,\n                limit,\n                listener\n            };\n            // before we make a long running call to backend (which requires internet) test the cache\n            let cachedReleases = [];\n            if (cache !== undefined) {\n                if (cache instanceof Array) {\n                    // TODO handle cache arrays\n                    cache = cache[0];\n                }\n                try {\n                    const _cache = new FsRepo_1.default({\n                        project: cache\n                    });\n                    cachedReleases = yield _cache.listReleases();\n                    if (cachedReleases.length > 0 && preferCache) {\n                        let filteredReleases = yield this.filterReleases(cachedReleases, filterArgs);\n                        const latestCached = filteredReleases.length > 0 ? filteredReleases[0] : undefined;\n                        if (latestCached && latestCached.updated_ts) {\n                            const diffMinutes = ((Date.now() - latestCached.updated_ts) / 1000) / 60;\n                            if (diffMinutes < (24 * 60)) {\n                                return filteredReleases;\n                            }\n                        }\n                    }\n                }\n                catch (error) {\n                    // console.log('cache error', error)\n                }\n            }\n            repository = parsedSpec && (yield this.repoManager.getRepository(parsedSpec));\n            if (!repository) {\n                throw new Error('Could not find a repository for specification: ' + spec);\n            }\n            let releases = [];\n            if (cacheOnly) {\n                releases = cachedReleases;\n            }\n            else {\n                listener(IStateListener_1.PROCESS_STATES.FETCHING_RELEASE_LIST_STARTED, { repo: repository.name });\n                try {\n                    releases = yield repository.listReleases({\n                        prefix,\n                        pagination,\n                        timeout\n                    });\n                }\n                catch (error) {\n                    // TODO logger\n                    console.log('Repository exception: could not retrieve release list', error && error.message);\n                    releases = cachedReleases;\n                }\n                listener(IStateListener_1.PROCESS_STATES.FETCHING_RELEASE_LIST_FINISHED, { releases, repo: repository.name });\n            }\n            listener(IStateListener_1.PROCESS_STATES.FILTER_RELEASE_LIST_STARTED);\n            let filteredReleases = yield this.filterReleases(releases, filterArgs);\n            listener(IStateListener_1.PROCESS_STATES.FILTER_RELEASE_LIST_FINISHED, { releases: filteredReleases });\n            return filteredReleases;\n        });\n    }\n    getRelease(spec, { listener = () => { }, filter = undefined, version = undefined, platform = process.platform, // FIXME this info is only implemented via filters\n    prefix = undefined, timeout = 0, skipCache = false, cache = undefined, pagination = false, limit = 0 } = {}) {\n        return __awaiter(this, void 0, void 0, function* () {\n            spec = spec.trim();\n            // notify client about process start\n            listener(IStateListener_1.PROCESS_STATES.RESOLVE_PACKAGE_STARTED, { platform, version });\n            const releases = yield this.listReleases(spec, {\n                filter,\n                filterInvalid: true,\n                sort: true,\n                version,\n                prefix,\n                timeout,\n                cache,\n                skipCache,\n                pagination,\n                limit: 5000,\n                listener\n            });\n            let resolved = undefined;\n            // if more than one release is returned we default to returning the latest version\n            if (!resolved && releases.length > 0) {\n                // handle the common case of remote and local (cached)\n                // having same version. in this case we want to always return cached\n                if (releases.length > 1) {\n                    if (releases[0].version === releases[1].version) {\n                        if (releases[0].remote && !releases[1].remote) {\n                            resolved = releases[1];\n                        }\n                    }\n                }\n                resolved = releases[0];\n            }\n            if (!resolved) {\n                // FIXME failed\n                listener(IStateListener_1.PROCESS_STATES.RESOLVE_PACKAGE_FINISHED, { release: resolved, platform, version });\n                return undefined;\n            }\n            // notify client about process end\n            listener(IStateListener_1.PROCESS_STATES.RESOLVE_PACKAGE_FINISHED, { release: resolved, platform, version });\n            // if package not from cache / fs repo it is always remote\n            // this info is quite critical as it is used e.g. by updaters to determine\n            // if the latest version was fetched from remote or was available locally\n            // TODO implement cache\n            resolved.remote = true;\n            return resolved;\n        });\n    }\n    downloadPackage(release, options = {}) {\n        return __awaiter(this, void 0, void 0, function* () {\n            let { listener, proxy, onDownloadProgress } = options;\n            const stateListener = listener || (() => { });\n            // wrap onProgress\n            // TODO protect with try catch\n            let progress = 0;\n            const _onProgress = (p) => {\n                const progressNew = Math.floor(p * 100);\n                if (progressNew > progress) {\n                    progress = progressNew;\n                    // console.log(`downloading update..  ${pn}%`)\n                    stateListener(IStateListener_1.PROCESS_STATES.DOWNLOAD_PROGRESS, { progress, release, size: release.size });\n                    if (typeof onDownloadProgress === 'function') {\n                        onDownloadProgress(progress, release);\n                    }\n                }\n            };\n            // download release data / asset\n            let { location } = release;\n            if (!location)\n                throw new Error('package location not found');\n            stateListener(IStateListener_1.PROCESS_STATES.DOWNLOAD_STARTED, { location, release });\n            // TODO if proxy is used issue warning\n            if (proxy && proxy.endsWith('/')) {\n                proxy = proxy.slice(0, -1);\n            }\n            location = proxy ? `${proxy}/${encodeURI(location)}` : location;\n            const packageData = yield Downloader_1.download(location, _onProgress, 0, {\n                parallel: 0,\n                headers: options.headers\n            });\n            stateListener(IStateListener_1.PROCESS_STATES.DOWNLOAD_FINISHED, { location, size: packageData.length, release });\n            return packageData;\n        });\n    }\n}\nexports.default = Fetcher;\n//# sourceMappingURL=Fetcher.js.map","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst semver_1 = __importDefault(require(\"semver\"));\n// https://github.com/sindresorhus/semver-regex\nconst semverMatcher = /\\bv?(?:0|[1-9]\\d*)\\.(?:0|[1-9]\\d*)\\.(?:0|[1-9]\\d*)(?:-[\\da-z-]+(?:\\.[\\da-z-]+)*)?(?:\\+[\\da-z-]+(?:\\.[\\da-z-]+)*)?\\b/ig;\nexports.extractVersionFromString = (str) => {\n    if (str === undefined)\n        return undefined;\n    // first check segment by segment\n    const segments = str.split(/(-|_)+/);\n    for (const segment of segments) {\n        const res = semver_1.default.clean(segment, { loose: true });\n        if (res)\n            return res;\n    }\n    // if nothing found try regex (more aggressively)\n    // FIXME regex will not include prerelease info\n    semverMatcher.lastIndex = 0;\n    const result = semverMatcher.exec(str);\n    const version = result && result.length > 0 ? result[0] : undefined;\n    if (!version)\n        return undefined;\n    return semver_1.default.clean(version) || undefined;\n};\n// 0.4.4-Unstable-0bc45194 -> v0.4.4\nexports.versionToDisplayVersion = (version) => {\n    if (!version)\n        return undefined;\n    version = semver_1.default.clean(version) || version;\n    const n = version.indexOf('-');\n    version = version.substring(0, n != -1 ? n : version.length);\n    return `v${version}`;\n};\nexports.extractChannelFromVersionString = (versionString) => {\n    if (!versionString)\n        return undefined;\n    const prereleaseInfo = semver_1.default.prerelease(versionString);\n    const channel = prereleaseInfo && prereleaseInfo.length > 0 ? prereleaseInfo[0] : undefined;\n    return channel;\n};\n// heuristic to extract platform info from (display) name\nexports.extractPlatformFromString = (str) => {\n    str = str.toLowerCase();\n    if (str.includes('win32') || str.includes('windows')) {\n        return 'windows';\n    }\n    if (str.includes('darwin') || str.includes('mac') || str.includes('macos')) {\n        return 'darwin';\n    }\n    if (str.includes('linux')) {\n        return 'linux';\n    }\n    return undefined;\n};\n/*\n* https://askubuntu.com/questions/54296/difference-between-the-i386-download-and-the-amd64\n* amd64 and intel64 are compatible\n* TODO but we might want to distinguish arm chips etc\n* https://en.wikipedia.org/wiki/ARM_architecture#Cores\n*/\nconst ARCH = {\n    'ARM32': '32 Bit',\n    // all arm are 32 since ARMv8-A they are 64/32\n    'ARM64': '64 Bit',\n    'B32': '32 Bit',\n    // TODO use this notation?\n    'B3264': '32/64 Bit',\n    'B64': '64 Bit'\n};\n// heuristic to extract platform architecture (display) name\nfunction extractArchitectureFromString(str) {\n    try {\n        // FIXME remove extension first\n        str = str.toLowerCase();\n        let name = str;\n        // FIXME this heuristic wil fail for binaries with names like winrar\n        // FIXME we can probably re-use the result from extractPlatform here for perf\n        let isWindows = name.includes('windows') || name.includes('win');\n        const parts = str.split(/[\\s_-]+/);\n        for (str of parts) {\n            if (isWindows) {\n                if (str.includes('386')) {\n                    return ARCH.B32;\n                }\n                if (str.includes('amd64')) {\n                    return ARCH.B64;\n                }\n                if (str.includes('win32')) {\n                    return ARCH.B32;\n                }\n            }\n            if (str.includes('x86-64')) {\n                return ARCH.B64;\n            }\n            if (str.includes('x86')) {\n                return ARCH.B32;\n            }\n            if (str.includes('ia32')) {\n                return ARCH.B32;\n            }\n            if (str === 'arm64') {\n                return ARCH.ARM64;\n            }\n            if (str === 'arm') {\n                return ARCH.ARM32;\n            }\n        }\n        return ARCH.B32;\n    }\n    catch (error) {\n        return undefined;\n    }\n}\nexports.extractArchitectureFromString = extractArchitectureFromString;\n//# sourceMappingURL=FilenameHeuristics.js.map","import React, { Component } from 'react'\nimport { withRouter } from 'react-router-dom'\nimport Clickable from './Clickable'\n\nclass ListItem extends Component {\n  render() {\n    const { children, clickable = true, style, to, onClick = (() => {\n      if(!to) return\n      this.props.history.push(to)\n    })} = this.props\n    return (\n      <Clickable clickable={clickable} onClick={onClick} style={{\n        display: 'flex',\n        cursor: clickable? 'pointer' : 'default',\n        borderTop: '1px solid #e6e6e6',\n        color: '#3e3e3e',\n        padding: 5,\n        marginBottom: 2,\n        ...style\n      }}>\n        { children }\n      </Clickable>\n    )\n  }\n}\n\nexport default withRouter(ListItem)\n","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst ethers_1 = require(\"ethers\");\nconst cache = {};\nexports.resolveName = (name) => __awaiter(void 0, void 0, void 0, function* () {\n    if (name in cache) {\n        return cache[name];\n    }\n    // TODO check env to return this only in tests\n    if (name === 'foo.test.eth') {\n        return '0xF863aC227B0a0BCA88Cb2Ff45d91632626CE32e7';\n    }\n    const provider = new ethers_1.ethers.providers.InfuraProvider();\n    const address = yield provider.resolveName(name);\n    cache[name] = address;\n    return address;\n});\nexports.lookupName = (address) => __awaiter(void 0, void 0, void 0, function* () {\n});\n//# sourceMappingURL=ens.js.map","\"use strict\";\nfunction __export(m) {\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__export(require(\"./jws\"));\n//# sourceMappingURL=index.js.map","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\n    result[\"default\"] = mod;\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst ethUtil = __importStar(require(\"ethereumjs-util\"));\n// TODO make sure that private keys are not unneccesarily long kept in memory and/or that pk is not instance variable\nclass PrivateKeySigner {\n    constructor(privateKey) {\n        this.name = 'PrivateKeySigner';\n        this.type = 'signer';\n        if (!ethUtil.isValidPrivate(privateKey)) {\n            throw new Error('Invalid private key');\n        }\n        this._privateKey = privateKey;\n    }\n    getAddress() {\n        return __awaiter(this, void 0, void 0, function* () {\n            return ethUtil.privateToAddress(this._privateKey).toString('hex');\n        });\n    }\n    // NOTE: this signing scheme is quite dangerous as users can be tricked into signing transactions\n    // however hardware modules that implement secp256k1 are unlikely to implement ethereum personal message signing\n    // the rpc format is the \"serialized\" form of r,s,v that geth and other clients are using\n    ecSign(msg) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const msgHash = ethUtil.keccak256(msg);\n            const signature = ethUtil.ecsign(msgHash, this._privateKey);\n            // const signatureData = secp256k1.sign(msgHash, privateKey)\n            // const { signature } = signatureData \n            // const r = signature.slice(0, 32)\n            // const s = signature.slice(32, 64)\n            // signature.v = signatureData.recovery // eth specific: + 27\n            // console.log('signature', signature)\n            // geth (and the RPC eth_sign method) uses the 65 byte format used by Bitcoin\n            // bufferToHex(Buffer.concat([setLengthLeft(r, 32), setLengthLeft(s, 32), toBuffer(v)]))\n            const rpcSig = ethUtil.toRpcSig(signature.v, signature.r, signature.s);\n            return Buffer.from(rpcSig.slice(2), 'hex');\n        });\n    }\n    // https://github.com/ethereum/wiki/wiki/JSON-RPC#eth_sign\n    ethSign(msg) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const ethMsg = ethUtil.hashPersonalMessage(Buffer.from(msg));\n            const signature = ethUtil.ecsign(ethMsg, this._privateKey);\n            const rpcSig = ethUtil.toRpcSig(signature.v, signature.r, signature.s);\n            const signatureBuf = Buffer.from(rpcSig.slice(2), 'hex');\n            return signatureBuf;\n        });\n    }\n}\nexports.default = PrivateKeySigner;\n//# sourceMappingURL=PrivateKeySigner.js.map","import React, { Component } from 'react'\nimport { withGlobalState } from '../Context'\n\nclass Text extends Component {\n  render() {\n    // const { global } = this.props\n    let { text } = this.props\n    if (typeof this.props.children === 'string') {\n      text = this.props.children\n    } else {\n      text = text || \"<invalid>\"\n    }\n    return (\n      <span style={{...this.props.style}}>\n        {text}\n      </span>\n    )\n  }\n}\n\nexport default withGlobalState(Text)\n","const dark = {\n  primaryBackground: '#292929'\n}\n\n// #F4F7F7 - gray cold\n// #FBFAFC - gray warm\n// #353E3E - console bg dark\n// #D8DEDD - console fg \n\n// TODO consider simplification to foreground & background\nexport const Themes = {\n  light: {\n    foreground: '#636363',\n    backgroundColor: '#FBFAFC',\n    topNav: {\n      backgroundColor: '#fff',\n      item: {\n        color: 'rgb(38, 68, 82)'\n      }\n    },\n    statusBar: {\n      backgroundColor: '#fff',\n      label: {\n        color: '#5e5e5e'\n      },\n      value: {\n        color: '#3e3e3e'\n      }\n    },\n    field: {\n      label: {\n        color: '#636363' \n      },\n      value: {\n        color: '#3e3e3e'\n      }\n    },\n    container: {\n      backgroundColor: 'white'\n    }\n  },\n  dark: {\n    foreground: 'white',\n    backgroundColor: '#262626',\n    topNav: {\n      backgroundColor: dark.primaryBackground,\n      item: {\n        color: 'white'\n      }\n    },\n    statusBar: {\n      backgroundColor: dark.primaryBackground,\n      label: {\n        color: '#9e9e9e'\n      },\n      value: {\n        color: '#cecece'\n      }\n    },\n    field: {\n      label: {\n        color: 'white' \n      },\n      value: {\n        color: 'white'\n      } \n    },\n    container: {\n      backgroundColor: dark.primaryBackground,\n      color: 'white',\n    }\n  },\n};\n\nexport const useTheme = (global) => {\n  const { state: globalState } = global\n  const theme = Themes[globalState.theme]\n  return theme\n}","import React, { Component } from 'react'\n\nexport default class Clickable extends Component {\n  state = {\n    hover: false\n  }\n  onMouseOver = (e) => {\n    // only display hover on top most element:\n    this.setState({\n      hover: true\n    })\n    e.stopPropagation();\n  }\n  render() {\n    const { onClick = () => { }, style = {}, clickable = true } = this.props\n    const { hover } = this.state\n    return (\n      <div\n        onClick={(e) => {\n          onClick()\n          e.stopPropagation()\n          e.preventDefault()\n        }}\n        className={clickable ? 'clickable' : ''}\n        style={{\n          display: 'inline-block',\n          paddingTop: 5,\n          paddingBottom: 5,\n          cursor: 'pointer',\n          ...style,\n          backgroundColor: (hover && clickable) ? '#bdbdbd15' : style.backgroundColor\n        }}\n        onMouseEnter={this.onMouseOver}\n        onMouseOver={this.onMouseOver}\n        onMouseOut={() => this.setState({ hover: false})}\n      >\n        {this.props.children}\n      </div>\n    )\n  }\n}\n","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst GitHub_1 = __importDefault(require(\"./GitHub\"));\nconst Azure_1 = __importDefault(require(\"./Azure\"));\nconst Npm_1 = __importDefault(require(\"./Npm\"));\nconst Bintray_1 = __importDefault(require(\"./Bintray\"));\nconst Ipfs_1 = __importDefault(require(\"./Ipfs\"));\nconst EthpkgRepo_1 = __importDefault(require(\"./EthpkgRepo\"));\nclass RepositoryManager {\n    constructor() {\n        // TODO replace with handleSpec mechanism: let repos tell the manager if they can answer requests\n        this.repositories = {\n            'github': GitHub_1.default,\n            'azure': Azure_1.default,\n            'windows': Azure_1.default,\n            'npm': Npm_1.default,\n            'bintray': Bintray_1.default,\n            'ipfs': Ipfs_1.default,\n            'ethpkg': EthpkgRepo_1.default,\n            'ethpkg.org': EthpkgRepo_1.default\n        };\n    }\n    addRepository(name, repo) {\n        return __awaiter(this, void 0, void 0, function* () {\n            this.repositories[name] = repo;\n        });\n    }\n    listRepositories() {\n        return __awaiter(this, void 0, void 0, function* () {\n            return Object.keys(this.repositories);\n        });\n    }\n    removeRepository(name) {\n        return __awaiter(this, void 0, void 0, function* () {\n            return delete this.repositories[name];\n        });\n    }\n    getRepository(config) {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (typeof config === 'string') {\n                if (config in this.repositories) {\n                    return new this.repositories[config]({});\n                }\n                return undefined;\n            }\n            const { name } = config;\n            if (name && name in this.repositories) {\n                return new this.repositories[name.toLowerCase()](config);\n            }\n            // nothing found: ask repos\n            const repos = Object.values(this.repositories);\n            for (const repo of repos) {\n                if (repo.hasOwnProperty('handlesSpec')) {\n                    // @ts-ignore\n                    const processedConfig = repo.handlesSpec(config);\n                    if (processedConfig) {\n                        return new repo(processedConfig);\n                    }\n                }\n            }\n            return undefined;\n        });\n    }\n}\nexports.default = RepositoryManager;\n//# sourceMappingURL=RepositoryManager.js.map","\"use strict\";\nfunction __export(m) {\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__export(require(\"./PackageSigner\"));\n//# sourceMappingURL=index.js.map","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\n    result[\"default\"] = mod;\n    return result;\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst fs_1 = __importStar(require(\"fs\"));\nconst path_1 = __importDefault(require(\"path\"));\nconst ZipPackage_1 = __importDefault(require(\"./ZipPackage\"));\nconst TarPackage_1 = __importDefault(require(\"./TarPackage\"));\nconst file_type_1 = __importDefault(require(\"file-type\"));\nconst IPackage_1 = require(\"./IPackage\");\nconst FilenameUtils_1 = require(\"../utils/FilenameUtils\");\nconst BrowserUtils_1 = require(\"../utils/BrowserUtils\");\nconst util_1 = require(\"../util\");\n// TODO redundant impl. move to utils\nconst isFilePath = (pkgPath) => {\n    try {\n        return fs_1.lstatSync(pkgPath).isFile();\n    }\n    catch (error) {\n        return false;\n    }\n};\nfunction instanceOfPackageData(obj) {\n    return IPackage_1.instanceofIPackage(obj) || Buffer.isBuffer(obj) || (typeof obj === 'string' && isFilePath(obj)) || (util_1.is.browser() && File && obj instanceof File);\n}\nexports.instanceOfPackageData = instanceOfPackageData;\nconst getPackageFromBuffer = (pkgBuf, pkgFileName) => __awaiter(void 0, void 0, void 0, function* () {\n    const bufferType = file_type_1.default(pkgBuf);\n    if (!bufferType) {\n        throw new Error('bad input buffer');\n    }\n    // https://en.wikipedia.org/wiki/List_of_archive_formats\n    if (['application/gzip'].includes(bufferType.mime)) {\n        // FIXME throw if pkgFileName is not provided\n        // FIXME tar packages need a more robust way to determine if gzipped. to use names is especially bad because of cases like this\n        const tar = new TarPackage_1.default(pkgFileName || 'package-from-buffer.tar.gz');\n        yield tar.loadBuffer(pkgBuf);\n        return tar;\n    }\n    else if (['application/x-tar'].includes(bufferType.mime)) {\n        const tar = new TarPackage_1.default(pkgFileName || 'package-from-buffer.tar');\n        yield tar.loadBuffer(pkgBuf);\n        return tar;\n    }\n    else if (bufferType.mime === 'application/zip') {\n        const zip = new ZipPackage_1.default(pkgFileName || 'package-from-buffer.zip');\n        yield zip.loadBuffer(pkgBuf);\n        return zip;\n    }\n    else {\n        throw new Error('unsupported input buffer: ' + bufferType.mime);\n    }\n});\nexports.getPackageFromFile = (pkgSrc) => __awaiter(void 0, void 0, void 0, function* () {\n    if (!fs_1.default.existsSync(pkgSrc)) {\n        throw new Error('package not found');\n    }\n    if (pkgSrc.endsWith('.tar') || pkgSrc.endsWith('.tgz') || pkgSrc.endsWith('.tar.gz')) {\n        const tar = new TarPackage_1.default(pkgSrc);\n        return tar;\n    }\n    else if (pkgSrc.endsWith('.zip')) {\n        const zip = new ZipPackage_1.default(pkgSrc);\n        const pgkContent = fs_1.default.readFileSync(pkgSrc);\n        yield zip.loadBuffer(pgkContent);\n        return zip;\n    }\n    else {\n        let ext = path_1.default.extname(pkgSrc);\n        throw new Error('unsupported package type: ' + ext);\n    }\n});\nexports.toPackage = (pkgSpec, release) => __awaiter(void 0, void 0, void 0, function* () {\n    if (IPackage_1.instanceofIPackage(pkgSpec)) {\n        return pkgSpec;\n    }\n    else if (Buffer.isBuffer(pkgSpec)) {\n        const pkg = yield getPackageFromBuffer(pkgSpec, release ? release.fileName : undefined);\n        pkg.metadata = release;\n        if (!pkg) {\n            throw new Error('Package buffer could not be loaded');\n        }\n        return pkg;\n    }\n    else if (typeof pkgSpec === 'string') {\n        if (!fs_1.default.existsSync(pkgSpec)) {\n            throw new Error('Package file not found at path: ' + pkgSpec);\n        }\n        if (yield isFilePath(pkgSpec)) {\n            return exports.getPackageFromFile(pkgSpec);\n        }\n    }\n    // browser support:\n    else if (util_1.is.browser() && pkgSpec instanceof File && FilenameUtils_1.hasPackageExtension(pkgSpec.name)) {\n        const fileBuffer = yield BrowserUtils_1.readFileToBuffer(pkgSpec);\n        return getPackageFromBuffer(fileBuffer);\n    }\n    throw new Error('Package could not be loaded:' + JSON.stringify(pkgSpec));\n});\n//# sourceMappingURL=PackageService.js.map","import React, { Component } from 'react'\n\nexport default class Tab extends Component {\n  render() {\n    const { children, style } = this.props\n    return (\n      <div \n        className=\"Tab\"\n        style={{ \n          display: 'flex', \n          flex: 1, \n          overflow: 'auto',\n          ...style \n        }}\n      >{children}</div>\n    )\n  }\n}","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst path_1 = __importDefault(require(\"path\"));\nconst fs_1 = __importDefault(require(\"fs\"));\nconst jszip_1 = __importDefault(require(\"jszip\"));\nconst util_1 = require(\"../util\");\nconst IStateListener_1 = require(\"../IStateListener\");\nclass ZipPackage {\n    constructor(packagePathOrName) {\n        this.type = 'zip';\n        this.fileName = '<unknown>';\n        this._size = 0;\n        this.filePath = packagePathOrName || '';\n        if (this.filePath) {\n            this.fileName = path_1.default.basename(this.filePath);\n        }\n    }\n    init() {\n        this.zip = new jszip_1.default();\n        return this;\n    }\n    get size() {\n        return this._size;\n    }\n    tryLoad() {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (!this.zip && this.filePath) {\n                const buf = fs_1.default.readFileSync(this.filePath);\n                yield this.loadBuffer(buf);\n            }\n        });\n    }\n    loadBuffer(buf) {\n        return __awaiter(this, void 0, void 0, function* () {\n            this._size = buf.byteLength;\n            this.zip = yield jszip_1.default.loadAsync(buf);\n            return this;\n        });\n    }\n    getEntries() {\n        return __awaiter(this, void 0, void 0, function* () {\n            yield this.tryLoad();\n            if (!this.zip) {\n                throw new Error('package not loaded - load with loadBuffer()');\n            }\n            // get entries\n            let entries = [];\n            this.zip.forEach((relativePath, file /**ZipObject */) => {\n                const { name, size, unixPermissions: mode, dir: isDir, _data } = file;\n                const { uncompressedSize } = _data;\n                let iFile = {\n                    name: path_1.default.basename(name),\n                    size: uncompressedSize,\n                    mode,\n                    isDir,\n                    readContent: (t = 'nodebuffer') => __awaiter(this, void 0, void 0, function* () {\n                        return file.async(t);\n                    })\n                };\n                entries.push({\n                    relativePath,\n                    file: iFile\n                });\n            });\n            return entries;\n        });\n    }\n    // TODO can be performance optimized\n    getEntry(relativePath) {\n        return __awaiter(this, void 0, void 0, function* () {\n            yield this.tryLoad();\n            if (!this.zip) {\n                throw new Error('package not loaded - load with loadBuffer()');\n            }\n            try {\n                let entries = yield this.getEntries();\n                let entry = entries.find((entry) => ['', '/', './'].some(prefix => `${prefix}${entry.relativePath.replace(/^\\.\\/+/g, '')}` === relativePath));\n                return entry || undefined;\n            }\n            catch (error) {\n                return undefined;\n            }\n        });\n    }\n    getContent(relativePath) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const entry = yield this.getEntry(relativePath);\n            // TODO standardize errors\n            if (!entry)\n                throw new Error('entry does not exist: ' + relativePath);\n            if (entry.file.isDir)\n                throw new Error('entry is not a file');\n            return entry.file.readContent();\n        });\n    }\n    addEntry(relativePath, file) {\n        return __awaiter(this, void 0, void 0, function* () {\n            yield this.tryLoad();\n            if (!this.zip) {\n                throw new Error('package not loaded - load with loadBuffer()');\n            }\n            const content = Buffer.isBuffer(file) ? file : (typeof file === 'string' ? Buffer.from(file) : yield file.readContent());\n            // FIXME does not handle overwrite\n            this._size += content.byteLength;\n            this.zip.file(relativePath, content);\n            return relativePath;\n        });\n    }\n    toBuffer() {\n        return __awaiter(this, void 0, void 0, function* () {\n            yield this.tryLoad();\n            if (!this.zip) {\n                throw new Error('package not loaded - load with loadBuffer()');\n            }\n            let buf = yield this.zip.generateAsync({ type: 'nodebuffer', compression: 'DEFLATE' });\n            return buf;\n        });\n    }\n    // from ISerializable\n    getObjectData() {\n        return __awaiter(this, void 0, void 0, function* () {\n            return {\n                buffer: yield this.toBuffer(),\n                metadata: this.metadata,\n                filePath: this.filePath\n            };\n        });\n    }\n    extract(destPath, { listener = undefined } = {}) {\n        return __awaiter(this, void 0, void 0, function* () {\n            return util_1.extractPackage(this, destPath, listener);\n        });\n    }\n    writePackage(outPath, { overwrite = false, compression = true } = {}) {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (fs_1.default.existsSync(outPath) && !overwrite) {\n                throw new Error('Package exists already! Use \"overwrite\" option');\n            }\n            yield this.tryLoad();\n            if (!this.zip) {\n                throw new Error('package not loaded - load with loadBuffer()');\n            }\n            let options = { type: 'nodebuffer', compression: 'DEFLATE' };\n            if (!compression) {\n                delete options.compression;\n            }\n            const content = yield this.zip.generateAsync(options);\n            fs_1.default.writeFileSync(outPath, content);\n            return outPath;\n        });\n    }\n    static create(dirPathOrName, { listener = () => { } } = {}) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const dirPath = path_1.default.basename(dirPathOrName) === dirPathOrName ? undefined : dirPathOrName;\n            const packageName = dirPath ? path_1.default.basename(dirPathOrName) : dirPathOrName;\n            const pkg = new ZipPackage(packageName).init();\n            const writeFileToPackage = (fullPath) => __awaiter(this, void 0, void 0, function* () {\n                const relativePath = path_1.default.relative(dirPath, fullPath);\n                listener(IStateListener_1.PROCESS_STATES.CREATE_PACKAGE_PROGRESS, {\n                    file: relativePath\n                });\n                yield pkg.addEntry(relativePath, util_1.localFileToIFile(fullPath));\n            });\n            const writeDirToPackage = (dirPath) => __awaiter(this, void 0, void 0, function* () {\n                // console.log('write dir', dirPath)\n                const fileNames = fs_1.default.readdirSync(dirPath);\n                for (const fileName of fileNames) {\n                    const fullPath = path_1.default.join(dirPath, fileName);\n                    if (util_1.isDirSync(fullPath)) {\n                        yield writeDirToPackage(fullPath);\n                    }\n                    else if (util_1.isFileSync(fullPath)) {\n                        yield writeFileToPackage(fullPath);\n                    }\n                    // else ignore symlinks etc\n                }\n            });\n            if (dirPath) {\n                yield writeDirToPackage(dirPath);\n            }\n            return pkg;\n        });\n    }\n    static from(packagePath) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const buf = fs_1.default.readFileSync(packagePath);\n            return new ZipPackage(packagePath).loadBuffer(buf);\n        });\n    }\n}\nexports.default = ZipPackage;\n//# sourceMappingURL=ZipPackage.js.map","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst path_1 = __importDefault(require(\"path\"));\nconst fs_1 = __importDefault(require(\"fs\"));\nconst zlib_1 = __importDefault(require(\"zlib\"));\nconst tar_stream_1 = __importDefault(require(\"tar-stream\"));\nconst util_1 = require(\"../util\");\nconst FilenameUtils_1 = require(\"../utils/FilenameUtils\");\nconst PackageUtils_1 = require(\"../utils/PackageUtils\");\nconst IStateListener_1 = require(\"../IStateListener\");\nclass TarPackage {\n    constructor(packagePathOrName, compressed = true) {\n        this.fileName = '<unknown>';\n        this.filePath = packagePathOrName || '';\n        if (this.filePath) {\n            this.fileName = path_1.default.basename(this.filePath);\n        }\n        this.isGzipped = this.filePath ? ['.tgz', '.tar.gz'].includes(FilenameUtils_1.getExtension(this.filePath)) : compressed;\n    }\n    get size() {\n        return this.tarbuf ? this.tarbuf.byteLength : 0;\n    }\n    init() { }\n    loadBuffer(buf) {\n        return __awaiter(this, void 0, void 0, function* () {\n            this.tarbuf = buf;\n            return this;\n        });\n    }\n    getReadStream() {\n        if (this.tarbuf) {\n            return util_1.bufferToStream(this.tarbuf);\n        }\n        else {\n            return fs_1.default.createReadStream(this.filePath, { highWaterMark: Math.pow(2, 16) });\n        }\n    }\n    processTar(iterator, append) {\n        return __awaiter(this, void 0, void 0, function* () {\n            // create read stream of current archive\n            const inputStream = this.getReadStream();\n            // this is used to transform the input stream into an extracted stream\n            const extract = tar_stream_1.default.extract();\n            // create pack stream for new archive\n            const pack = tar_stream_1.default.pack(); // pack is a streams2 stream\n            // first scan the package and check if the entry exists\n            // if it exists overwrite it\n            extract.on('entry', function (header, stream, next) {\n                return __awaiter(this, void 0, void 0, function* () {\n                    // header is the tar header\n                    // stream is the content body (might be an empty stream)\n                    // call next when you are done with this entry\n                    const result = yield iterator(header, stream, pack);\n                    // the iterator signals with a truthy value that a modification on the entry stream happened\n                    // and the passed stream was already processed --> resume()\n                    if (result) {\n                        next();\n                        stream.resume();\n                    }\n                    else {\n                        // write the unmodified entry to the pack stream\n                        stream.pipe(pack.entry(header, next));\n                    }\n                });\n            });\n            // if file was not replaced add it as new entry here (before finalize):\n            extract.on('finish', function () {\n                return __awaiter(this, void 0, void 0, function* () {\n                    // allow the iterator to append new entries to pack stream here:\n                    if (typeof append === 'function') {\n                        yield append(pack);\n                    }\n                    pack.finalize();\n                });\n            });\n            // start the process by piping the input stream in the transformer (extract)\n            if (this.isGzipped) {\n                inputStream.pipe(zlib_1.default.createGunzip()).pipe(extract);\n            }\n            else {\n                inputStream.pipe(extract);\n            }\n            // FIXME make write stream otional: seek operations do not need it and it costs perf\n            // write new tar to buffer (this consumes the input stream)\n            let strm = this.isGzipped ? pack.pipe(zlib_1.default.createGzip()) : pack;\n            return util_1.streamToBuffer(strm);\n        });\n    }\n    getEntryData(relPath) {\n        return __awaiter(this, void 0, void 0, function* () {\n            return new Promise((resolve, reject) => __awaiter(this, void 0, void 0, function* () {\n                this.processTar((header, stream) => __awaiter(this, void 0, void 0, function* () {\n                    const { name: relativePath } = header;\n                    if (relativePath === relPath) {\n                        const data = yield util_1.streamToBuffer(stream);\n                        resolve(data);\n                        // FIXME stop processing / iteration here\n                        return 1;\n                    }\n                    else {\n                        return 0;\n                    }\n                }));\n            }));\n        });\n    }\n    getEntries() {\n        return __awaiter(this, void 0, void 0, function* () {\n            const entries = [];\n            yield this.processTar((header, stream) => {\n                const { name: relativePath, size, type, mode } = header;\n                const name = path_1.default.basename(relativePath);\n                const iFile = {\n                    name,\n                    size,\n                    mode,\n                    isDir: type === 'directory',\n                    readContent: (t = 'nodebuffer') => __awaiter(this, void 0, void 0, function* () { return this.getEntryData(relativePath); })\n                };\n                entries.push({\n                    relativePath,\n                    file: iFile\n                });\n            });\n            return entries;\n        });\n    }\n    getEntry(relativePath) {\n        return __awaiter(this, void 0, void 0, function* () {\n            try {\n                const entries = yield this.getEntries();\n                // remove leading ./ from relative path and try different prefixes\n                const entry = entries.find((entry) => PackageUtils_1.relativePathEquals(entry.relativePath, relativePath));\n                return entry;\n            }\n            catch (error) {\n                return undefined;\n            }\n        });\n    }\n    getContent(relativePath) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const entry = yield this.getEntry(relativePath);\n            // TODO standardize errors\n            if (!entry)\n                throw new Error('entry does not exist: ' + relativePath);\n            if (entry.file.isDir)\n                throw new Error('entry is not a file');\n            return entry.file.readContent();\n        });\n    }\n    addEntry(relativePath, file) {\n        return __awaiter(this, void 0, void 0, function* () {\n            let wasOverwritten = false;\n            const writeEntryToPackStream = (pack, relativePath) => {\n                return new Promise((resolve, reject) => __awaiter(this, void 0, void 0, function* () {\n                    const content = Buffer.isBuffer(file) ? file : (typeof file === 'string' ? Buffer.from(file) : yield file.readContent());\n                    let entry = pack.entry({ name: relativePath }, content);\n                    entry.on('finish', () => {\n                        resolve();\n                    });\n                    entry.end();\n                }));\n            };\n            this.tarbuf = yield this.processTar((header, stream, pack) => __awaiter(this, void 0, void 0, function* () {\n                const { name: entryRelativePath } = header;\n                // apparently a tar can contain multiple\n                // files with the same name / relative path\n                // in order to avoid duplicates we must overwrite existing entries\n                if (PackageUtils_1.relativePathEquals(entryRelativePath, relativePath)) {\n                    // overwrite entry in pack stream\n                    yield writeEntryToPackStream(pack, entryRelativePath);\n                    wasOverwritten = true;\n                    return 1; // signal that entry was modified\n                }\n            }), (pack) => __awaiter(this, void 0, void 0, function* () {\n                // no existing entry was overwritten so we append new entries to pack\n                if (!wasOverwritten) {\n                    yield writeEntryToPackStream(pack, relativePath);\n                }\n            }));\n            return relativePath;\n        });\n    }\n    toBuffer() {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (!this.tarbuf) {\n                if (this.filePath) {\n                    this.tarbuf = fs_1.default.readFileSync(this.filePath);\n                }\n                else {\n                    throw new Error('Could not create package buffer');\n                }\n            }\n            return Promise.resolve(this.tarbuf);\n        });\n    }\n    // from ISerializable\n    getObjectData() {\n        return __awaiter(this, void 0, void 0, function* () {\n            return {\n                buffer: yield this.toBuffer(),\n                metadata: this.metadata,\n                filePath: this.filePath\n            };\n        });\n    }\n    writePackage(outPath, { overwrite = false, compression = true // TODO handle compression param\n     } = {}) {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (util_1.isDirPath(outPath)) {\n                if (!this.fileName) {\n                    throw new Error('Cannot write package: file name is not set and path points to directory');\n                }\n                // expand to file path\n                outPath = path_1.default.join(outPath, this.fileName);\n            }\n            if (fs_1.default.existsSync(outPath) && !overwrite) {\n                throw new Error('Package exists already! Use \"overwrite\" option');\n            }\n            if (this.isGzipped && (!(outPath.endsWith('.tgz') || outPath.endsWith('.tar.gz')))) {\n                throw new Error('Attempt to write compressed data into a decompressed file: consider using \".tar.gz\" or \".tgz\" or explicitly decompress');\n            }\n            let s;\n            if (!this.isGzipped && ((outPath.endsWith('.tgz') || outPath.endsWith('.tar.gz')))) {\n                s = this.getReadStream().pipe(zlib_1.default.createGzip()).pipe(fs_1.default.createWriteStream(outPath));\n            }\n            else {\n                s = this.getReadStream().pipe(fs_1.default.createWriteStream(outPath));\n            }\n            yield util_1.streamPromise(s);\n            return outPath;\n        });\n    }\n    extract(destPath, { listener = undefined } = {}) {\n        return __awaiter(this, void 0, void 0, function* () {\n            return util_1.extractPackage(this, destPath, listener);\n        });\n    }\n    printPackageInfo() {\n        return __awaiter(this, void 0, void 0, function* () {\n            const entries = yield this.getEntries();\n            console.log(entries.map(e => e.relativePath).join('\\n'));\n        });\n    }\n    static create(dirPathOrName, { compressed = true, listener = () => { } } = {}) {\n        return __awaiter(this, void 0, void 0, function* () {\n            // pack is a streams2 stream\n            const pack = tar_stream_1.default.pack();\n            const dirPath = path_1.default.basename(dirPathOrName) === dirPathOrName ? undefined : dirPathOrName;\n            let packageName = dirPath ? path_1.default.basename(dirPathOrName) : dirPathOrName;\n            if (!FilenameUtils_1.hasPackageExtension(packageName)) {\n                packageName += (compressed ? '.tar.gz' : 'tar');\n            }\n            if (dirPath) {\n                const writeFileToPackStream = (filePath) => {\n                    return new Promise((resolve, reject) => __awaiter(this, void 0, void 0, function* () {\n                        const content = fs_1.default.readFileSync(filePath);\n                        const relativePath = path_1.default.relative(dirPath, filePath);\n                        let entry = pack.entry({ name: relativePath }, content);\n                        listener(IStateListener_1.PROCESS_STATES.CREATE_PACKAGE_PROGRESS, {\n                            file: relativePath\n                        });\n                        entry.on('finish', () => {\n                            resolve();\n                        });\n                        entry.end();\n                    }));\n                };\n                // FIXME might exceed callstack - implement upper limits and remove recursion\n                const writeDirToPackStream = (dirPath) => __awaiter(this, void 0, void 0, function* () {\n                    // console.log('write dir', dirPath)\n                    const fileNames = fs_1.default.readdirSync(dirPath);\n                    for (const fileName of fileNames) {\n                        // TODO implement listener\n                        const fullPath = path_1.default.join(dirPath, fileName);\n                        if (util_1.isDirSync(fullPath)) {\n                            yield writeDirToPackStream(fullPath);\n                        }\n                        else if (util_1.isFileSync(fullPath)) {\n                            yield writeFileToPackStream(fullPath);\n                        }\n                        // else ignore symlinks etc\n                    }\n                });\n                yield writeDirToPackStream(dirPath);\n            }\n            else {\n                // an empty package is created: use package name as hint if it is compressed or not\n                const extension = FilenameUtils_1.getExtension(packageName);\n                if (extension === '.tar') {\n                    compressed = false;\n                }\n            }\n            let strm = compressed ? pack.pipe(zlib_1.default.createGzip()) : pack;\n            pack.finalize();\n            const packageBuffer = yield util_1.streamToBuffer(strm);\n            const t = new TarPackage(packageName, false);\n            yield t.loadBuffer(packageBuffer);\n            return t;\n        });\n    }\n    static from(packagePath) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const buf = fs_1.default.readFileSync(packagePath);\n            return new TarPackage(packagePath).loadBuffer(buf);\n        });\n    }\n}\nexports.default = TarPackage;\n//# sourceMappingURL=TarPackage.js.map","import ethpkg, { Registry, IPackage, IRelease } from 'ethpkg'\n\nconst fetchJson = async (_url) => {\n  const data = await fetch(_url)\n  return data.json()\n}\n\nconst request = async (url, data) => {\n  const response = await fetch(url, {\n    method: 'POST', // *GET, POST, PUT, DELETE, etc.\n    body: JSON.stringify(data)\n  })\n  const contentType = response.headers.get('content-type');\n  if (!contentType || !contentType.includes('application/json')) {\n    if (contentType === 'application/octet-stream') {\n      return response.arrayBuffer()\n    } else {\n      throw new Error('Invalid response content type: '+contentType)\n    }\n  }\n  const result = await response.json();\n  if (result.error) {\n    console.log('throw error', result.error)\n    throw new Error(result.error.message)\n  }\n  return result\n}\n\n\nclass Grid {\n  constructor() {\n    this.api = 'http://localhost:4743/rpc'\n    this.id = 0\n  }\n  isConnected() {\n    return false\n  }\n  async getVersionList() {\n    console.log('get version list')\n    if (!this.isConnected()) {\n      try {\n        console.log('tes test')\n        const releases = await ethpkg.listPackages('github:trufflesuite/ganache')\n        console.log('releases', releases)\n        return releases\n      } catch (error) {\n        console.log('fetch releases error', error)\n      }\n\n    }\n    const result = await request(this.api, {\n      method: 'getClientVersions',\n      params: ['geth'],\n      id: this.i++\n    })\n    return result\n    /*\n    let versionList = await fetchJson('http://localhost:4743/clients')\n    return versionList\n   try {\n     // \n     /*\n    let _releases = await fetch('https://gethstore.blob.core.windows.net/builds?restype=container&comp=list&maxresults=5000&prefix=geth-')\n    const releases = await ethpkg.listPackages('azure:gethstore')\n     console.log('releases', releases, _releases)\n   } catch (error) {\n     console.log('releases fetch error', error)\n   }\n   return []\n   */\n\n  }\n  async searchWorkflows(query) {\n    /*\n    let workflows = await request('http://localhost:4743/rpc', {\n      method: 'searchWorkflows',\n      params: [query],\n      id: i++\n    })\n    return workflows\n    */\n   const registry = new Registry('0x59054E7c69D42FCcA9CC2f7Fd0BE52db00152669/workflows')\n   const projects = await registry.queryProjects(query)\n   console.log('workflows', projects)\n   return projects\n  }\n  async getWorkflows() {\n    const workflows = await request(this.api, {\n      method: 'getWorkflows',\n      params: [],\n      id: this.i++\n    })\n    console.log('workflows fetched', workflows)\n    return workflows\n  }\n  async getWorkflow(workflowId) {\n    const workflows = await request(this.api, {\n      method: 'getWorkflow',\n      params: [workflowId],\n      id: this.i++\n    })\n    console.log('workflows fetched', workflows)\n    return workflows\n  }\n  async getWorkflowPackage(workflowId) {\n    const isConnected = false\n    if (isConnected) {\n      let result = await request(this.api, {\n        method: 'getWorkflowPackage',\n        params: [workflowId],\n        id: this.i++\n      })\n      // result is array buffer\n      const buf = Buffer.from(new Uint8Array(result))\n      result = await ethpkg.getPackage(buf)\n      return result\n    } else {\n      console.log('get package for', workflowId)\n      const registryId = '0x59054E7c69D42FCcA9CC2f7Fd0BE52db00152669'\n      const spaceId = 'workflows'\n      // const projectId =  '0x39830fed4b4b17fcdfa0830f9ab9ed8a1d0c11d9/hello-grid' // workflowId\n      const query = `ethpkg:${registryId}-${spaceId}/${workflowId}`\n      let pkg = await ethpkg.getPackage(query, {\n        proxy: 'https://cors-anywhere.herokuapp.com/',\n      })\n      console.log('pkg', pkg)\n      return pkg\n    }\n  }\n  async runWorkflow(workflowId) {\n    const result = await request(this.api, {\n      method: 'runWorkflow',\n      params: [workflowId],\n      id: this.i++\n    })\n    return result\n  }\n  async getJob(jobId) {\n    const jobs = await request(this.api, {\n      method: 'getJob',\n      params: [jobId],\n      id: this.i++\n    })\n    return jobs\n  }\n  async getJobs() {\n    const jobs = await request(this.api, {\n      method: 'getJobs',\n      params: [],\n      id: this.i++\n    })\n    return jobs\n  }\n  async getProcessesByJobId(jobId) {\n    const processes = await request(this.api, {\n      method: 'getProcessesByJobId',\n      params: [jobId],\n      id: this.i++\n    })\n    return processes\n  }\n  async attachToJobProcess(processId) {\n    let jobs = await request(this.api, {\n      method: 'attachToJobProcess',\n      params: [processId],\n      id: this.i++\n    })\n    return jobs\n  }\n}\n\nexport default new Grid()","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction instanceofIPackage(object) {\n    return typeof object === 'object' && (typeof object.loadBuffer === 'function') && (typeof object.getEntries === 'function');\n}\nexports.instanceofIPackage = instanceofIPackage;\n//# sourceMappingURL=IPackage.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction instanceOfIRelease(obj) {\n    //TODO ['displayVersion', 'channel'].some(p => obj[p])\n    return obj.fileName && obj.version;\n}\nexports.instanceOfIRelease = instanceOfIRelease;\n//# sourceMappingURL=IRepository.js.map","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst fs_1 = __importDefault(require(\"fs\"));\nconst path_1 = __importDefault(require(\"path\"));\nconst os_1 = __importDefault(require(\"os\"));\nconst IStateListener_1 = require(\"../IStateListener\");\nconst util_1 = require(\"../util\");\nconst ethers_1 = require(\"ethers\");\nconst SUPPORTED_KEYFILE_VERSIONS = [3, 'ethpkg-3'];\nconst getKeyStorePath = () => {\n    // TODO support different network IDs\n    const dataDir = util_1.getDefaultDataDir().replace('~', os_1.default.homedir());\n    const keystore = path_1.default.join(dataDir, 'keystore');\n    return keystore;\n};\n/**\n * Generate filename for a keystore file.\n * @param {string} address Ethereum address.\n * @return {string} Keystore filename.\n */\nconst generateKeystoreFilename = (address) => {\n    var filename = `ethpkg--UTC--${new Date().toISOString().split(':').join('-')}--${address}`;\n    // Windows does not permit \":\" in filenames, replace all with \"-\"\n    if (process.platform === 'win32')\n        filename = filename.split(':').join('-');\n    return filename;\n};\nconst ETHPKG_KEYFILE_VERSION = 'ethpkg-3';\nexports.getPrivateKeyFromKeyfile = (keyfilePath, password) => __awaiter(void 0, void 0, void 0, function* () {\n    let w;\n    try {\n        w = JSON.parse(fs_1.default.readFileSync(keyfilePath, 'utf8'));\n        if ('alias' in w) {\n            delete w.alias;\n        }\n        if (w.version === ETHPKG_KEYFILE_VERSION) {\n            w.version = 3;\n        }\n    }\n    catch (error) {\n        throw new Error('Key cannot be parsed');\n    }\n    const wallet = yield ethers_1.Wallet.fromEncryptedJson(JSON.stringify(w), password);\n    const pk = wallet.privateKey;\n    return pk;\n});\nexports.getPassword = (password, key) => __awaiter(void 0, void 0, void 0, function* () {\n    let keyName = key ? key.address : '';\n    if (key && key.alias && key.alias.length > 0) {\n        keyName = `\"${key.alias.join(' | ')}\"`;\n    }\n    if (!password) {\n        throw new Error('No password provided to de/encrypt key');\n    }\n    if (typeof password === 'function') {\n        password = yield password({ keyName });\n        if (!password) {\n            throw new Error('Password callback returned an empty or invalid password');\n        }\n        return password;\n    }\n    else {\n        return password;\n    }\n});\nclass KeyStore {\n    constructor(keystorePath) {\n        this.keystorePath = keystorePath || getKeyStorePath();\n    }\n    listKeys(filterEthpkgKeys = false) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const keystore = this.keystorePath;\n            // TODO we could filter keys here for e.g. a prefix like 'ethpkg' to avoid misuse\n            const keys = fs_1.default.readdirSync(keystore).map((fileName) => {\n                const filePath = path_1.default.join(keystore, fileName);\n                try {\n                    const stat = fs_1.default.statSync(filePath);\n                    const keyObj = JSON.parse(fs_1.default.readFileSync(filePath, 'utf8'));\n                    const { address, alias, version } = keyObj;\n                    const isValid = SUPPORTED_KEYFILE_VERSIONS.includes(version);\n                    return {\n                        filePath,\n                        fileName,\n                        created: stat.birthtime,\n                        address,\n                        alias,\n                        version,\n                        keyObj,\n                        isValid\n                    };\n                }\n                catch (error) {\n                    return {\n                        filePath,\n                        fileName,\n                        keyObj: undefined,\n                        isValid: false,\n                        error\n                    };\n                }\n            });\n            let validKeyFiles = keys.filter(k => k.isValid);\n            if (filterEthpkgKeys) {\n                validKeyFiles = validKeyFiles.filter(k => k.alias && k.version === ETHPKG_KEYFILE_VERSION);\n            }\n            return validKeyFiles;\n        });\n    }\n    hasKey(keyInfo) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const keys = yield this.listKeys();\n            const k = keys.find(k => k.fileName == keyInfo || k.filePath === keyInfo || k.address === keyInfo || (Array.isArray(k.alias) && k.alias.includes(keyInfo)));\n            return k !== undefined;\n        });\n    }\n    getKeyByAddress(address) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const keys = yield this.listKeys();\n            const selectedKey = keys.find(k => k.address === address);\n            return selectedKey;\n        });\n    }\n    getKeyByAlias(alias) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const keys = yield this.listKeys();\n            const aliasKeys = keys.filter(k => { var _a; return (k.alias && k.alias.includes(alias)) || k.fileName === alias || ((_a = k.address) === null || _a === void 0 ? void 0 : _a.toLowerCase()) === alias.toLowerCase(); });\n            return aliasKeys;\n        });\n    }\n    static isKeyfile(keyPath) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const p = path_1.default.dirname(keyPath);\n            const _keytore = new KeyStore(p);\n            return _keytore.hasKey(path_1.default.basename(keyPath));\n        });\n    }\n    // TODO warn user if they want to sign with a non-dedicated signing key\n    getKey({ password = undefined, listener = () => { }, alias = undefined, create = false, selectKeyCallback = undefined } = {}) {\n        return __awaiter(this, void 0, void 0, function* () {\n            let keys = yield this.listKeys();\n            // if user has no keys (in keystore) -> create new key\n            if (create && keys.length === 0) {\n                // TODO use listener\n                console.log('Creating a new key');\n                const { info, key } = yield this.createKey({\n                    alias,\n                    password,\n                    listener\n                });\n                // TODO allow user to backup key\n                let privateKey = key.getPrivateKey();\n                return privateKey;\n            }\n            // search by alias\n            if (alias) {\n                listener(IStateListener_1.PROCESS_STATES.FINDING_KEY_BY_ALIAS_STARTED, { alias });\n                keys = yield this.getKeyByAlias(alias);\n                // TODO fix key: matchingKeys[0]\n                if (keys.length === 0) {\n                    throw new Error(`Key not found for alias: \"${alias}\"`);\n                }\n                else {\n                    listener(IStateListener_1.PROCESS_STATES.FINDING_KEY_BY_ALIAS_FINISHED, { alias, key: keys[0] });\n                }\n            }\n            let selectedKey = undefined;\n            if (keys.length === 1) {\n                selectedKey = keys[0];\n            }\n            else if (keys.length > 1) {\n                // try to use any key that has an alias if it is only one\n                const keysWithAlias = keys.filter(k => k.alias !== undefined);\n                if (keysWithAlias.length === 1) {\n                    selectedKey = keysWithAlias[0];\n                }\n            }\n            if (!selectedKey && keys.length > 1) {\n                if (typeof selectKeyCallback !== 'function') {\n                    throw new Error('Ambiguous signing keys and no select callback or alias provided');\n                }\n                selectedKey = yield selectKeyCallback(keys);\n                if (!selectedKey) {\n                    throw new Error('Ambiguous signing keys and no select callback or alias provided');\n                }\n            }\n            password = yield exports.getPassword(password, selectedKey);\n            const unlockedKey = yield this.unlockKey(selectedKey, password, listener);\n            return Buffer.from(unlockedKey.slice(2), 'hex');\n        });\n    }\n    unlockKey(addressOrKey, password, listener = () => { }) {\n        return __awaiter(this, void 0, void 0, function* () {\n            let key;\n            if (typeof addressOrKey === 'string') {\n                key = yield this.getKeyByAddress(addressOrKey);\n            }\n            else {\n                key = addressOrKey;\n            }\n            if (!key) {\n                throw new Error(`Key not found: ${addressOrKey}`);\n            }\n            listener(IStateListener_1.PROCESS_STATES.UNLOCKING_KEY_STARTED, Object.assign({}, key));\n            // FIXME find better way to offload unlock from main thread\n            yield util_1.sleep(200); // allow listener to render\n            const pk = yield exports.getPrivateKeyFromKeyfile(key.filePath, password);\n            listener(IStateListener_1.PROCESS_STATES.UNLOCKING_KEY_FINISHED, Object.assign({}, key));\n            return pk;\n        });\n    }\n    createKey({ password = undefined, alias = 'ethpkg', listener = () => { } } = {}) {\n        return __awaiter(this, void 0, void 0, function* () {\n            // handle invalid passwords, password callbacks etc\n            password = yield exports.getPassword(password);\n            listener(IStateListener_1.PROCESS_STATES.CREATE_SIGNING_KEY_STARTED, { alias });\n            const key = ethers_1.Wallet.createRandom();\n            const jsonString = yield key.encrypt(password);\n            const json = JSON.parse(jsonString);\n            json.version = ETHPKG_KEYFILE_VERSION;\n            json.alias = [alias];\n            const address = key.address;\n            const fileName = generateKeystoreFilename(address);\n            const filePath = path_1.default.join(this.keystorePath, fileName);\n            fs_1.default.writeFileSync(filePath, JSON.stringify(json, null, 2));\n            listener(IStateListener_1.PROCESS_STATES.CREATE_SIGNING_KEY_FINISHED, { alias, keyPath: filePath });\n            return {\n                key,\n                info: {\n                    address,\n                    fileName,\n                    filePath,\n                    isValid: true\n                }\n            };\n        });\n    }\n}\nexports.default = KeyStore;\n//# sourceMappingURL=KeyStore.js.map","module.exports = function() {\n  return new Worker(__webpack_public_path__ + \"a97412092dd0a8bc61b6.worker.js\");\n};","import TxWrapper from \"../TxWrapper\"\nimport Account from \"ethereumjs-account\"\nimport VM from \"ethereumjs-vm\"\nimport * as ethutil from 'ethereumjs-util'\n\nconst to32Bytes = (num) => {\n  let numStr = num.toString()\n  // const key =  Buffer.from('0000000000000000000000000000000000000000000000000000000000000001', 'hex')\n  return Buffer.from(`${'0'.repeat(64 - numStr.length)}${numStr}`, 'hex')\n}\n\nexport default class EthStateMachine {\n  setAccount = async (vm, address, nonce) => {\n    try {\n      // https://github.com/ethereumjs/ethereumjs-vm/blob/master/packages/account/src/index.ts#L31\n      // fund account with balance in wei and set nonce to correct tx nonce\n      await vm.putAccount(address, new Account({ balance: 100e18, nonce }))\n      const result = await vm.getAccount(address)\n      // console.log('account set', address, result)\n    } catch (error) {\n      console.log('error funding address', error)\n    }\n  }\n  runTx = async (vm, tx) => {\n    // convert ethers bn to string values to be parsed by BN\n    const txData = {\n      value: tx.value._hex,\n      gasLimit: tx.gasLimit._hex, // We assume that 2M is enough,\n      gasPrice: tx.gasPrice._hex,\n      data: tx.data,\n      nonce: tx.nonce,\n      to: tx.to\n    }\n    // const parsed = tryParseTransaction(tx)\n    // console.log('process', parsed.name)\n    // console.log('set tx.from', tx.from)\n    tx = new TxWrapper(txData, tx.from)\n    // https://github.com/ethereumjs/ethereumjs-vm/blob/e2c191b1c93e71f832413bb904f4db521208ebac/packages/vm/lib/runTx.ts#L89\n    const result = await vm.runTx({ tx })\n    return result\n  }\n  runTxSafe = async (vm, tx) => {\n    const { from: sender } = tx\n    // make sure sender has funds to run tx\n    await this.setAccount(vm, sender, tx.nonce)\n    return this.runTx(vm, tx)\n  }\n  async replayContractTransactions(transactions = [], to, contractAddressOriginal) {\n\n    const storage = {}\n\n    if (!transactions || transactions.length === 0) {\n      return { createdAddress: undefined, storage }\n    }\n\n    const vm = new VM()\n    vm.putAccount = vm.pStateManager.putAccount.bind(vm.stateManager)\n    vm.getAccount = vm.pStateManager.getAccount.bind(vm.stateManager)\n\n    const opcodes = []\n    let contractAddress\n\n    const opcodeListener = (event) => {\n      // https://github.com/ethereumjs/ethereumjs-vm/blob/master/packages/vm/lib/evm/interpreter.ts#L179\n      let { opcode, address } = event\n      const { fee, name } = opcode\n      const stack = [...event.stack]\n      const copy = { ...event, stack }\n      if (name === \"SSTORE\") {\n        const [key, value] = stack.splice(-2).reverse()\n        storage[key] = value.toString('hex')\n        // console.log('store detected', address.toString('hex'), key.toString('hex'), value.toString('hex'))\n      }\n      opcodes.push(opcode)\n    }\n\n    // process all transactions...\n    // this will set contractAddress and intercept calls to storage\n    for (const tx of transactions) {\n      // console.log('process tx', tx.hash)\n\n      vm.on('step', opcodeListener)\n      const result = await this.runTxSafe(vm, tx)\n      vm.off('step', opcodeListener)\n\n      const { execResult, gasUsedTotal, createdAddress } = result\n\n      if (createdAddress) {\n        // TODO provide network id\n        contractAddress = ethutil.toChecksumAddress('0x' + createdAddress.toString('hex'))\n      }\n\n      // if we end up having a wrong contract address replicating the state failed\n      if (createdAddress && contractAddressOriginal && contractAddress !== contractAddressOriginal) {\n        throw new Error(`Contract address mismatch: ${contractAddress} !== ${contractAddressOriginal}`)\n      }\n\n      const { gasUsed /* BN */, gasRefund /* BN */, exceptionError, logs /* [] */, returnValue /* Buffer */ } = execResult\n      const { error, errorType } = (exceptionError || {})\n      // console.log(`gasUsed: ${gasUsed} opcodes: ${opcodes.length}, gasRefund: ${gasRefund} exceptionError: ${error} created: ${createdAddress ? createdAddress.toString('hex') : ''}`)\n\n      // TODO if valid tx fails in simulation throw\n      if (exceptionError) {\n        console.log('failed tx', parseInt(tx.gasLimit._hex), tx)\n        console.error(error, exceptionError)\n        // throw new Error(error)\n      }\n\n      if (to && tx.hash === to.hash) {\n        break;\n      }\n    }\n\n    // TODO do we have to wait for event emitter?\n\n\n    // TODO turn results into receipts\n    // https://github.com/ethereumjs/ethereumjs-vm/blob/master/packages/vm/lib/runBlock.ts#L224\n    return {\n      createdAddress: contractAddress,\n      storage\n    }\n\n  }\n}","import * as ethutil from 'ethereumjs-util'\nimport { BN } from 'ethereumjs-util'\n\n/**\n * provides interface to call vm.runTx\n */\nexport default class TxWrapper {\n  constructor(txData, sender) {\n    this.tx = txData\n    this.sender = sender\n    const fields = [\n      {\n        name: 'nonce',\n        length: 32,\n        allowLess: true,\n        default: Buffer.from([]),\n      },\n      {\n        name: 'gasPrice',\n        length: 32,\n        allowLess: true,\n        default: Buffer.from([]),\n      },\n      {\n        name: 'gasLimit',\n        alias: 'gas',\n        length: 32,\n        allowLess: true,\n        default: Buffer.from([]),\n      },\n      {\n        name: 'to',\n        allowZero: true,\n        length: 20,\n        default: Buffer.from([]),\n      },\n      {\n        name: 'value',\n        length: 32,\n        allowLess: true,\n        default: Buffer.from([]),\n      },\n      {\n        name: 'data',\n        alias: 'input',\n        allowZero: true,\n        default: Buffer.from([]),\n      }\n    ]\n    ethutil.defineProperties(this, fields, txData)\n  }\n  /**\n   * the minimum amount of gas the tx must have (DataFee + TxFee + Creation Fee)\n   * https://github.com/ethereum/EIPs/blob/master/EIPS/eip-1559.md\n   */\n  getBaseFee() {\n    /**\n    const fee = this.getDataFee().iaddn(this._common.param('gasPrices', 'tx'))\n    if (this._common.gteHardfork('homestead') && this.toCreationAddress()) {\n      fee.iaddn(this._common.param('gasPrices', 'txCreation'))\n    }\n    return fee\n    */\n    // FIXME calculate base fee\n    return new BN('1') // gasLimit must be higher\n  }\n  getSenderAddress() {\n    // getSenderAddress is where the signature check is performed\n    // <- unsigned tx with hardcoded sender possible\n    // return this.tx.getSenderAddress()\n    return this.sender\n  }\n  getUpfrontCost() {\n    return new BN(this.gasLimit).imul(new BN(this.gasPrice)).iadd(new BN(this.value))\n  }\n}","import React, { Component } from 'react'\nimport AutoCompleteField from '../../widgets/AutoCompleteField'\nimport { Row } from '../../widgets/Row'\n\nconst flattenObject = function(ob) {\n\tvar toReturn = {};\n\tfor (var i in ob) {\n\t\tif (!ob.hasOwnProperty(i)) continue;\n\t\tif ((typeof ob[i]) == 'object') {\n\t\t\tvar flatObject = flattenObject(ob[i]);\n\t\t\tfor (var x in flatObject) {\n\t\t\t\tif (!flatObject.hasOwnProperty(x)) continue;\n\t\t\t\ttoReturn[i + '.' + x] = flatObject[x];\n\t\t\t}\n\t\t} else {\n\t\t\ttoReturn[i] = ob[i];\n\t\t}\n\t}\n\treturn toReturn;\n}\n\nexport default class Console extends Component {\n  state = {\n  }\n  handleFocus = (e) => {\n    this.autoCompleteField.focus();\n  }\n  handleBlur = () => {\n    this.autoCompleteField.blur();\n  }\n  handleEnter = async (input) => {\n      // eslint-disable-next-line\n    const { context = {} } = this.props\n    try {\n      // eslint-disable-next-line\n      const result = await eval(`context.${input}`)\n      this.setState({ result, error: undefined })\n    } catch (error) {\n      console.log('error', error)\n      this.setState({ error })\n    }\n  }\n  render() {\n    const { result, error } = this.state\n    const { context = {} } = this.props\n    const flattened = flattenObject(context)\n    const options = Object.keys(flattened).filter(el => !el.includes('.'))\n    // console.log('options', options)\n    return (\n      <div\n        tabIndex={0}\n        style={{\n          backgroundColor: 'rgb(39, 40, 34)',\n          display: 'flex',\n          flexDirection: 'column',\n          flex: 1,\n          ...this.props.style\n        }}\n        onFocus={this.handleFocus}\n        onBlur={this.handleBlur}\n      >\n        <Row style={{\n          backgroundColor: 'rgba(85, 85, 85, 0.22)',\n          justifyContent: 'left',\n          alignItems: 'center'\n        }}>\n          <span style={{ color: 'cyan', padding: 5, fontWeight: 'bold' }}>{\">\"}</span>\n          <AutoCompleteField \n            ref={(autoComplete) => { this.autoCompleteField = autoComplete; }}\n            fontSize={14}\n            options={options}\n            onEnter={this.handleEnter}\n            style={{\n              color: '#ffffffb8'\n            }}\n          />\n        </Row>\n        {error &&\n        <span style={{\n          fontWeight: 'bold',\n          fontSize: '1rem',\n          color: '#da4747c9',\n          padding: 5,\n          backgroundColor: '#ef565629'\n        \n        }}>Error: {error.message}</span>\n        }\n        {!error && result &&  <div style={{\n          padding: 5,\n          color: '#ffffff6b',\n          maxWidth: '100%',\n          wordWrap: 'break-word',\n          overflowY: 'scroll'\n        }}> {\"<- \" + JSON.stringify(result, null, 2)}</div>}\n\n      </div>\n    )\n  }\n}\n","import React, { Component, Fragment } from 'react'\n\nclass OptionListItem extends Component {\n  render() {\n    const { option, isActive, onMouseEnter, onMouseLeave } = this.props\n    return (\n      <div\n        style={{\n          backgroundColor: isActive ? '#6f6f6f6b' : 'transparent',\n          color: isActive ? 'greenyellow' : '#eee',\n          padding: 2\n        }}\n        onMouseEnter={onMouseEnter}\n        onMouseLeave={onMouseLeave}\n      >\n        {option}\n      </div>\n    )\n  }\n}\n\nclass OptionList extends Component {\n  state = {\n    selectedIndex: undefined\n  }\n  render() {\n    const { selectedIndex: _sIdx } = this.state\n    const { options, selectedIndex = 0, top = 0, left = 0 } = this.props\n    let _selectedIndex = _sIdx !== undefined ? _sIdx : selectedIndex\n    return (\n      <div style={{\n        position: 'fixed',\n        top,\n        left,\n        minWidth: 200,\n        minHeight: 50,\n        backgroundColor: '#3c3c3c',\n        visibility: (options && options.length > 1) ? 'visible' : 'hidden',\n        boxShadow: 'rgba(72, 154, 212, 0.2) 0px 1px 2px 0px'\n      }}>\n        {options && options.map((option, idx) => {\n          const isActive = idx === _selectedIndex\n          return (\n            <OptionListItem \n              key={idx}\n              option={option} \n              isActive={isActive} \n              onMouseEnter={() => this.setState({ selectedIndex: idx })}\n              onMouseLeave={() => this.setState({ selectedIndex: undefined })}\n            />\n          )\n        })}\n      </div>\n    )\n  }\n}\n\n/*\nconst _getTextLength = (text, fontSize) => {\n  const c = document.createElement('canvas');\n  const ctx = c.getContext(\"2d\");\n  ctx.font = `${fontSize}px Arial`;\n  return Math.ceil(ctx.measureText(text).width + 1)\n}\n*/\n\nconst getTextLength = (text, font) => {\n  const el = document.createElement('div');\n  text = text.split(' ').join(String.fromCharCode(160)) // replace space with &nbsp;\n  const textNode = document.createTextNode(text)\n  el.appendChild(textNode)\n  el.style.font = font;\n  el.style.position = 'absolute'\n  el.style.visibility = 'hidden'\n  el.style.left = '-999px'\n  el.style.top = '-999px'\n  el.style.height = 'auto'\n\n  document.body.appendChild(el)\n  // let wString = getComputedStyle(el).width\n  // const w = parseFloat(wString.replace('px', ''))\n  const box = el.getBoundingClientRect()\n  const w = box.width\n  document.body.removeChild(el)\n  return w\n}\n\nconst getSuggestions = (userInput, words) => {\n  const suggestions = []\n  userInput = userInput || ''\n  for (const word of words) {\n    if (word.startsWith(userInput)) {\n      suggestions.push({\n        word,\n        suggestion: word.slice(userInput.length)\n      })\n    }\n  }\n  return suggestions\n}\n\nexport default class AutoCompleteField extends Component {\n  state = {\n    value: '',\n    suggestion: '',\n    suggestions: [],\n    selectedIndex: 0,\n    suggestBox: {\n      top: 0,\n      left: 0\n    }\n  }\n  componentDidMount() {\n    const box = this.userInput.getBoundingClientRect()\n    this.setState({\n      suggestBox: {\n        top: box.top + box.height + 3,\n        left: box.left\n      }\n    })\n  }\n  onKeyDown = (e) => {\n    const SPACE = 32\n    if (e.keyCode === SPACE && e.ctrlKey) {\n      e.stopPropagation();\n      e.preventDefault();\n      return this.displaySuggestionsFor(this.state.value)\n    }\n    else if (e.key === 'Escape') {\n      this.setState({\n        suggestions: []\n      })\n    }\n    else if (e.key === 'Tab') {\n      const { value: userInput, selectedIndex } = this.state\n      const suggestions = getSuggestions(userInput, this.props.options)\n      const suggestion = suggestions.length > 0 ? suggestions[selectedIndex].word : ''\n      this.setState({\n        value: suggestion,\n        suggestions: [],\n        selectedIndex: 0\n      })\n      e.stopPropagation();\n      e.preventDefault();\n    }\n    else if(e.key === 'Enter') {\n      const { value: userInput, selectedIndex } = this.state\n      const suggestions = getSuggestions(userInput, this.props.options)\n      const suggestion = suggestions.length > 0 ? suggestions[selectedIndex].word : ''\n      if (!suggestion || suggestion === userInput) {\n        this.props.onEnter(userInput)\n      } else {\n        // user accepts suggestion (same as tab)\n        this.setState({\n          value: suggestion,\n          suggestions: [],\n          selectedIndex: 0\n        })\n      }\n      e.stopPropagation();\n      e.preventDefault();\n    }\n    else if (e.key === 'ArrowUp') {\n      let { selectedIndex, suggestions } = this.state\n      if (suggestions.length === 0) {\n        return\n      }\n      this.setState({\n        selectedIndex: (selectedIndex - 1) >= 0 ? selectedIndex - 1 : (suggestions.length - 1)\n      })\n      e.stopPropagation();\n      e.preventDefault();\n    }\n    else if (e.key === 'ArrowDown') {\n      let { selectedIndex, suggestions } = this.state\n      if (suggestions.length === 0) {\n        return\n      }\n      this.setState({\n        selectedIndex: (selectedIndex + 1) % suggestions.length\n      })\n      e.stopPropagation();\n      e.preventDefault();\n    }\n  }\n  displaySuggestionsFor(userInput) {\n    const suggestions = getSuggestions(userInput, this.props.options)\n    this.setState({\n      value: userInput,\n      suggestions: [...suggestions],\n      selectedIndex: 0\n    })\n  }\n  onChange = (e) => {\n    const userInput = e.currentTarget.value;\n    this.displaySuggestionsFor(userInput)\n  }\n  focus() {\n    this.userInput.focus();\n  }\n  blur = () => {\n    // hide suggestions\n    this.setState({\n      suggestions: []\n    })\n  }\n  render() {\n    const { value, suggestions, selectedIndex, suggestBox } = this.state\n    const suggestion = suggestions.length > selectedIndex ? suggestions[selectedIndex].suggestion : ''\n    const { fontSize = 16 } = this.props\n    return (\n      <Fragment>\n        <OptionList\n          selectedIndex={selectedIndex}\n          options={suggestions.map(s => s.word)}\n          top={suggestBox.top}\n          left={suggestBox.left}\n        />\n        <input\n          type=\"text\"\n          ref={(input) => { this.userInput = input; }}\n          style={{\n            backgroundColor: 'transparent',\n            font: `${fontSize}px Arial`,\n            color: 'white',\n            caretColor: 'cyan',\n            padding: 0,\n            border: 'none',\n            outline: 'none',\n            width: `${getTextLength(value, `${fontSize}px Arial`) || 1}px`,\n            ...this.props.style\n          }}\n          value={value}\n          onKeyPress={this.onKeyPress}\n          onKeyDown={this.onKeyDown}\n          onChange={this.onChange}\n        />\n        <span style={{\n          color: 'rgba(197, 197, 197, 0.4)',\n          fontSize: `${fontSize}px`,\n        }}>{suggestion}</span>\n      </Fragment>\n    )\n  }\n}\n","import React, { Component } from 'react'\nimport Button from '../../../widgets/Button'\nimport Tabs from '../../../widgets/Tabs'\nimport Tab from '../../../widgets/Tab'\n\nconst scriptCode = `\nconst run = async () => {\n  let i = 0\n  while(i++ < 10){\n    await api.createAccount(100)\n  }\n}\nmodule.exports = { run, ui: { button: { label: 'Create 10' }, insert: 'accounts' } }\n`\n\nexport default class CreateScript extends Component {\n  state = {\n    code: scriptCode,\n    result: undefined,\n    error: undefined\n  }\n  componentDidMount = () => {\n    setTimeout(() => {\n      this.runScript(this.state.code)\n    }, 1000)\n  }\n  onChange = (ev) => {\n    const code = ev.target.value\n    this.setState({\n      code\n    })\n    this.runScript(code)\n  }\n  runScript = (code) => {\n    // eslint-disable-next-line\n    const api = {\n      createAccount: async () => {\n        console.log('create account called')\n\n      }\n    }\n    let result\n    try {\n      // eslint-disable-next-line\n      result = eval(code)\n    } catch (error) {\n      return this.setState({\n        error\n      })\n    }\n    console.log('result', result)\n    this.setState({\n      result,\n      error: undefined\n    })\n  }\n  render() {\n    const { code, result, error } = this.state\n    return (\n      <div>\n        <h3>Create a script</h3>\n        <h5>Examples</h5>\n        <Tabs>\n          <Tab label=\"Create 10 random accounts\">\n            <textarea\n              value={code}\n              onChange={this.onChange}\n              rows=\"15\"\n              style={{\n                flex: 1\n              }}\n            />\n          </Tab>\n        </Tabs>\n\n        <h3>Preview</h3>\n        <div style={{ height: 200, border: '1px solid black', padding: 5, marginBottom: 10 }}>\n          {\n            result && result.ui && !error\n              ? <Button label={result.ui.button.label} onClick={result.run} />\n              : <span>error: {error ? error.message : ''}</span>\n          }\n        </div>\n        <Button>Save</Button>\n      </div>\n    )\n  }\n}\n","import React, { Component } from 'react'\nimport Container from '../../../widgets/Container'\nimport { Row } from '../../../widgets/Row'\nimport { utils } from 'ethers'\nimport LabeledForm from '../../../widgets/LabeledForm'\nimport TrieViz from './TrieViz'\nimport { Switch, Route, withRouter } from 'react-router-dom'\nimport ListItem from '../../../widgets/ListItem'\nimport List from '../../../widgets/List'\nimport Ethpkg from './Ethpkg'\n\nclass InputField extends Component {\n  render() {\n    const { label, value, onChange = () => { } } = this.props\n    return (\n      <Row style={{\n        justifyContent: 'normal',\n        marginTop: 10,\n        fontSize: '1.1rem'\n      }}>\n        <span style={{ marginRight: 10, width: 50, padding: 5 }}>{label}</span>\n        <input style={{ flexGrow: 1 }} type=\"text\" value={value} onChange={(e) => onChange(e.target.value)} />\n      </Row>\n    )\n  }\n}\n\nclass Converter extends Component {\n  state = {\n    input: '',\n    output: ''\n  }\n  handleInput = (input) => {\n    this.setState({\n      input,\n      output: utils.keccak256(Buffer.from(input))\n      // output: utils.keccak256(utils.toUtf8Bytes(input))\n    })\n  }\n  render() {\n    const { input, output } = this.state\n    return (\n      <LabeledForm label=\"Converter\">\n        <select value=\"keccak\">\n          <option value=\"volvo\">keccak</option>\n        </select>\n        <InputField label=\"Input\" value={input} onChange={this.handleInput} />\n        <InputField label=\"Output\" value={output} />\n      </LabeledForm>\n    )\n  }\n}\n\nclass Tools extends Component {\n  renderOverview() {\n    const { match } = this.props\n    const { path } = match\n    const tools = [\n      // { name: 'ethpkg', to: `${path}/ethpkg` }\n      , { name: 'trie', to: `${path}/trie` }\n    ]\n    return (\n      <List\n        items={tools}\n        renderItem={item => <ListItem key={item.to} to={item.to}><span>{item.name}</span></ListItem>}\n      />\n    )\n  }\n  render() {\n    const { match } = this.props\n    const { path } = match\n    console.log('route path', match)\n    return (\n      <Container>\n        <h2>Tools</h2>\n        {this.renderOverview()}\n        <div style={{\n          flex: 5,\n          display: 'flex'\n        }}>\n          <Switch>\n            <Route exact path={path}>\n              {/* \n            <Row>\n              <Converter />\n              next contract address calculator + lurch support\n              <span></span>\n              <span></span>\n            </Row>\n            */}\n            </Route>\n            <Route path={`${path}/ethpkg`}>\n              <Ethpkg />\n            </Route>\n            <Route path={`${path}/trie`}>\n              <TrieViz />\n            </Route>\n          </Switch>\n        </div>\n      </Container>\n    )\n  }\n}\n\nexport default withRouter(Tools)\n","import React, { Component } from 'react'\n\nexport default class LabeledForm extends Component {\n  render() {\n    const { label } = this.props\n    return (\n      <div className=\"card\" style={{\n        backgroundColor: '#f3f3f34d',\n        width: 500,\n        height: 300,\n        display: 'flex',\n        flex: 1,\n        flexDirection: 'column',\n        padding: 20,\n        margin: 10,\n        borderRadius: 20\n      }}>\n        <fieldset>\n          <legend>{label}</legend>\n          { this.props.children }\n        </fieldset>\n      </div>\n    )\n  }\n}\n","import React, { Component } from 'react'\nimport Trie from 'merkle-patricia-tree'\nimport Button from '../../../widgets/Button'\nimport Tree from '../../../widgets/Tree'\nimport { Row } from '../../../widgets/Row'\n\nfunction stringToNibbles(key) {\n  const bkey = Buffer.from(key)\n  let nibbles = []\n  for (let i = 0; i < bkey.length; i++) {\n    let q = i * 2\n    nibbles[q] = bkey[i] >> 4\n    ++q\n    nibbles[q] = bkey[i] % 16\n  }\n  return nibbles\n}\n\nclass Key extends Component {\n  render() {\n    const { value } = this.props\n    return (\n      <div style={{\n        width: 150,\n        padding: 10,\n        border: '1px solid gray',\n        display: 'flex',\n        flexDirection: 'column'\n      }}>\n        <div>String: \"{value}\"</div>\n        <div>Ascii: {value.split('').map(v => v.charCodeAt(0)).join(',') }</div>\n        <div>Hex: #{Buffer.from(value).toString('hex')}</div>\n        <div style={{ fontWeight: 'bold' }}>Nibbles: [{stringToNibbles(value).toString()}]</div>\n      </div>\n    )\n  }\n}\n\nexport default class TrieViz extends Component {\n  state = {\n    trie: undefined,\n    logs: [\n      { op: 'put', key: 'test', value: 'one' },\n      { op: 'put', key: 'foo', value: 'bar' }\n    ],\n    data: {\n      name: 'root',\n      children: []\n    },\n    currentStep: 0,\n    intervalHandler: undefined\n  }\n  componentDidMount = () => {\n    this.setState({\n      trie: new Trie()\n    })\n  }\n  add = async () => {\n    const { trie } = this.state\n    const put = (key, val) => new Promise((resolve, reject) => {\n      trie.put(key, val, (error, data) => {\n        if (error) return reject(error)\n        return resolve(data)\n      })\n    })\n    const get = key => new Promise((resolve, reject) => {\n      trie.get(Buffer.from(key), (error, data) => {\n        if (error) return reject(error)\n        return resolve(data)\n      })\n    })\n\n    const logs = []\n    /*\n    await put(Buffer.from('foo'), Buffer.from('one'))\n    await put(Buffer.from('faas'), Buffer.from('one'))\n    await put(Buffer.from('fom'), Buffer.from('one'))\n    */\n    // await put(Buffer.from('foo'), Buffer.from('boz'))\n    // await put(Buffer.from('bar'), Buffer.from('baz'))\n\n    // put:\n    // find_node aka find_path -> finds closest node\n    // update_node \n\n    console.log(trie._root.toString('hex'))\n    const onNode = (nodeRef, node, key, walkController) => {\n      console.log('on node called', key, nodeRef.toString('hex'), node, )\n\n\n      walkController.next()\n    }\n    const onDone = () => {\n      console.log('on done called')\n    }\n    trie._walkTrie(trie._root, onNode, onDone)\n\n    console.log('transform trie', trie)\n\n    // console.log(value.toString())\n  }\n  gotToStep = (nextStep) => {\n    this.setState({\n      currentStep: nextStep\n    })\n\n    let data = {\n      name: 'root',\n      children: []\n    }\n\n    let i = 0\n    while(i < nextStep) {\n      data.children.push({\n        name: i\n      })\n      i++\n    }\n\n    this.setState({ data })\n\n  }\n  toggleAnimation = () => {\n    const { intervalHandler } = this.state\n    if (intervalHandler) {\n      this.stopAnimation()\n    } else {\n      this.startAnimation()\n    }\n  }\n  startAnimation = () => {\n    this.gotToStep(this.state.currentStep + 1)\n    const intervalHandler = setInterval(() => {\n      this.gotToStep(this.state.currentStep + 1)\n    }, 2000)\n    this.setState({\n      intervalHandler\n    })\n  }\n  stopAnimation = () => {\n    const { intervalHandler } = this.state\n    if (intervalHandler) {\n      clearInterval(intervalHandler)\n      this.setState({\n        intervalHandler: undefined\n      })\n    }\n  }\n  render() {\n    let { data, logs, currentStep, intervalHandler } = this.state\n\n    return (\n      <div style={{\n        border: '1px solid black',\n        flex: 1,\n        display: 'flex',\n        flexDirection: 'column'\n      }}>\n        <Button label=\"add\" onClick={this.add} />\n\n        <Row>\n          <Button style={{ flex: 1}} label={intervalHandler !== undefined ? 'Stop' : 'Start'} onClick={this.toggleAnimation} />\n          <div style={{\n            flex: 10\n          }}>\n            <input style={{\n              width: '100%',\n            }} type=\"range\" min=\"1\" max=\"100\" value={currentStep} onChange={e => this.gotToStep(e.target.value)} />\n          </div>\n\n        </Row>\n\n        <div style={{\n          border: '1px solid yellow',\n        }}>\n          {logs.map((l, idx) => <div key={idx}>#{idx} put: {l.key} -> {l.value} </div>)}\n        </div>\n\n        <Key value=\"foo\" />\n\n        <Tree data={data} />\n      </div>\n    )\n  }\n}\n","import React, { Component } from 'react'\n\nexport default class Ethpkg extends Component {\n  render() {\n    return (\n      <div>\n        <h2>Ethpkg</h2>\n        <div style={{\n          width: '100%',\n          height: 500,\n          border: '2px dashed blue'\n        }}>\n\n        </div>\n      </div>\n    )\n  }\n}\n","import React, { Component } from 'react'\nimport { Row } from './Row'\n\nexport default class Tabs extends Component {\n  state = {\n    selectedTab: 0\n  }\n  componentDidMount() {\n    \n  }\n  changeSelectedTab(idx) {\n    if (typeof this.props.onChange === 'function') {\n      this.props.onChange(idx)\n    } else {\n      this.setState({ selectedTab: idx })\n    }\n  }\n  render() {\n    let { selectedTab } = this.state\n    selectedTab = this.props.selectedTab || selectedTab\n    let { children, style } = this.props\n    if (!Array.isArray(children)) {\n      children = [children]\n    }\n    return (\n      <div \n      className=\"Tabs\"\n      style={{\n        display: 'flex',\n        flexDirection: 'column',\n        flex: 1,\n        overflow: 'hidden'\n      }}>\n        <Row style={{ justifyContent: 'normal' }}>{children.map((c, idx) => c && // && allows children to be empty / false / conditionally  inserted\n        <div\n          key={idx}\n          style={{ \n            margin: 5, \n            fontWeight: 'bold',\n            borderBottom: idx === selectedTab ? '2px solid #08a79c' : 'none',\n            cursor: 'pointer',\n            padding: 3,\n            ...style \n          }}\n          onClick={() => this.changeSelectedTab(idx)}\n        >{c.props.label}</div>)}\n        </Row>\n\n        {children[selectedTab]}\n\n      </div>\n    )\n  }\n}","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst path_1 = __importDefault(require(\"path\"));\nconst semver_1 = __importDefault(require(\"semver\"));\nconst FilenameHeuristics_1 = require(\"./FilenameHeuristics\");\nconst REALEASE_CHANNEL = {\n    dev: -1,\n    ci: -1,\n    alpha: 0,\n    beta: 1,\n    nightly: 2,\n    production: 3,\n    master: 4,\n    release: 4,\n};\nexports.compareVersions = (a, b) => {\n    if (!('version' in a) || !a.version)\n        return -1;\n    if (!('version' in b) || !b.version)\n        return 1;\n    // don't let semver apply its \"channel logic\": \n    // coerce to apply custom channel logic on same versions (same before \"-channel\")\n    let av = semver_1.default.coerce(a.version);\n    let bv = semver_1.default.coerce(b.version);\n    // @ts-ignore\n    const semComp = semver_1.default.compare(bv, av);\n    // try to set the channel based on version if it was not\n    // explicitly set by repository (which is a good style)\n    a.channel = a.channel || FilenameHeuristics_1.extractChannelFromVersionString(a.version);\n    b.channel = b.channel || FilenameHeuristics_1.extractChannelFromVersionString(b.version);\n    if (semComp === 0) {\n        const channelA = REALEASE_CHANNEL[a.channel || ''] || -2;\n        const channelB = REALEASE_CHANNEL[b.channel || ''] || -2;\n        if (channelA > channelB)\n            return -1;\n        if (channelB > channelA)\n            return 1;\n        return 0;\n    }\n    return semComp;\n};\nexports.compareDate = ({ updated_ts: a }, { updated_ts: b }) => {\n    if (a && b)\n        return a > b ? -1 : (b > a ? 1 : 0);\n    if (a)\n        return -1;\n    if (b)\n        return 1;\n    return 0;\n};\nexports.multiSort = (fn1, fn2) => {\n    return (a, b) => {\n        const res1 = fn1(a, b);\n        const res2 = fn2(a, b);\n        return res1 + res2;\n    };\n};\nexports.datestring = (d) => {\n    if (typeof d === 'number') {\n        d = new Date(d);\n    }\n    return d.toISOString()\n        .replace(/T/, ' ') // replace T with a space\n        .replace(/\\..+/, ''); // delete the dot and everything after\n};\n/**\n * there ar emultiple ways how files are addressed inside packages\n * some tools and modules create absolute paths, some prefix with ./ or omit\n * therefore we need to compare all possible options to test for \"equality\"\n */\nexports.relativePathEquals = (path1, path2) => {\n    return ['', '/', './'].some(prefix => `${prefix}${path1.replace(/^\\.\\/+/g, '')}` === path2);\n};\nexports.normalizeRelativePath = (s) => {\n    if (!s.startsWith('./')) {\n        return `./${s}`;\n    }\n    return s;\n};\nexports.toIFile = (relPath, content) => {\n    const contentBuf = (typeof content === 'string') ? Buffer.from(content) : content;\n    const name = path_1.default.basename(relPath);\n    return {\n        name,\n        isDir: false,\n        size: contentBuf.byteLength,\n        readContent: () => Promise.resolve(contentBuf)\n    };\n};\nexports.toFile = exports.toIFile;\n// TODO consider moving to package utils\nexports.writeEntry = (pkg, relPath, content) => __awaiter(void 0, void 0, void 0, function* () {\n    const entry = exports.toIFile(relPath, content);\n    yield pkg.addEntry(relPath, entry);\n});\n//# sourceMappingURL=PackageUtils.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.PROCESS_STATES = {\n    FETCHING_RELEASE_LIST_STARTED: 'fetching_release_list_started',\n    FETCHING_RELEASE_LIST_FINISHED: 'fetching_release_list_finished',\n    FILTER_RELEASE_LIST_STARTED: 'filter_release_list_started',\n    FILTER_RELEASE_LIST_FINISHED: 'filter_release_list_finished',\n    FILTERED_INVALID_RELEASES: 'filtered_invalid_releases',\n    SORT_RELEASES_STARTED: 'sort_releases_started',\n    SORT_RELEASES_FINISHED: 'sort_releases_finished',\n    RESOLVE_PACKAGE_STARTED: 'resolve_package_started',\n    RESOLVE_PACKAGE_FINISHED: 'resolve_package_finished',\n    RELEASE_FOUND: 'release_found',\n    RELEASE_NOT_FOUND: 'release_not_found',\n    DOWNLOAD_STARTED: 'download_started',\n    DOWNLOAD_PROGRESS: 'download_progress',\n    DOWNLOAD_FINISHED: 'download_finished',\n    VERIFICATION_ERROR: 'verification_error',\n    VERIFICATION_FAILED: 'verification_failed',\n    WRITE_PACKAGE_STARTED: 'write_package_started',\n    WRITE_PACKAGE_FINISHED: 'write_package_finished',\n    CREATE_PACKAGE_STARTED: 'create_package_started',\n    CREATE_PACKAGE_PROGRESS: 'create_package_progress',\n    CREATE_PACKAGE_FINISHED: 'create_package_finished',\n    UNLOCKING_KEY_STARTED: 'unlocking_key_started',\n    UNLOCKING_KEY_FINISHED: 'unlocking_key_finished',\n    RESOLVE_ENS_STARTED: 'resolve_ens_started',\n    RESOLVE_ENS_FINISHED: 'resolve_ens_finished',\n    FINDING_KEY_BY_ALIAS_STARTED: 'finding_key_by_alias_started',\n    FINDING_KEY_BY_ALIAS_FINISHED: 'finding_key_by_alias_finished',\n    CREATE_SIGNING_KEY_STARTED: 'create_signing_key_started',\n    CREATE_SIGNING_KEY_FINISHED: 'create_signing_key_finished',\n    CREATE_PAYLOAD_STARTED: 'create_signing_payload_started',\n    CREATE_PAYLOAD_FINISHED: 'create_signing_payload_finished',\n    // verifySignature\n    VERIFY_JWS_STARTED: 'verify_jws_started',\n    VERIFY_JWS_FINISHED: 'verify_jws_finished',\n    COMPARE_DIGESTS_STARTED: 'compare_digests_started',\n    COMPARE_DIGESTS_FINISHED: 'compare_digests_finished',\n    RECOVER_SIGNATURE_ADDRESS_STARTED: 'recover_signature_address_started',\n    RECOVER_SIGNATURE_ADDRESS_FINISHED: 'recover_signature_address_finished',\n    // end: verifySignature\n    SIGNING_PAYLOAD_STARTED: 'signing_payload_started',\n    SIGNING_PAYLOAD_FINISHED: 'signing_payload_finished',\n    ADDING_SIGNATURE_METADATA_STARTED: 'adding_signature_metadata_started',\n    ADDING_SIGNATURE_METADATA_FINISHED: 'adding_signature_metadata_finished',\n    EXTRACT_PACKAGE_PROGRESS: 'extract_package_progress',\n    REPOSITORY_LOGIN_STARTED: 'repository_login_started',\n    REPOSITORY_LOGIN_FINISHED: 'repository_login_finished',\n    // upload\n    UPLOAD_STARTED: 'upload_started',\n    UPLOAD_PROGRESS: 'upload_progress',\n    UPLOAD_FINISHED: 'upload_finished',\n};\n//# sourceMappingURL=IStateListener.js.map","import React, { Component } from 'react'\n\nfunction FlatButton({ label }) {\n  return(\n    <div style={{ \n      display: 'inline-flex', \n      padding: 5,\n      backgroundColor: '#f5f6fa',\n      border: '1px solid #f5f6fa',\n      color: '#a3a9b5',\n      fontWeight: 'bold'\n      }}>\n      {label}\n    </div>\n  )\n}\n\nexport default class Pagination extends Component {\n  render() {\n    return (\n      <div style={{\n        alignSelf: 'flex-end',\n        padding: 5,\n        borderRadius: 10,\n        fontSize: '0.7rem'\n      }}>\n      <FlatButton label=\"<\"/> <FlatButton label=\"Page 2\"/> <FlatButton label=\">\"/> \n      </div>\n    )\n  }\n}\n","import React, { Component } from 'react'\nimport Pagination from './Pagination'\nimport Spinner from './Spinner'\nimport Error from './Error'\nimport { Row } from './Row'\n\n// TODO implement list header\n// class ListHeader extends Component { }\n\nexport default class List extends Component {\n  state = {\n    items: [],\n    isLoading: false,\n    error: undefined,\n    intervalHandler: undefined,\n    dataSource: undefined\n  }\n  componentDidMount = async () => {\n    const { polling, dataSource } = this.props\n    this.setState({\n      dataSource\n    })\n    this.loadItems()\n    if (polling) {\n      this.startPolling(polling)\n    }\n  }\n  componentWillUnmount() {\n    this.stopPolling()\n  }\n  loadItems = async () => {\n    const { loadItems = () => undefined, items: providedItems = [], processItems } = this.props\n    this.setState({\n      isLoading: true\n    })\n    try {\n      let items = (await loadItems()) || providedItems\n      // filter null and undefined\n      items = items.filter(item => !!item)\n      if (typeof processItems === 'function') {\n        items = processItems(items)\n      }\n      this.setState({\n        items,\n        isLoading: false\n      })\n    } catch (error) {\n      console.log('loading error', error)\n      this.setState({\n        error,\n        isLoading: false\n      })\n    }\n  }\n  startPolling = (interval) => {\n    const intervalHandler = setInterval(this.loadItems, interval)\n    this.setState({\n      intervalHandler\n    })\n  }\n  stopPolling = () => {\n    const { intervalHandler } = this.state\n    if (intervalHandler) {\n      clearInterval(intervalHandler)\n    }\n  }\n  static getDerivedStateFromProps(nextProps, prevState) {\n    if (nextProps.dataSource !== prevState.dataSource) {\n      return { dataSource: nextProps.dataSource }\n    }\n    return null\n  }\n  componentDidUpdate(prevProps, prevState) {\n    if(prevProps.dataSource !== this.props.dataSource ){\n      console.log('data source changed in list', this.props.dataSource)\n      this.loadItems()\n      // TODO handle polling here\n    }\n  }\n  renderLoading() {\n    return (\n      <div style={{\n        maxHeight: 300,\n        display: 'flex',\n        flexDirection: 'column',\n        opacity: 0.6,\n        alignItems: 'center'\n      }}>\n        <div style={{\n          fontSize: '2rem',\n          alignSelf: 'center',\n          margin: 20\n        }}>Loading items...</div>\n        <Spinner style={{\n          width: 50,\n          height: 50\n        }} />\n      </div>\n    )\n  }\n  renderHeader() {\n    const { items } = this.state\n    const { elements } = this.props\n    return (\n      <Row style={{\n        height: 40,\n        padding: 10,\n        backgroundColor: 'rgba(243, 243, 243, 0.1)',\n        alignItems: 'center'\n      }}>\n        {elements && elements()}\n\n        {items.length > 100 && <Pagination />}\n      </Row>\n    )\n  }\n  renderItems() {\n    const { items } = this.state\n    const { style, renderItem = () => { }, itemName = \"items\" } = this.props\n    return (\n      <div style={{\n        display: 'flex',\n        flexDirection: 'column',\n        overflow: 'auto',\n        ...style\n      }}>\n        {items.length > 0\n          ? items.map(renderItem)\n          : <h2 style={{ alignSelf: 'center', color: '#ccc' }}>No {itemName} found</h2>\n        }\n      </div>\n    )\n  }\n  render() {\n    const { isLoading, error } = this.state\n    const { header = true } = this.props\n    return (\n      <div\n        className=\"List\"\n        style={{\n          display: 'flex',\n          flex: 1,\n          flexDirection: 'column',\n        }}>\n        {header && this.renderHeader()}\n        {error\n          ? <Error error={error} />\n          : isLoading ? this.renderLoading() : this.renderItems()\n        }\n      </div>\n    )\n  }\n}\n","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst fs_1 = __importDefault(require(\"fs\"));\nconst path_1 = __importDefault(require(\"path\"));\nconst stream_1 = __importDefault(require(\"stream\"));\n// @ts-ignore\nconst xml2js_1 = require(\"xml2js\");\nconst IStateListener_1 = require(\"./IStateListener\");\nconst FilenameUtils_1 = require(\"./utils/FilenameUtils\");\n// https://github.com/ethereum/go-ethereum/wiki/Backup-&-restore#data-directory\nexports.getDefaultDataDir = () => {\n    switch (process.platform) {\n        case 'win32': return `${process.env.APPDATA}/Ethereum`;\n        case 'linux': return '~/.ethereum';\n        case 'darwin': return '~/Library/Ethereum';\n        default: return '~/.ethereum';\n    }\n};\nfunction parseXml(xml) {\n    return new Promise((resolve, reject) => {\n        xml2js_1.parseString(xml, (err, result) => {\n            if (err)\n                return reject(err);\n            resolve(result);\n        });\n    });\n}\nexports.parseXml = parseXml;\nexports.formatBytes = (bytes) => {\n    const kb = bytes / 1024;\n    const mb = kb / 1024;\n    if (mb > 1) {\n        return `${mb.toFixed(2)} MB`;\n    }\n    return `${kb.toFixed(2)} KB`;\n};\nexports.isDirPath = (str) => !path_1.default.extname(str);\nexports.isFilePath = (str) => str && !exports.isUrl(str) && (!!FilenameUtils_1.getExtension(str));\nexports.isDirSync = (filePath) => {\n    if (filePath === undefined) {\n        return false;\n    }\n    try {\n        const fileStats = fs_1.default.lstatSync(filePath);\n        return fileStats.isDirectory() && !fileStats.isSymbolicLink();\n    }\n    catch (error) {\n        return false;\n    }\n};\nexports.isFileSync = (filePath) => {\n    if (filePath === undefined) {\n        return false;\n    }\n    try {\n        const fileStats = fs_1.default.lstatSync(filePath);\n        return fileStats.isFile && !fileStats.isSymbolicLink() && !fileStats.isFIFO() && !fileStats.isSocket();\n    }\n    catch (error) {\n        return false;\n    }\n};\n// FIXME note that this is not performance optimized and we do multiple runs on the package data stream\nexports.extractPackage = (pkg, destPath, listener) => __awaiter(void 0, void 0, void 0, function* () {\n    // get a list of all entries in the package\n    const entries = yield pkg.getEntries();\n    // iterate over all entries and write them to disk next to the package\n    // WARNING packages can have different structures: if the .tar.gz has a nested dir it is fine\n    // if not the files will directly be in the directory which can cause all kinds of problems\n    // in this case we should try to create an extra subdir\n    const extractedPackagePath = destPath;\n    if (!fs_1.default.existsSync(extractedPackagePath)) {\n        fs_1.default.mkdirSync(extractedPackagePath, {\n            recursive: true\n        });\n    }\n    let i = 0;\n    for (const entry of entries) {\n        // the full path where we want to write the package entry's contents on disk\n        const destPath = path_1.default.join(extractedPackagePath, entry.relativePath);\n        // console.log('create dir sync', destPath)\n        if (entry.file.isDir) {\n            if (!fs_1.default.existsSync(destPath)) {\n                fs_1.default.mkdirSync(destPath, {\n                    recursive: true\n                });\n            }\n        }\n        else {\n            try {\n                // try to overwrite\n                if (fs_1.default.existsSync(destPath)) {\n                    fs_1.default.unlinkSync(destPath);\n                }\n                // IMPORTANT: if the binary already exists the mode cannot be set\n                // FIXME make sure the written file has same attributes / mode / permissions etc\n                fs_1.default.writeFileSync(destPath, yield entry.file.readContent());\n            }\n            catch (error) {\n                console.log('error during extraction', error);\n            }\n        }\n        // TODO change to size based progress?\n        const progress = Math.floor((100 / entries.length) * ++i);\n        if (listener) {\n            try {\n                listener(IStateListener_1.PROCESS_STATES.EXTRACT_PACKAGE_PROGRESS, {\n                    progress,\n                    file: entry.file.name\n                });\n            }\n            catch (error) {\n                console.log('error in onProgress handler');\n            }\n        }\n    }\n    return extractedPackagePath;\n});\nfunction runScriptSync(scriptName, scriptArgs, cwd) {\n    const scriptCommand = `${scriptName} ${scriptArgs.join(' ')}`;\n    const scriptOptions = {\n        stdio: ['inherit', 'inherit', 'inherit'],\n        // stdio: [null, null, null], // mute in and outputs\n        encoding: 'UTF-8'\n    };\n    if (cwd) {\n        // @ts-ignore\n        scriptOptions.cwd = cwd;\n    }\n    try {\n        const exec = require('child_process').execSync;\n        const result = exec(scriptCommand, scriptOptions);\n        return result;\n    }\n    catch (err) {\n        console.log(`Error running ${scriptName}`, err);\n    }\n}\nexports.runScriptSync = runScriptSync;\nfunction runScript(scriptName, scriptArgs, cwd) {\n    return __awaiter(this, void 0, void 0, function* () {\n        const scriptCommand = `${scriptName} ${scriptArgs.join(' ')}`;\n        const scriptOptions = {\n            stdio: [null, null, null],\n            encoding: 'UTF-8'\n        };\n        if (cwd) {\n            // @ts-ignore\n            scriptOptions.cwd = cwd;\n        }\n        try {\n            const util = require('util');\n            const exec = util.promisify(require('child_process').exec);\n            const { stdout } = yield exec(scriptCommand, scriptOptions);\n            return stdout;\n        }\n        catch (err) {\n            console.log(`Error running ${scriptName}`, err);\n            Promise.reject();\n        }\n    });\n}\nexports.runScript = runScript;\nexports.downloadNpmPackage = (moduleName) => __awaiter(void 0, void 0, void 0, function* () {\n    try {\n        let filename = yield runScript(`npm pack ${moduleName}`, []);\n        filename = filename.trim(); // can contain lf,\\n etc\n        const filePathFull = path_1.default.join(process.cwd(), filename);\n        return filePathFull;\n    }\n    catch (error) {\n        return null;\n    }\n});\nclass WritableMemoryStream extends stream_1.default.Writable {\n    constructor() {\n        super();\n        this.data = [];\n        this.buffer = undefined;\n        this.data = [];\n        this.once('finish', () => {\n            this.buffer = Buffer.concat(this.data);\n        });\n    }\n    _write(chunk, enc, cb) {\n        this.data.push(chunk);\n        cb();\n    }\n}\nexports.streamToBuffer = (stream, size) => __awaiter(void 0, void 0, void 0, function* () {\n    return new Promise((resolve, reject) => {\n        let mStream = new WritableMemoryStream();\n        // let fStream = fs.createWriteStream(__dirname+'/test')\n        let t0 = Date.now();\n        stream.pipe(mStream);\n        // stream.pipe(fStream)\n        let completed = 0;\n        stream.on('data', (data) => {\n            completed += data.length;\n            // console.log('data ', completed, '/', size)\n        });\n        stream.on('error', (error) => {\n            reject(error);\n        });\n        mStream.once('finish', () => {\n            resolve(mStream.buffer);\n        });\n        /*\n        stream.on('end', () => {\n          // console.log( ((Date.now()-t0) / 1000) , ' finished processing')\n          console.log('end of stream', completed, '/',  size)\n          if (!mStream.buffer) {\n            mStream.once('finish', () => {\n              console.log('finish called!!!')\n            })\n          } else {\n            // TODO make sure that buffer also contains bytes stream.end vs mStream.end\n            resolve(mStream.buffer)\n          }\n        })\n        */\n    });\n});\nexports.streamPromise = (stream) => {\n    return new Promise((resolve, reject) => {\n        stream.on('end', () => {\n            resolve('end');\n        });\n        stream.on('finish', () => {\n            resolve('finish');\n        });\n        stream.on('error', (error) => {\n            reject(error);\n        });\n    });\n};\nexports.bufferToStream = (buf) => {\n    const readable = new stream_1.default.Readable();\n    readable._read = () => { }; // _read is required but you can noop it\n    readable.push(buf);\n    readable.push(null);\n    return readable;\n};\nexports.isUrl = (str) => {\n    const urlRegex = '^(?!mailto:)(?:(?:http|https|ftp)://)(?:\\\\S+(?::\\\\S*)?@)?(?:(?:(?:[1-9]\\\\d?|1\\\\d\\\\d|2[01]\\\\d|22[0-3])(?:\\\\.(?:1?\\\\d{1,2}|2[0-4]\\\\d|25[0-5])){2}(?:\\\\.(?:[0-9]\\\\d?|1\\\\d\\\\d|2[0-4]\\\\d|25[0-4]))|(?:(?:[a-z\\\\u00a1-\\\\uffff0-9]+-?)*[a-z\\\\u00a1-\\\\uffff0-9]+)(?:\\\\.(?:[a-z\\\\u00a1-\\\\uffff0-9]+-?)*[a-z\\\\u00a1-\\\\uffff0-9]+)*(?:\\\\.(?:[a-z\\\\u00a1-\\\\uffff]{2,})))|localhost)(?::\\\\d{2,5})?(?:(/|\\\\?|#)[^\\\\s]*)?$';\n    const url = new RegExp(urlRegex, 'i');\n    return str.length < 2083 && url.test(str);\n};\nexports.localFileToIFile = (filePath) => {\n    const name = path_1.default.basename(filePath);\n    const isDir = exports.isDirSync(filePath);\n    const _content = fs_1.default.readFileSync(filePath);\n    const file = {\n        name,\n        size: _content.byteLength,\n        isDir,\n        readContent: () => Promise.resolve(_content)\n    };\n    return file;\n};\nexports.deleteFolderRecursive = function (dirPath) {\n    if (fs_1.default.existsSync(dirPath)) {\n        fs_1.default.readdirSync(dirPath).forEach((file) => {\n            const curPath = path_1.default.join(dirPath, file);\n            if (fs_1.default.lstatSync(curPath).isDirectory()) { // recurse\n                exports.deleteFolderRecursive(curPath);\n            }\n            else { // delete file\n                fs_1.default.unlinkSync(curPath);\n            }\n        });\n        fs_1.default.rmdirSync(dirPath);\n    }\n};\nexports.is = {\n    // due to jsdom all browser env detections will evaluate to true\n    // @ts-ignore\n    browser: () => typeof __webpack_require__ === 'function'\n};\nexports.sleep = (t = 2000) => new Promise((resolve, reject) => {\n    setTimeout(resolve, t);\n});\n//# sourceMappingURL=util.js.map","import React, { Component } from 'react'\n\nexport default class Error extends Component {\n  render() {\n    const { error } = this.props\n    return (\n      <div style={{ color: 'red' }}>\n        { error && error.message }\n      </div>\n    )\n  }\n}\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst path_1 = __importDefault(require(\"path\"));\n// the supported package extensions\nconst PACKAGE_EXTENSIONS = ['.zip', '.tar.gz', '.tgz', '.tar'];\n// this helper is especially used to support .tar.gz\nexports.getExtension = (fileName) => {\n    for (let i = 0; i < PACKAGE_EXTENSIONS.length; i++) {\n        const ext = PACKAGE_EXTENSIONS[i];\n        if (fileName.endsWith(ext)) {\n            return ext;\n        }\n    }\n    let ext = path_1.default.extname(fileName);\n    return ext.length > 2 ? ext : '';\n};\nexports.hasPackageExtension = (fileName) => {\n    if (!fileName)\n        return false;\n    fileName = fileName.trim();\n    const ext = exports.getExtension(fileName);\n    return PACKAGE_EXTENSIONS.includes(ext);\n};\nexports.hasSignatureExtension = (fileName) => {\n    if (fileName === undefined)\n        return false;\n    const ext = exports.getExtension(fileName);\n    return ext === '.asc';\n};\nexports.removeExtension = (fileName) => {\n    const ext = exports.getExtension(fileName);\n    return ext.length > 0 ? fileName.slice(0, -ext.length) : fileName;\n};\n//# sourceMappingURL=FilenameUtils.js.map"],"sourceRoot":""}